
<header>
    <h1>Alpine.js Notification</h1>
</header>

<main>
<h3>Button onclick triggers notification</h3>    
<div x-data>
  <div
    id="notificationWrapper"
    class="fixed top-4 w-64 right-4 space-y-2"
  ></div>

  <button
    x-on:click="$notify('Hello there, I am a notification!', {
    wrapperId: 'notificationWrapper',
    templateId: 'notificationAlert',
    autoClose: false,
    autoRemove: false
  })"
    class="notify"
  >
    Notify
  </button>
    
    <p>Note: Cannot use button close to dismiss Notification!</p>

<template id="notificationAlert" class="notification">
  <div class="notify-box data-[notify-show=true]:notify-in data-[notify-show=false]:notify-out">
    <div class="notify-icon">
    <svg xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" viewBox="0 0 50 50"><g fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="#6981ab" stroke-width="2" d="M25 18.75v8.333"/><path stroke="#6981ab" stroke-width="3" d="M25.104 35.417h-.208"/><path stroke="#306cfe" stroke-width="2" d="M21.354 8.73L5.48 37.5a4.166 4.166 0 0 0 3.646 6.25h31.75a4.167 4.167 0 0 0 3.646-6.25L28.646 8.73a4.166 4.166 0 0 0-7.292 0"/></g></svg>
    </div>
     
    <div role="alert" class="notify-text text-white bg-red-500 p-4">
      {notificationText}
    </div>
        
    <button x-on:click="$root.setAttribute('data-notify-show', false)" 
      class="notify-btn">
      Close
    </button>
          
   </div>
  </template>
</div>
<!-- /x-data --> 
<hr>
<h3>Second button using Promises</h3> 
<p>$nextTick returns a promise, allowing the use of $nextTick to pause an async function until after pending dom updates. When used like this, $nextTick also does not require an argument to be passed.</p>    
    <div x-data="{ title: 'Hello' }">
    <button
    @click="title = 'Hello World!';
    await $nextTick(); 
    $notify('Hello there, I am a notification!', {
    wrapperId: 'notificationWrapper',
    templateId: 'notificationAlert',
    autoClose: false,
    autoRemove: false
    })"
    class="notify"
x-text="title"
    ></button>
</div>
    
<xmp>
  <button
  @click="title = 'Hello World!';
    await $nextTick(); 
    $notify('Hello there, I am a notification!', {
    wrapperId: 'notificationWrapper',
    templateId: 'notificationAlert',
    autoClose: false,
    autoRemove: false
    })"
    x-text="title"
    class="notify"
    >
  </button>
</xmp>
    
<hr>
</main>