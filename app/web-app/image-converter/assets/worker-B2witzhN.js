const st={quality:50,qualityAlpha:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0,enableSharpYUV:!1,bitDepth:8,lossless:!1};function Ln(y,A,e={}){let P;return A&&(P=(D,ne)=>{const fe=new WebAssembly.Instance(A,D);return ne(fe),fe.exports}),y({noInitialRun:!0,instantiateWasm:P,...e})}const nt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),tt=()=>(async y=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(y)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));let Rn;const ft=()=>typeof process<"u"&&process.release&&process.release.name==="node",lt=()=>{var y;return((y=globalThis.caches)===null||y===void 0?void 0:y.default)!==void 0};async function ut(y,A){let e=y,P=A;if(arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),!ft()&&!lt()&&await tt()){const ne=await import("./avif_enc_mt-DL2yi-mK.js");return Rn=Ln(ne.default,e,P),Rn}const D=await import("./avif_enc-GHSQWwbh.js");return Rn=Ln(D.default,e,P),Rn}async function ct(y,A={}){Rn||(Rn=ut());const e={...st,...A};if(e.bitDepth!==8&&e.bitDepth!==10&&e.bitDepth!==12)throw new Error("Invalid bit depth. Supported values are 8, 10, or 12.");if(!(y.data instanceof Uint16Array)&&e.bitDepth!==8)throw new Error("Invalid image data for bit depth. Must use Uint16Array for bit depths greater than 8.");e.lossless&&(A.quality!==void 0&&A.quality!==100&&console.warn("AVIF lossless: Quality setting is ignored when lossless is enabled (quality must be 100)."),A.qualityAlpha!==void 0&&A.qualityAlpha!==100&&A.qualityAlpha!==-1&&console.warn("AVIF lossless: QualityAlpha setting is ignored when lossless is enabled (qualityAlpha must be 100 or -1)."),A.subsample!==void 0&&A.subsample!==3&&console.warn("AVIF lossless: Subsample setting is ignored when lossless is enabled (subsample must be 3 for YUV444)."),e.quality=100,e.qualityAlpha=-1,e.subsample=3);const D=(await Rn).encode(new Uint8Array(y.data.buffer),y.width,y.height,e);if(!D)throw new Error("Encoding error.");return D.buffer}var dt=(()=>{var y=import.meta.url;return(function(A={}){var e=A,P,D,ne=new Promise((f,u)=>{P=f,D=u});const cr=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,dr=typeof process=="object"&&process.release&&process.release.name==="node";(cr||dr)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(u,h,n){this.data=u,this.width=h,this.height=n}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var Le=Object.assign({},e),Ie=typeof window=="object",K=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var $e="";function Ce(f){return e.locateFile?e.locateFile(f,$e):$e+f}var J;(Ie||K)&&(K?$e=self.location.href:typeof document<"u"&&document.currentScript&&($e=document.currentScript.src),y&&($e=y),$e.startsWith("blob:")?$e="":$e=$e.substr(0,$e.replace(/[?#].*/,"").lastIndexOf("/")+1),K&&(J=f=>{var u=new XMLHttpRequest;return u.open("GET",f,!1),u.responseType="arraybuffer",u.send(null),new Uint8Array(u.response)}));var Oe=e.print||console.log.bind(console),ue=e.printErr||console.error.bind(console);Object.assign(e,Le),Le=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var De;e.wasmBinary&&(De=e.wasmBinary);var he,Re=!1,Te,ge,ie,B,x,H,ce,k;function q(){var f=he.buffer;e.HEAP8=Te=new Int8Array(f),e.HEAP16=ie=new Int16Array(f),e.HEAPU8=ge=new Uint8Array(f),e.HEAPU16=B=new Uint16Array(f),e.HEAP32=x=new Int32Array(f),e.HEAPU32=H=new Uint32Array(f),e.HEAPF32=ce=new Float32Array(f),e.HEAPF64=k=new Float64Array(f)}var Y=[],or=[],sr=[];function vr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Ur(e.preRun.shift());Ar(Y)}function pr(){Ar(or)}function Fr(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Zr(e.postRun.shift());Ar(sr)}function Ur(f){Y.unshift(f)}function Vr(f){or.unshift(f)}function Zr(f){sr.unshift(f)}var Qe=0,hr=null;function me(f){var u;Qe++,(u=e.monitorRunDependencies)==null||u.call(e,Qe)}function Me(f){var h;if(Qe--,(h=e.monitorRunDependencies)==null||h.call(e,Qe),Qe==0&&hr){var u=hr;hr=null,u()}}function qe(f){var h;(h=e.onAbort)==null||h.call(e,f),f="Aborted("+f+")",ue(f),Re=!0,f+=". Build with -sASSERTIONS for more info.";var u=new WebAssembly.RuntimeError(f);throw D(u),u}var Pe="data:application/octet-stream;base64,",xe=f=>f.startsWith(Pe),Ze;e.locateFile?(Ze="avif_dec.wasm",xe(Ze)||(Ze=Ce(Ze))):Ze=new URL("/assets/avif_dec-B7YOdlSS.wasm",import.meta.url).href;function er(f){if(f==Ze&&De)return new Uint8Array(De);if(J)return J(f);throw"both async and sync fetching of the wasm failed"}function de(f){return!De&&(Ie||K)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(u=>{if(!u.ok)throw`failed to load wasm binary file at '${f}'`;return u.arrayBuffer()}).catch(()=>er(f)):Promise.resolve().then(()=>er(f))}function gr(f,u,h){return de(f).then(n=>WebAssembly.instantiate(n,u)).then(h,n=>{ue(`failed to asynchronously prepare wasm: ${n}`),qe(n)})}function Ge(f,u,h,n){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!xe(u)&&typeof fetch=="function"?fetch(u,{credentials:"same-origin"}).then(i=>{var l=WebAssembly.instantiateStreaming(i,h);return l.then(n,function(r){return ue(`wasm streaming compile failed: ${r}`),ue("falling back to ArrayBuffer instantiation"),gr(u,h,n)})}):gr(u,h,n)}function je(){var f={a};function u(n,i){return s=n.exports,he=s.F,q(),Hr=s.K,Vr(s.G),Me(),s}me();function h(n){u(n.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(f,u)}catch(n){ue(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return Ge(De,Ze,f,h).catch(D),{}}var Ar=f=>{for(;f.length>0;)f.shift()(e)};e.noExitRuntime;var rr=f=>S(f),nr=()=>W(),_r=(f,u,h,n,i)=>{},Wr=()=>{for(var f=new Array(256),u=0;u<256;++u)f[u]=String.fromCharCode(u);fr=f},fr,Fe=f=>{for(var u="",h=f;ge[h];)u+=fr[ge[h++]];return u},Ve={},Ue={},ze={},oe,N=f=>{throw new oe(f)},ve,te=f=>{throw new ve(f)},We=(f,u,h)=>{f.forEach(function(t){ze[t]=u});function n(t){var o=h(t);o.length!==f.length&&te("Mismatched type converter count");for(var v=0;v<f.length;++v)be(f[v],o[v])}var i=new Array(u.length),l=[],r=0;u.forEach((t,o)=>{Ue.hasOwnProperty(t)?i[o]=Ue[t]:(l.push(t),Ve.hasOwnProperty(t)||(Ve[t]=[]),Ve[t].push(()=>{i[o]=Ue[t],++r,r===l.length&&n(i)}))}),l.length===0&&n(i)};function se(f,u,h={}){var n=u.name;if(f||N(`type "${n}" must have a positive integer typeid pointer`),Ue.hasOwnProperty(f)){if(h.ignoreDuplicateRegistrations)return;N(`Cannot register type '${n}' twice`)}if(Ue[f]=u,delete ze[f],Ve.hasOwnProperty(f)){var i=Ve[f];delete Ve[f],i.forEach(l=>l())}}function be(f,u,h={}){if(!("argPackAdvance"in u))throw new TypeError("registerType registeredInstance requires argPackAdvance");return se(f,u,h)}var Xe=8,en=(f,u,h,n)=>{u=Fe(u),be(f,{name:u,fromWireType:function(i){return!!i},toWireType:function(i,l){return l?h:n},argPackAdvance:Xe,readValueFromPointer:function(i){return this.fromWireType(ge[i])},destructorFunction:null})},lr=[],X=[],Q=f=>{f>9&&--X[f+1]===0&&(X[f]=void 0,lr.push(f))},_e=()=>X.length/2-5-lr.length,pe=()=>{X.push(0,1,void 0,1,null,1,!0,1,!1,1),e.count_emval_handles=_e},G={toValue:f=>(f||N("Cannot use deleted val. handle = "+f),X[f]),toHandle:f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const u=lr.pop()||X.length;return X[u]=f,X[u+1]=1,u}}}};function ae(f){return this.fromWireType(H[f>>2])}var rn={name:"emscripten::val",fromWireType:f=>{var u=G.toValue(f);return Q(f),u},toWireType:(f,u)=>G.toHandle(u),argPackAdvance:Xe,readValueFromPointer:ae,destructorFunction:null},we=f=>be(f,rn),Z=(f,u)=>{switch(u){case 4:return function(h){return this.fromWireType(ce[h>>2])};case 8:return function(h){return this.fromWireType(k[h>>3])};default:throw new TypeError(`invalid float width (${u}): ${f}`)}},Je=(f,u,h)=>{u=Fe(u),be(f,{name:u,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:Xe,readValueFromPointer:Z(u,h),destructorFunction:null})},Ae=(f,u)=>Object.defineProperty(u,"name",{value:f}),Sr=f=>{for(;f.length;){var u=f.pop(),h=f.pop();h(u)}};function tr(f){for(var u=1;u<f.length;++u)if(f[u]!==null&&f[u].destructorFunction===void 0)return!0;return!1}function ur(f,u,h,n,i,l){var r=u.length;r<2&&N("argTypes array size mismatch! Must at least get return value and 'this' types!"),u[1];var t=tr(u),o=u[0].name!=="void",v=r-2,g=new Array(v),m=[],T=[],C=function(...F){F.length!==v&&N(`function ${f} called with ${F.length} arguments, expected ${v}`),T.length=0;var I;m.length=1,m[0]=i;for(var M=0;M<v;++M)g[M]=u[M+2].toWireType(T,F[M]),m.push(g[M]);var z=n(...m);function Se(Ee){if(t)Sr(T);else for(var ke=2;ke<u.length;ke++){var Cn=ke===1?I:g[ke-2];u[ke].destructorFunction!==null&&u[ke].destructorFunction(Cn)}if(o)return u[0].fromWireType(Ee)}return Se(z)};return Ae(f,C)}var yr=(f,u,h)=>{if(f[u].overloadTable===void 0){var n=f[u];f[u]=function(...i){return f[u].overloadTable.hasOwnProperty(i.length)||N(`Function '${h}' called with an invalid number of arguments (${i.length}) - expects one of (${f[u].overloadTable})!`),f[u].overloadTable[i.length].apply(this,i)},f[u].overloadTable=[],f[u].overloadTable[n.argCount]=n}},ir=(f,u,h)=>{e.hasOwnProperty(f)?((h===void 0||e[f].overloadTable!==void 0&&e[f].overloadTable[h]!==void 0)&&N(`Cannot register public name '${f}' twice`),yr(e,f,f),e.hasOwnProperty(h)&&N(`Cannot register multiple overloads of a function with the same number of arguments (${h})!`),e[f].overloadTable[h]=u):(e[f]=u,h!==void 0&&(e[f].numArguments=h))},kr=(f,u)=>{for(var h=[],n=0;n<f;n++)h.push(H[u+n*4>>2]);return h},Ir=(f,u,h)=>{e.hasOwnProperty(f)||te("Replacing nonexistent public symbol"),e[f].overloadTable!==void 0&&h!==void 0?e[f].overloadTable[h]=u:(e[f]=u,e[f].argCount=h)},nn=(f,u,h)=>{f=f.replace(/p/g,"i");var n=e["dynCall_"+f];return n(u,...h)},Hr,Ke=f=>Hr.get(f),tn=(f,u,h=[])=>{if(f.includes("j"))return nn(f,u,h);var n=Ke(u)(...h);return n},an=(f,u)=>(...h)=>tn(f,u,h),$r=(f,u)=>{f=Fe(f);function h(){return f.includes("j")?an(f,u):Ke(u)}var n=h();return typeof n!="function"&&N(`unknown function pointer with signature ${f}: ${u}`),n},Br=(f,u)=>{var h=Ae(u,function(n){this.name=u,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},h},He,Tr=f=>{var u=p(f),h=Fe(u);return w(u),h},mr=(f,u)=>{var h=[],n={};function i(l){if(!n[l]&&!Ue[l]){if(ze[l]){ze[l].forEach(i);return}h.push(l),n[l]=!0}}throw u.forEach(i),new He(`${f}: `+h.map(Tr).join([", "]))},Nr=f=>{f=f.trim();const u=f.indexOf("(");return u!==-1?f.substr(0,u):f},on=(f,u,h,n,i,l,r)=>{var t=kr(u,h);f=Fe(f),f=Nr(f),i=$r(n,i),ir(f,function(){mr(`Cannot call ${f} due to unbound types`,t)},u-1),We([],t,o=>{var v=[o[0],null].concat(o.slice(1));return Ir(f,ur(f,v,null,i,l),u-1),[]})},ar=(f,u,h)=>{switch(u){case 1:return h?n=>Te[n]:n=>ge[n];case 2:return h?n=>ie[n>>1]:n=>B[n>>1];case 4:return h?n=>x[n>>2]:n=>H[n>>2];default:throw new TypeError(`invalid integer width (${u}): ${f}`)}},Or=(f,u,h,n,i)=>{u=Fe(u);var l=g=>g;if(n===0){var r=32-8*h;l=g=>g<<r>>>r}var t=u.includes("unsigned"),o=(g,m)=>{},v;t?v=function(g,m){return o(m,this.name),m>>>0}:v=function(g,m){return o(m,this.name),m},be(f,{name:u,fromWireType:l,toWireType:v,argPackAdvance:Xe,readValueFromPointer:ar(u,h,n!==0),destructorFunction:null})},jr=(f,u,h)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[u];function l(r){var t=H[r>>2],o=H[r+4>>2];return new i(Te.buffer,o,t)}h=Fe(h),be(f,{name:h,fromWireType:l,argPackAdvance:Xe,readValueFromPointer:l},{ignoreDuplicateRegistrations:!0})},Dr=(f,u,h,n)=>{if(!(n>0))return 0;for(var i=h,l=h+n-1,r=0;r<f.length;++r){var t=f.charCodeAt(r);if(t>=55296&&t<=57343){var o=f.charCodeAt(++r);t=65536+((t&1023)<<10)|o&1023}if(t<=127){if(h>=l)break;u[h++]=t}else if(t<=2047){if(h+1>=l)break;u[h++]=192|t>>6,u[h++]=128|t&63}else if(t<=65535){if(h+2>=l)break;u[h++]=224|t>>12,u[h++]=128|t>>6&63,u[h++]=128|t&63}else{if(h+3>=l)break;u[h++]=240|t>>18,u[h++]=128|t>>12&63,u[h++]=128|t>>6&63,u[h++]=128|t&63}}return u[h]=0,h-i},sn=(f,u,h)=>Dr(f,ge,u,h),fn=f=>{for(var u=0,h=0;h<f.length;++h){var n=f.charCodeAt(h);n<=127?u++:n<=2047?u+=2:n>=55296&&n<=57343?(u+=4,++h):u+=3}return u},Lr=(f,u,h)=>{for(var n=u+h,i="";!(u>=n);){var l=f[u++];if(!l)return i;if(!(l&128)){i+=String.fromCharCode(l);continue}var r=f[u++]&63;if((l&224)==192){i+=String.fromCharCode((l&31)<<6|r);continue}var t=f[u++]&63;if((l&240)==224?l=(l&15)<<12|r<<6|t:l=(l&7)<<18|r<<12|t<<6|f[u++]&63,l<65536)i+=String.fromCharCode(l);else{var o=l-65536;i+=String.fromCharCode(55296|o>>10,56320|o&1023)}}return i},ln=(f,u)=>f?Lr(ge,f,u):"",un=(f,u)=>{u=Fe(u);var h=u==="std::string";be(f,{name:u,fromWireType(n){var i=H[n>>2],l=n+4,r;if(h)for(var t=l,o=0;o<=i;++o){var v=l+o;if(o==i||ge[v]==0){var g=v-t,m=ln(t,g);r===void 0?r=m:(r+="\0",r+=m),t=v+1}}else{for(var T=new Array(i),o=0;o<i;++o)T[o]=String.fromCharCode(ge[l+o]);r=T.join("")}return w(n),r},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var l,r=typeof i=="string";r||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||N("Cannot pass non-string to std::string"),h&&r?l=fn(i):l=i.length;var t=b(4+l+1),o=t+4;if(H[t>>2]=l,h&&r)sn(i,o,l+1);else if(r)for(var v=0;v<l;++v){var g=i.charCodeAt(v);g>255&&(w(o),N("String has UTF-16 code units that do not fit in 8 bits")),ge[o+v]=g}else for(var v=0;v<l;++v)ge[o+v]=i[v];return n!==null&&n.push(w,t),t},argPackAdvance:Xe,readValueFromPointer:ae,destructorFunction(n){w(n)}})},cn=(f,u)=>{for(var h="",n=0;!(n>=u/2);++n){var i=ie[f+n*2>>1];if(i==0)break;h+=String.fromCharCode(i)}return h},dn=(f,u,h)=>{if(h??(h=2147483647),h<2)return 0;h-=2;for(var n=u,i=h<f.length*2?h/2:f.length,l=0;l<i;++l){var r=f.charCodeAt(l);ie[u>>1]=r,u+=2}return ie[u>>1]=0,u-n},qr=f=>f.length*2,vn=(f,u)=>{for(var h=0,n="";!(h>=u/4);){var i=x[f+h*4>>2];if(i==0)break;if(++h,i>=65536){var l=i-65536;n+=String.fromCharCode(55296|l>>10,56320|l&1023)}else n+=String.fromCharCode(i)}return n},xr=(f,u,h)=>{if(h??(h=2147483647),h<4)return 0;for(var n=u,i=n+h-4,l=0;l<f.length;++l){var r=f.charCodeAt(l);if(r>=55296&&r<=57343){var t=f.charCodeAt(++l);r=65536+((r&1023)<<10)|t&1023}if(x[u>>2]=r,u+=4,u+4>i)break}return x[u>>2]=0,u-n},pn=f=>{for(var u=0,h=0;h<f.length;++h){var n=f.charCodeAt(h);n>=55296&&n<=57343&&++h,u+=4}return u},hn=(f,u,h)=>{h=Fe(h);var n,i,l,r;u===2?(n=cn,i=dn,r=qr,l=t=>B[t>>1]):u===4&&(n=vn,i=xr,r=pn,l=t=>H[t>>2]),be(f,{name:h,fromWireType:t=>{for(var o=H[t>>2],v,g=t+4,m=0;m<=o;++m){var T=t+4+m*u;if(m==o||l(T)==0){var C=T-g,F=n(g,C);v===void 0?v=F:(v+="\0",v+=F),g=T+u}}return w(t),v},toWireType:(t,o)=>{typeof o!="string"&&N(`Cannot pass non-string to C++ string type ${h}`);var v=r(o),g=b(4+v+u);return H[g>>2]=v/u,i(o,g+4,v+u),t!==null&&t.push(w,g),g},argPackAdvance:Xe,readValueFromPointer:ae,destructorFunction(t){w(t)}})},gn=(f,u)=>{u=Fe(u),be(f,{isVoid:!0,name:u,argPackAdvance:0,fromWireType:()=>{},toWireType:(h,n)=>{}})},_n=()=>{throw 1/0},br=[],yn=(f,u,h,n)=>(f=br[f],u=G.toValue(u),f(null,u,h,n)),Gr={},Mr=f=>{var u=Gr[f];return u===void 0?Fe(f):u},mn=(f,u,h,n,i)=>(f=br[f],u=G.toValue(u),h=Mr(h),f(u,u[h],n,i)),wr=()=>{if(typeof globalThis=="object")return globalThis;function f(u){u.$$$embind_global$$$=u;var h=typeof $$$embind_global$$$=="object"&&u.$$$embind_global$$$==u;return h||delete u.$$$embind_global$$$,h}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&f(global)?$$$embind_global$$$=global:typeof self=="object"&&f(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},bn=f=>f===0?G.toHandle(wr()):(f=Mr(f),G.toHandle(wr()[f])),zr=f=>{var u=br.length;return br.push(f),u},Xr=(f,u)=>{var h=Ue[f];return h===void 0&&N(`${u} has unknown type ${Tr(f)}`),h},Er=(f,u)=>{for(var h=new Array(f),n=0;n<f;++n)h[n]=Xr(H[u+n*4>>2],"parameter "+n);return h},wn=Reflect.construct,An=(f,u,h)=>{var n=[],i=f.toWireType(n,h);return n.length&&(H[u>>2]=G.toHandle(n)),i},$n=(f,u,h)=>{var n=Er(f,u),i=n.shift();f--;var l=new Array(f),r=(o,v,g,m)=>{for(var T=0,C=0;C<f;++C)l[C]=n[C].readValueFromPointer(m+T),T+=n[C].argPackAdvance;var F=h===1?wn(v,l):v.apply(o,l);return An(i,g,F)},t=`methodCaller<(${n.map(o=>o.name).join(", ")}) => ${i.name}>`;return zr(Ae(t,r))},Cr=f=>G.toHandle(Mr(f)),Be=f=>{var u=G.toValue(f);Sr(u),Q(f)},Jr=(f,u,h)=>{f=G.toValue(f),u=G.toValue(u),h=G.toValue(h),f[u]=h},Kr=(f,u)=>{f=Xr(f,"_emval_take_value");var h=f.readValueFromPointer(u);return G.toHandle(h)},Rr=()=>{qe("")},Yr=()=>2147483648,c=f=>{var u=he.buffer,h=(f-u.byteLength+65535)/65536;try{return he.grow(h),q(),1}catch{}},d=f=>{var u=ge.length;f>>>=0;var h=Yr();if(f>h)return!1;for(var n=(o,v)=>o+(v-o%v)%v,i=1;i<=4;i*=2){var l=u*(1+.2/i);l=Math.min(l,f+100663296);var r=Math.min(h,n(Math.max(f,l),65536)),t=c(r);if(t)return!0}return!1},_=f=>52;function $(f,u,h,n,i){return 70}var R=[null,[],[]],U=(f,u)=>{var h=R[f];u===0||u===10?((f===1?Oe:ue)(Lr(h,0)),h.length=0):h.push(u)},O=(f,u,h,n)=>{for(var i=0,l=0;l<h;l++){var r=H[u>>2],t=H[u+4>>2];u+=8;for(var o=0;o<t;o++)U(f,ge[r+o]);i+=t}return H[n>>2]=i,0};Wr(),oe=e.BindingError=class extends Error{constructor(u){super(u),this.name="BindingError"}},ve=e.InternalError=class extends Error{constructor(u){super(u),this.name="InternalError"}},pe(),He=e.UnboundTypeError=Br(Error,"UnboundTypeError");var a={p:_r,m:en,l:we,i:Je,x:on,c:Or,b:jr,j:un,g:hn,o:gn,u:_n,f:yn,B:mn,D:Q,E:bn,e:$n,A:Cr,C:Be,h:Jr,z:Kr,a:Rr,v:d,w:_,n:$,y:O,d:ee,r:L,s:le,t:j,k:V,q:Ne},s=je(),p=f=>(p=s.H)(f),b=f=>(b=s.I)(f),w=f=>(w=s.J)(f),E=(f,u)=>(E=s.L)(f,u),S=f=>(S=s.M)(f),W=()=>(W=s.N)();e.dynCall_iiijii=(f,u,h,n,i,l,r)=>(e.dynCall_iiijii=s.O)(f,u,h,n,i,l,r),e.dynCall_jiji=(f,u,h,n,i)=>(e.dynCall_jiji=s.P)(f,u,h,n,i);function j(f,u){var h=nr();try{Ke(f)(u)}catch(n){if(rr(h),n!==n+0)throw n;E(1,0)}}function V(f,u,h,n,i){var l=nr();try{Ke(f)(u,h,n,i)}catch(r){if(rr(l),r!==r+0)throw r;E(1,0)}}function le(f){var u=nr();try{Ke(f)()}catch(h){if(rr(u),h!==h+0)throw h;E(1,0)}}function ee(f,u,h){var n=nr();try{return Ke(f)(u,h)}catch(i){if(rr(n),i!==i+0)throw i;E(1,0)}}function L(f,u,h,n,i){var l=nr();try{return Ke(f)(u,h,n,i)}catch(r){if(rr(l),r!==r+0)throw r;E(1,0)}}function Ne(f,u,h,n,i,l,r,t){var o=nr();try{Ke(f)(u,h,n,i,l,r,t)}catch(v){if(rr(o),v!==v+0)throw v;E(1,0)}}var Ye;hr=function f(){Ye||re(),Ye||(hr=f)};function re(){if(Qe>0||(vr(),Qe>0))return;function f(){Ye||(Ye=!0,e.calledRun=!0,!Re&&(pr(),P(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Fr()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),f()},1)):f()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return re(),ne})})();let qn;async function vt(y,A){let e=y,P=A;arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),qn=Ln(dt,e,P)}async function pt(y,A){var e;qn||vt();const P=await qn,D=(e=void 0)!==null&&e!==void 0?e:8,ne=P.decode(y,D);if(!ne)throw new Error("Decoding error");return ne}var ht=(()=>{var y=import.meta.url;return(function(A={}){var e=A,P,D,ne=new Promise((r,t)=>{P=r,D=t});const cr=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,dr=typeof process=="object"&&process.release&&process.release.name==="node";(cr||dr)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(t,o,v){this.data=t,this.width=o,this.height=v}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var Le=Object.assign({},e),Ie="./this.program",K=(r,t)=>{throw t},$e=typeof window=="object",Ce=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var J="";function Oe(r){return e.locateFile?e.locateFile(r,J):J+r}var ue;($e||Ce)&&(Ce?J=self.location.href:typeof document<"u"&&document.currentScript&&(J=document.currentScript.src),y&&(J=y),J.startsWith("blob:")?J="":J=J.substr(0,J.replace(/[?#].*/,"").lastIndexOf("/")+1),Ce&&(ue=r=>{var t=new XMLHttpRequest;return t.open("GET",r,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var De=e.print||console.log.bind(console),he=e.printErr||console.error.bind(console);Object.assign(e,Le),Le=null,e.arguments&&e.arguments,e.thisProgram&&(Ie=e.thisProgram),e.quit&&(K=e.quit);var Re;e.wasmBinary&&(Re=e.wasmBinary);var Te,ge=!1,ie,B,x,H,ce,k,q,Y;function or(){var r=Te.buffer;e.HEAP8=ie=new Int8Array(r),e.HEAP16=x=new Int16Array(r),e.HEAPU8=B=new Uint8Array(r),e.HEAPU16=H=new Uint16Array(r),e.HEAP32=ce=new Int32Array(r),e.HEAPU32=k=new Uint32Array(r),e.HEAPF32=q=new Float32Array(r),e.HEAPF64=Y=new Float64Array(r)}var sr=[],vr=[],pr=[];function Fr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Zr(e.preRun.shift());_r(sr)}function Ur(){_r(vr)}function Vr(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)hr(e.postRun.shift());_r(pr)}function Zr(r){sr.unshift(r)}function Qe(r){vr.unshift(r)}function hr(r){pr.unshift(r)}var me=0,Me=null;function qe(r){var t;me++,(t=e.monitorRunDependencies)==null||t.call(e,me)}function Pe(r){var o;if(me--,(o=e.monitorRunDependencies)==null||o.call(e,me),me==0&&Me){var t=Me;Me=null,t()}}function xe(r){var o;(o=e.onAbort)==null||o.call(e,r),r="Aborted("+r+")",he(r),ge=!0,r+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(r);throw D(t),t}var Ze="data:application/octet-stream;base64,",er=r=>r.startsWith(Ze),de;e.locateFile?(de="mozjpeg_enc.wasm",er(de)||(de=Oe(de))):de=new URL("/assets/mozjpeg_enc-DO-zoExo.wasm",import.meta.url).href;function gr(r){if(r==de&&Re)return new Uint8Array(Re);if(ue)return ue(r);throw"both async and sync fetching of the wasm failed"}function Ge(r){return!Re&&($e||Ce)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${r}'`;return t.arrayBuffer()}).catch(()=>gr(r)):Promise.resolve().then(()=>gr(r))}function je(r,t,o){return Ge(r).then(v=>WebAssembly.instantiate(v,t)).then(o,v=>{he(`failed to asynchronously prepare wasm: ${v}`),xe(v)})}function Ar(r,t,o,v){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!er(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(g=>{var m=WebAssembly.instantiateStreaming(g,o);return m.then(v,function(T){return he(`wasm streaming compile failed: ${T}`),he("falling back to ArrayBuffer instantiation"),je(t,o,v)})}):je(t,o,v)}function rr(){var r={a:Ye};function t(v,g){return re=v.exports,Te=re.C,or(),Tr=re.H,Qe(re.D),Pe(),re}qe();function o(v){t(v.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(r,t)}catch(v){he(`Module.instantiateWasm callback failed with error: ${v}`),D(v)}return Ar(Re,de,r,o).catch(D),{}}function nr(r){this.name="ExitStatus",this.message=`Program terminated with exit(${r})`,this.status=r}var _r=r=>{for(;r.length>0;)r.shift()(e)};e.noExitRuntime;class Wr{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){k[this.ptr+4>>2]=t}get_type(){return k[this.ptr+4>>2]}set_destructor(t){k[this.ptr+8>>2]=t}get_destructor(){return k[this.ptr+8>>2]}set_caught(t){t=t?1:0,ie[this.ptr+12]=t}get_caught(){return ie[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,ie[this.ptr+13]=t}get_rethrown(){return ie[this.ptr+13]!=0}init(t,o){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(o)}set_adjusted_ptr(t){k[this.ptr+16>>2]=t}get_adjusted_ptr(){return k[this.ptr+16>>2]}get_exception_ptr(){var t=n(this.get_type());if(t)return k[this.excPtr>>2];var o=this.get_adjusted_ptr();return o!==0?o:this.excPtr}}var fr=0,Fe=(r,t,o)=>{var v=new Wr(r);throw v.init(t,o),fr=r,fr},Ve={},Ue=r=>{for(;r.length;){var t=r.pop(),o=r.pop();o(t)}};function ze(r){return this.fromWireType(k[r>>2])}var oe={},N={},ve={},te,We=r=>{throw new te(r)},se=(r,t,o)=>{r.forEach(function(C){ve[C]=t});function v(C){var F=o(C);F.length!==r.length&&We("Mismatched type converter count");for(var I=0;I<r.length;++I)G(r[I],F[I])}var g=new Array(t.length),m=[],T=0;t.forEach((C,F)=>{N.hasOwnProperty(C)?g[F]=N[C]:(m.push(C),oe.hasOwnProperty(C)||(oe[C]=[]),oe[C].push(()=>{g[F]=N[C],++T,T===m.length&&v(g)}))}),m.length===0&&v(g)},be=r=>{var t=Ve[r];delete Ve[r];var o=t.rawConstructor,v=t.rawDestructor,g=t.fields,m=g.map(T=>T.getterReturnType).concat(g.map(T=>T.setterArgumentType));se([r],m,T=>{var C={};return g.forEach((F,I)=>{var M=F.fieldName,z=T[I],Se=F.getter,Ee=F.getterContext,ke=T[I+g.length],Cn=F.setter,Qr=F.setterContext;C[M]={read:Pr=>z.fromWireType(Se(Ee,Pr)),write:(Pr,Un)=>{var jn=[];Cn(Qr,Pr,ke.toWireType(jn,Un)),Ue(jn)}}}),[{name:t.name,fromWireType:F=>{var I={};for(var M in C)I[M]=C[M].read(F);return v(F),I},toWireType:(F,I)=>{for(var M in C)if(!(M in I))throw new TypeError(`Missing field: "${M}"`);var z=o();for(M in C)C[M].write(z,I[M]);return F!==null&&F.push(v,z),z},argPackAdvance:ae,readValueFromPointer:ze,destructorFunction:v}]})},Xe=(r,t,o,v,g)=>{},en=()=>{for(var r=new Array(256),t=0;t<256;++t)r[t]=String.fromCharCode(t);lr=r},lr,X=r=>{for(var t="",o=r;B[o];)t+=lr[B[o++]];return t},Q,_e=r=>{throw new Q(r)};function pe(r,t,o={}){var v=t.name;if(r||_e(`type "${v}" must have a positive integer typeid pointer`),N.hasOwnProperty(r)){if(o.ignoreDuplicateRegistrations)return;_e(`Cannot register type '${v}' twice`)}if(N[r]=t,delete ve[r],oe.hasOwnProperty(r)){var g=oe[r];delete oe[r],g.forEach(m=>m())}}function G(r,t,o={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return pe(r,t,o)}var ae=8,rn=(r,t,o,v)=>{t=X(t),G(r,{name:t,fromWireType:function(g){return!!g},toWireType:function(g,m){return m?o:v},argPackAdvance:ae,readValueFromPointer:function(g){return this.fromWireType(B[g])},destructorFunction:null})},we=[],Z=[],Je=r=>{r>9&&--Z[r+1]===0&&(Z[r]=void 0,we.push(r))},Ae=()=>Z.length/2-5-we.length,Sr=()=>{Z.push(0,1,void 0,1,null,1,!0,1,!1,1),e.count_emval_handles=Ae},tr={toValue:r=>(r||_e("Cannot use deleted val. handle = "+r),Z[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=we.pop()||Z.length;return Z[t]=r,Z[t+1]=1,t}}}},ur={name:"emscripten::val",fromWireType:r=>{var t=tr.toValue(r);return Je(r),t},toWireType:(r,t)=>tr.toHandle(t),argPackAdvance:ae,readValueFromPointer:ze,destructorFunction:null},yr=r=>G(r,ur),ir=(r,t)=>{switch(t){case 4:return function(o){return this.fromWireType(q[o>>2])};case 8:return function(o){return this.fromWireType(Y[o>>3])};default:throw new TypeError(`invalid float width (${t}): ${r}`)}},kr=(r,t,o)=>{t=X(t),G(r,{name:t,fromWireType:v=>v,toWireType:(v,g)=>g,argPackAdvance:ae,readValueFromPointer:ir(t,o),destructorFunction:null})},Ir=(r,t)=>Object.defineProperty(t,"name",{value:r});function nn(r){for(var t=1;t<r.length;++t)if(r[t]!==null&&r[t].destructorFunction===void 0)return!0;return!1}function Hr(r,t,o,v,g,m){var T=t.length;T<2&&_e("argTypes array size mismatch! Must at least get return value and 'this' types!"),t[1];var C=nn(t),F=t[0].name!=="void",I=T-2,M=new Array(I),z=[],Se=[],Ee=function(...ke){ke.length!==I&&_e(`function ${r} called with ${ke.length} arguments, expected ${I}`),Se.length=0;var Cn;z.length=1,z[0]=g;for(var Qr=0;Qr<I;++Qr)M[Qr]=t[Qr+2].toWireType(Se,ke[Qr]),z.push(M[Qr]);var Pr=v(...z);function Un(jn){if(C)Ue(Se);else for(var Fn=2;Fn<t.length;Fn++){var ot=Fn===1?Cn:M[Fn-2];t[Fn].destructorFunction!==null&&t[Fn].destructorFunction(ot)}if(F)return t[0].fromWireType(jn)}return Un(Pr)};return Ir(r,Ee)}var Ke=(r,t,o)=>{if(r[t].overloadTable===void 0){var v=r[t];r[t]=function(...g){return r[t].overloadTable.hasOwnProperty(g.length)||_e(`Function '${o}' called with an invalid number of arguments (${g.length}) - expects one of (${r[t].overloadTable})!`),r[t].overloadTable[g.length].apply(this,g)},r[t].overloadTable=[],r[t].overloadTable[v.argCount]=v}},tn=(r,t,o)=>{e.hasOwnProperty(r)?((o===void 0||e[r].overloadTable!==void 0&&e[r].overloadTable[o]!==void 0)&&_e(`Cannot register public name '${r}' twice`),Ke(e,r,r),e.hasOwnProperty(o)&&_e(`Cannot register multiple overloads of a function with the same number of arguments (${o})!`),e[r].overloadTable[o]=t):(e[r]=t,o!==void 0&&(e[r].numArguments=o))},an=(r,t)=>{for(var o=[],v=0;v<r;v++)o.push(k[t+v*4>>2]);return o},$r=(r,t,o)=>{e.hasOwnProperty(r)||We("Replacing nonexistent public symbol"),e[r].overloadTable!==void 0&&o!==void 0?e[r].overloadTable[o]=t:(e[r]=t,e[r].argCount=o)},Br=(r,t,o)=>{r=r.replace(/p/g,"i");var v=e["dynCall_"+r];return v(t,...o)},He=[],Tr,mr=r=>{var t=He[r];return t||(r>=He.length&&(He.length=r+1),He[r]=t=Tr.get(r)),t},Nr=(r,t,o=[])=>{if(r.includes("j"))return Br(r,t,o);var v=mr(t)(...o);return v},on=(r,t)=>(...o)=>Nr(r,t,o),ar=(r,t)=>{r=X(r);function o(){return r.includes("j")?on(r,t):mr(t)}var v=o();return typeof v!="function"&&_e(`unknown function pointer with signature ${r}: ${t}`),v},Or=(r,t)=>{var o=Ir(t,function(v){this.name=t,this.message=v;var g=new Error(v).stack;g!==void 0&&(this.stack=this.toString()+`
`+g.replace(/^Error(:[^\n]*)?\n/,""))});return o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},o},jr,Dr=r=>{var t=f(r),o=X(t);return h(t),o},sn=(r,t)=>{var o=[],v={};function g(m){if(!v[m]&&!N[m]){if(ve[m]){ve[m].forEach(g);return}o.push(m),v[m]=!0}}throw t.forEach(g),new jr(`${r}: `+o.map(Dr).join([", "]))},fn=r=>{r=r.trim();const t=r.indexOf("(");return t!==-1?r.substr(0,t):r},Lr=(r,t,o,v,g,m,T)=>{var C=an(t,o);r=X(r),r=fn(r),g=ar(v,g),tn(r,function(){sn(`Cannot call ${r} due to unbound types`,C)},t-1),se([],C,F=>{var I=[F[0],null].concat(F.slice(1));return $r(r,Hr(r,I,null,g,m),t-1),[]})},ln=(r,t,o)=>{switch(t){case 1:return o?v=>ie[v]:v=>B[v];case 2:return o?v=>x[v>>1]:v=>H[v>>1];case 4:return o?v=>ce[v>>2]:v=>k[v>>2];default:throw new TypeError(`invalid integer width (${t}): ${r}`)}},un=(r,t,o,v,g)=>{t=X(t);var m=M=>M;if(v===0){var T=32-8*o;m=M=>M<<T>>>T}var C=t.includes("unsigned"),F=(M,z)=>{},I;C?I=function(M,z){return F(z,this.name),z>>>0}:I=function(M,z){return F(z,this.name),z},G(r,{name:t,fromWireType:m,toWireType:I,argPackAdvance:ae,readValueFromPointer:ln(t,o,v!==0),destructorFunction:null})},cn=(r,t,o)=>{var v=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],g=v[t];function m(T){var C=k[T>>2],F=k[T+4>>2];return new g(ie.buffer,F,C)}o=X(o),G(r,{name:o,fromWireType:m,argPackAdvance:ae,readValueFromPointer:m},{ignoreDuplicateRegistrations:!0})},dn=(r,t,o,v)=>{if(!(v>0))return 0;for(var g=o,m=o+v-1,T=0;T<r.length;++T){var C=r.charCodeAt(T);if(C>=55296&&C<=57343){var F=r.charCodeAt(++T);C=65536+((C&1023)<<10)|F&1023}if(C<=127){if(o>=m)break;t[o++]=C}else if(C<=2047){if(o+1>=m)break;t[o++]=192|C>>6,t[o++]=128|C&63}else if(C<=65535){if(o+2>=m)break;t[o++]=224|C>>12,t[o++]=128|C>>6&63,t[o++]=128|C&63}else{if(o+3>=m)break;t[o++]=240|C>>18,t[o++]=128|C>>12&63,t[o++]=128|C>>6&63,t[o++]=128|C&63}}return t[o]=0,o-g},qr=(r,t,o)=>dn(r,B,t,o),vn=r=>{for(var t=0,o=0;o<r.length;++o){var v=r.charCodeAt(o);v<=127?t++:v<=2047?t+=2:v>=55296&&v<=57343?(t+=4,++o):t+=3}return t},xr=(r,t,o)=>{for(var v=t+o,g="";!(t>=v);){var m=r[t++];if(!m)return g;if(!(m&128)){g+=String.fromCharCode(m);continue}var T=r[t++]&63;if((m&224)==192){g+=String.fromCharCode((m&31)<<6|T);continue}var C=r[t++]&63;if((m&240)==224?m=(m&15)<<12|T<<6|C:m=(m&7)<<18|T<<12|C<<6|r[t++]&63,m<65536)g+=String.fromCharCode(m);else{var F=m-65536;g+=String.fromCharCode(55296|F>>10,56320|F&1023)}}return g},pn=(r,t)=>r?xr(B,r,t):"",hn=(r,t)=>{t=X(t);var o=t==="std::string";G(r,{name:t,fromWireType(v){var g=k[v>>2],m=v+4,T;if(o)for(var C=m,F=0;F<=g;++F){var I=m+F;if(F==g||B[I]==0){var M=I-C,z=pn(C,M);T===void 0?T=z:(T+="\0",T+=z),C=I+1}}else{for(var Se=new Array(g),F=0;F<g;++F)Se[F]=String.fromCharCode(B[m+F]);T=Se.join("")}return h(v),T},toWireType(v,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var m,T=typeof g=="string";T||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array||_e("Cannot pass non-string to std::string"),o&&T?m=vn(g):m=g.length;var C=u(4+m+1),F=C+4;if(k[C>>2]=m,o&&T)qr(g,F,m+1);else if(T)for(var I=0;I<m;++I){var M=g.charCodeAt(I);M>255&&(h(F),_e("String has UTF-16 code units that do not fit in 8 bits")),B[F+I]=M}else for(var I=0;I<m;++I)B[F+I]=g[I];return v!==null&&v.push(h,C),C},argPackAdvance:ae,readValueFromPointer:ze,destructorFunction(v){h(v)}})},gn=(r,t)=>{for(var o="",v=0;!(v>=t/2);++v){var g=x[r+v*2>>1];if(g==0)break;o+=String.fromCharCode(g)}return o},_n=(r,t,o)=>{if(o??(o=2147483647),o<2)return 0;o-=2;for(var v=t,g=o<r.length*2?o/2:r.length,m=0;m<g;++m){var T=r.charCodeAt(m);x[t>>1]=T,t+=2}return x[t>>1]=0,t-v},br=r=>r.length*2,yn=(r,t)=>{for(var o=0,v="";!(o>=t/4);){var g=ce[r+o*4>>2];if(g==0)break;if(++o,g>=65536){var m=g-65536;v+=String.fromCharCode(55296|m>>10,56320|m&1023)}else v+=String.fromCharCode(g)}return v},Gr=(r,t,o)=>{if(o??(o=2147483647),o<4)return 0;for(var v=t,g=v+o-4,m=0;m<r.length;++m){var T=r.charCodeAt(m);if(T>=55296&&T<=57343){var C=r.charCodeAt(++m);T=65536+((T&1023)<<10)|C&1023}if(ce[t>>2]=T,t+=4,t+4>g)break}return ce[t>>2]=0,t-v},Mr=r=>{for(var t=0,o=0;o<r.length;++o){var v=r.charCodeAt(o);v>=55296&&v<=57343&&++o,t+=4}return t},mn=(r,t,o)=>{o=X(o);var v,g,m,T;t===2?(v=gn,g=_n,T=br,m=C=>H[C>>1]):t===4&&(v=yn,g=Gr,T=Mr,m=C=>k[C>>2]),G(r,{name:o,fromWireType:C=>{for(var F=k[C>>2],I,M=C+4,z=0;z<=F;++z){var Se=C+4+z*t;if(z==F||m(Se)==0){var Ee=Se-M,ke=v(M,Ee);I===void 0?I=ke:(I+="\0",I+=ke),M=Se+t}}return h(C),I},toWireType:(C,F)=>{typeof F!="string"&&_e(`Cannot pass non-string to C++ string type ${o}`);var I=T(F),M=u(4+I+t);return k[M>>2]=I/t,g(F,M+4,I+t),C!==null&&C.push(h,M),M},argPackAdvance:ae,readValueFromPointer:ze,destructorFunction(C){h(C)}})},wr=(r,t,o,v,g,m)=>{Ve[r]={name:X(t),rawConstructor:ar(o,v),rawDestructor:ar(g,m),fields:[]}},bn=(r,t,o,v,g,m,T,C,F,I)=>{Ve[r].fields.push({fieldName:X(t),getterReturnType:o,getter:ar(v,g),getterContext:m,setterArgumentType:T,setter:ar(C,F),setterContext:I})},zr=(r,t)=>{t=X(t),G(r,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(o,v)=>{}})},Xr=(r,t,o)=>B.copyWithin(r,t,t+o),Er=[],wn=(r,t,o,v)=>(r=Er[r],t=tr.toValue(t),r(null,t,o,v)),An={},$n=r=>{var t=An[r];return t===void 0?X(r):t},Cr=()=>{if(typeof globalThis=="object")return globalThis;function r(t){t.$$$embind_global$$$=t;var o=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return o||delete t.$$$embind_global$$$,o}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&r(global)?$$$embind_global$$$=global:typeof self=="object"&&r(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Be=r=>r===0?tr.toHandle(Cr()):(r=$n(r),tr.toHandle(Cr()[r])),Jr=r=>{var t=Er.length;return Er.push(r),t},Kr=(r,t)=>{var o=N[r];return o===void 0&&_e(`${t} has unknown type ${Dr(r)}`),o},Rr=(r,t)=>{for(var o=new Array(r),v=0;v<r;++v)o[v]=Kr(k[t+v*4>>2],"parameter "+v);return o},Yr=Reflect.construct,c=(r,t,o)=>{var v=[],g=r.toWireType(v,o);return v.length&&(k[t>>2]=tr.toHandle(v)),g},d=(r,t,o)=>{var v=Rr(r,t),g=v.shift();r--;var m=new Array(r),T=(F,I,M,z)=>{for(var Se=0,Ee=0;Ee<r;++Ee)m[Ee]=v[Ee].readValueFromPointer(z+Se),Se+=v[Ee].argPackAdvance;var ke=o===1?Yr(I,m):I.apply(F,m);return c(g,M,ke)},C=`methodCaller<(${v.map(F=>F.name).join(", ")}) => ${g.name}>`;return Jr(Ir(C,T))},_=r=>{var t=tr.toValue(r);Ue(t),Je(r)},$=()=>{xe("")},R=()=>2147483648,U=r=>{var t=Te.buffer,o=(r-t.byteLength+65535)/65536;try{return Te.grow(o),or(),1}catch{}},O=r=>{var t=B.length;r>>>=0;var o=R();if(r>o)return!1;for(var v=(F,I)=>F+(I-F%I)%I,g=1;g<=4;g*=2){var m=t*(1+.2/g);m=Math.min(m,r+100663296);var T=Math.min(o,v(Math.max(r,m),65536)),C=U(T);if(C)return!0}return!1},a={},s=()=>Ie||"./this.program",p=()=>{if(!p.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:s()};for(var o in a)a[o]===void 0?delete t[o]:t[o]=a[o];var v=[];for(var o in t)v.push(`${o}=${t[o]}`);p.strings=v}return p.strings},b=(r,t)=>{for(var o=0;o<r.length;++o)ie[t++]=r.charCodeAt(o);ie[t]=0},w=(r,t)=>{var o=0;return p().forEach((v,g)=>{var m=t+o;k[r+g*4>>2]=m,b(v,m),o+=v.length+1}),0},E=(r,t)=>{var o=p();k[r>>2]=o.length;var v=0;return o.forEach(g=>v+=g.length+1),k[t>>2]=v,0},S=r=>{K(r,new nr(r))},W=(r,t)=>{S(r)},j=W,V=r=>52;function le(r,t,o,v,g){return 70}var ee=[null,[],[]],L=(r,t)=>{var o=ee[r];t===0||t===10?((r===1?De:he)(xr(o,0)),o.length=0):o.push(t)},Ne=(r,t,o,v)=>{for(var g=0,m=0;m<o;m++){var T=k[t>>2],C=k[t+4>>2];t+=8;for(var F=0;F<C;F++)L(r,B[T+F]);g+=C}return k[v>>2]=g,0};te=e.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},en(),Q=e.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Sr(),jr=e.UnboundTypeError=Or(Error,"UnboundTypeError");var Ye={j:Fe,k:be,n:Xe,h:rn,z:yr,f:kr,e:Lr,c:un,a:cn,g:hn,d:mn,l:wr,b:bn,i:zr,s:Xr,y:wn,u:Je,A:Be,x:d,w:_,o:$,p:O,q:w,r:E,B:j,t:V,m:le,v:Ne},re=rr(),f=r=>(f=re.E)(r),u=r=>(u=re.F)(r),h=r=>(h=re.G)(r),n=r=>(n=re.I)(r);e.dynCall_jiji=(r,t,o,v,g)=>(e.dynCall_jiji=re.J)(r,t,o,v,g);var i;Me=function r(){i||l(),i||(Me=r)};function l(){if(me>0||(Fr(),me>0))return;function r(){i||(i=!0,e.calledRun=!0,!ge&&(Ur(),P(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Vr()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),r()},1)):r()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return l(),ne})})();const gt={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},_t={preserveOrientation:!1};function it(y,A,e={}){let P;return A&&(P=(D,ne)=>{const fe=new WebAssembly.Instance(A,D);return ne(fe),fe.exports}),y({noInitialRun:!0,instantiateWasm:P,...e})}let xn;async function yt(y,A){let e=y,P=A;arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),xn=it(ht,e,P)}async function mt(y,A={}){xn||yt();const e=await xn,P={...gt,...A};return e.encode(y.data,y.width,y.height,P).buffer}var bt=(()=>{var y=import.meta.url;return(function(A={}){var e=A,P,D,ne=new Promise((n,i)=>{P=n,D=i});const cr=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,dr=typeof process=="object"&&process.release&&process.release.name==="node";(cr||dr)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(i,l,r){this.data=i,this.width=l,this.height=r}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var Le=Object.assign({},e),Ie="./this.program",K=(n,i)=>{throw i},$e=typeof window=="object",Ce=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var J="";function Oe(n){return e.locateFile?e.locateFile(n,J):J+n}var ue;($e||Ce)&&(Ce?J=self.location.href:typeof document<"u"&&document.currentScript&&(J=document.currentScript.src),y&&(J=y),J.startsWith("blob:")?J="":J=J.substr(0,J.replace(/[?#].*/,"").lastIndexOf("/")+1),Ce&&(ue=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}));var De=e.print||console.log.bind(console),he=e.printErr||console.error.bind(console);Object.assign(e,Le),Le=null,e.arguments&&e.arguments,e.thisProgram&&(Ie=e.thisProgram),e.quit&&(K=e.quit);var Re;e.wasmBinary&&(Re=e.wasmBinary);var Te,ge=!1,ie,B,x,H,ce,k,q,Y;function or(){var n=Te.buffer;e.HEAP8=ie=new Int8Array(n),e.HEAP16=x=new Int16Array(n),e.HEAPU8=B=new Uint8Array(n),e.HEAPU16=H=new Uint16Array(n),e.HEAP32=ce=new Int32Array(n),e.HEAPU32=k=new Uint32Array(n),e.HEAPF32=q=new Float32Array(n),e.HEAPF64=Y=new Float64Array(n)}var sr=[],vr=[],pr=[];function Fr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Zr(e.preRun.shift());_r(sr)}function Ur(){_r(vr)}function Vr(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)hr(e.postRun.shift());_r(pr)}function Zr(n){sr.unshift(n)}function Qe(n){vr.unshift(n)}function hr(n){pr.unshift(n)}var me=0,Me=null;function qe(n){var i;me++,(i=e.monitorRunDependencies)==null||i.call(e,me)}function Pe(n){var l;if(me--,(l=e.monitorRunDependencies)==null||l.call(e,me),me==0&&Me){var i=Me;Me=null,i()}}function xe(n){var l;(l=e.onAbort)==null||l.call(e,n),n="Aborted("+n+")",he(n),ge=!0,n+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(n);throw D(i),i}var Ze="data:application/octet-stream;base64,",er=n=>n.startsWith(Ze),de;e.locateFile?(de="mozjpeg_dec.wasm",er(de)||(de=Oe(de))):de=new URL("/assets/mozjpeg_dec-muSO2n8T.wasm",import.meta.url).href;function gr(n){if(n==de&&Re)return new Uint8Array(Re);if(ue)return ue(n);throw"both async and sync fetching of the wasm failed"}function Ge(n){return!Re&&($e||Ce)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw`failed to load wasm binary file at '${n}'`;return i.arrayBuffer()}).catch(()=>gr(n)):Promise.resolve().then(()=>gr(n))}function je(n,i,l){return Ge(n).then(r=>WebAssembly.instantiate(r,i)).then(l,r=>{he(`failed to asynchronously prepare wasm: ${r}`),xe(r)})}function Ar(n,i,l,r){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!er(i)&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(t=>{var o=WebAssembly.instantiateStreaming(t,l);return o.then(r,function(v){return he(`wasm streaming compile failed: ${v}`),he("falling back to ArrayBuffer instantiation"),je(i,l,r)})}):je(i,l,r)}function rr(){var n={a:ee};function i(r,t){return L=r.exports,Te=L.A,or(),Br=L.F,Qe(L.B),Pe(),L}qe();function l(r){i(r.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(n,i)}catch(r){he(`Module.instantiateWasm callback failed with error: ${r}`),D(r)}return Ar(Re,de,n,l).catch(D),{}}function nr(n){this.name="ExitStatus",this.message=`Program terminated with exit(${n})`,this.status=n}var _r=n=>{for(;n.length>0;)n.shift()(e)};e.noExitRuntime;class Wr{constructor(i){this.excPtr=i,this.ptr=i-24}set_type(i){k[this.ptr+4>>2]=i}get_type(){return k[this.ptr+4>>2]}set_destructor(i){k[this.ptr+8>>2]=i}get_destructor(){return k[this.ptr+8>>2]}set_caught(i){i=i?1:0,ie[this.ptr+12]=i}get_caught(){return ie[this.ptr+12]!=0}set_rethrown(i){i=i?1:0,ie[this.ptr+13]=i}get_rethrown(){return ie[this.ptr+13]!=0}init(i,l){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(l)}set_adjusted_ptr(i){k[this.ptr+16>>2]=i}get_adjusted_ptr(){return k[this.ptr+16>>2]}get_exception_ptr(){var i=f(this.get_type());if(i)return k[this.excPtr>>2];var l=this.get_adjusted_ptr();return l!==0?l:this.excPtr}}var fr=0,Fe=(n,i,l)=>{var r=new Wr(n);throw r.init(i,l),fr=n,fr},Ve=(n,i,l,r,t)=>{},Ue=()=>{for(var n=new Array(256),i=0;i<256;++i)n[i]=String.fromCharCode(i);ze=n},ze,oe=n=>{for(var i="",l=n;B[l];)i+=ze[B[l++]];return i},N={},ve={},te={},We,se=n=>{throw new We(n)},be,Xe=n=>{throw new be(n)},en=(n,i,l)=>{n.forEach(function(g){te[g]=i});function r(g){var m=l(g);m.length!==n.length&&Xe("Mismatched type converter count");for(var T=0;T<n.length;++T)X(n[T],m[T])}var t=new Array(i.length),o=[],v=0;i.forEach((g,m)=>{ve.hasOwnProperty(g)?t[m]=ve[g]:(o.push(g),N.hasOwnProperty(g)||(N[g]=[]),N[g].push(()=>{t[m]=ve[g],++v,v===o.length&&r(t)}))}),o.length===0&&r(t)};function lr(n,i,l={}){var r=i.name;if(n||se(`type "${r}" must have a positive integer typeid pointer`),ve.hasOwnProperty(n)){if(l.ignoreDuplicateRegistrations)return;se(`Cannot register type '${r}' twice`)}if(ve[n]=i,delete te[n],N.hasOwnProperty(n)){var t=N[n];delete N[n],t.forEach(o=>o())}}function X(n,i,l={}){if(!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");return lr(n,i,l)}var Q=8,_e=(n,i,l,r)=>{i=oe(i),X(n,{name:i,fromWireType:function(t){return!!t},toWireType:function(t,o){return o?l:r},argPackAdvance:Q,readValueFromPointer:function(t){return this.fromWireType(B[t])},destructorFunction:null})},pe=[],G=[],ae=n=>{n>9&&--G[n+1]===0&&(G[n]=void 0,pe.push(n))},rn=()=>G.length/2-5-pe.length,we=()=>{G.push(0,1,void 0,1,null,1,!0,1,!1,1),e.count_emval_handles=rn},Z={toValue:n=>(n||se("Cannot use deleted val. handle = "+n),G[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const i=pe.pop()||G.length;return G[i]=n,G[i+1]=1,i}}}};function Je(n){return this.fromWireType(k[n>>2])}var Ae={name:"emscripten::val",fromWireType:n=>{var i=Z.toValue(n);return ae(n),i},toWireType:(n,i)=>Z.toHandle(i),argPackAdvance:Q,readValueFromPointer:Je,destructorFunction:null},Sr=n=>X(n,Ae),tr=(n,i)=>{switch(i){case 4:return function(l){return this.fromWireType(q[l>>2])};case 8:return function(l){return this.fromWireType(Y[l>>3])};default:throw new TypeError(`invalid float width (${i}): ${n}`)}},ur=(n,i,l)=>{i=oe(i),X(n,{name:i,fromWireType:r=>r,toWireType:(r,t)=>t,argPackAdvance:Q,readValueFromPointer:tr(i,l),destructorFunction:null})},yr=(n,i)=>Object.defineProperty(i,"name",{value:n}),ir=n=>{for(;n.length;){var i=n.pop(),l=n.pop();l(i)}};function kr(n){for(var i=1;i<n.length;++i)if(n[i]!==null&&n[i].destructorFunction===void 0)return!0;return!1}function Ir(n,i,l,r,t,o){var v=i.length;v<2&&se("argTypes array size mismatch! Must at least get return value and 'this' types!"),i[1];var g=kr(i),m=i[0].name!=="void",T=v-2,C=new Array(T),F=[],I=[],M=function(...z){z.length!==T&&se(`function ${n} called with ${z.length} arguments, expected ${T}`),I.length=0;var Se;F.length=1,F[0]=t;for(var Ee=0;Ee<T;++Ee)C[Ee]=i[Ee+2].toWireType(I,z[Ee]),F.push(C[Ee]);var ke=r(...F);function Cn(Qr){if(g)ir(I);else for(var Pr=2;Pr<i.length;Pr++){var Un=Pr===1?Se:C[Pr-2];i[Pr].destructorFunction!==null&&i[Pr].destructorFunction(Un)}if(m)return i[0].fromWireType(Qr)}return Cn(ke)};return yr(n,M)}var nn=(n,i,l)=>{if(n[i].overloadTable===void 0){var r=n[i];n[i]=function(...t){return n[i].overloadTable.hasOwnProperty(t.length)||se(`Function '${l}' called with an invalid number of arguments (${t.length}) - expects one of (${n[i].overloadTable})!`),n[i].overloadTable[t.length].apply(this,t)},n[i].overloadTable=[],n[i].overloadTable[r.argCount]=r}},Hr=(n,i,l)=>{e.hasOwnProperty(n)?((l===void 0||e[n].overloadTable!==void 0&&e[n].overloadTable[l]!==void 0)&&se(`Cannot register public name '${n}' twice`),nn(e,n,n),e.hasOwnProperty(l)&&se(`Cannot register multiple overloads of a function with the same number of arguments (${l})!`),e[n].overloadTable[l]=i):(e[n]=i,l!==void 0&&(e[n].numArguments=l))},Ke=(n,i)=>{for(var l=[],r=0;r<n;r++)l.push(k[i+r*4>>2]);return l},tn=(n,i,l)=>{e.hasOwnProperty(n)||Xe("Replacing nonexistent public symbol"),e[n].overloadTable!==void 0&&l!==void 0?e[n].overloadTable[l]=i:(e[n]=i,e[n].argCount=l)},an=(n,i,l)=>{n=n.replace(/p/g,"i");var r=e["dynCall_"+n];return r(i,...l)},$r=[],Br,He=n=>{var i=$r[n];return i||(n>=$r.length&&($r.length=n+1),$r[n]=i=Br.get(n)),i},Tr=(n,i,l=[])=>{if(n.includes("j"))return an(n,i,l);var r=He(i)(...l);return r},mr=(n,i)=>(...l)=>Tr(n,i,l),Nr=(n,i)=>{n=oe(n);function l(){return n.includes("j")?mr(n,i):He(i)}var r=l();return typeof r!="function"&&se(`unknown function pointer with signature ${n}: ${i}`),r},on=(n,i)=>{var l=yr(i,function(r){this.name=i,this.message=r;var t=new Error(r).stack;t!==void 0&&(this.stack=this.toString()+`
`+t.replace(/^Error(:[^\n]*)?\n/,""))});return l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},l},ar,Or=n=>{var i=Ne(n),l=oe(i);return re(i),l},jr=(n,i)=>{var l=[],r={};function t(o){if(!r[o]&&!ve[o]){if(te[o]){te[o].forEach(t);return}l.push(o),r[o]=!0}}throw i.forEach(t),new ar(`${n}: `+l.map(Or).join([", "]))},Dr=n=>{n=n.trim();const i=n.indexOf("(");return i!==-1?n.substr(0,i):n},sn=(n,i,l,r,t,o,v)=>{var g=Ke(i,l);n=oe(n),n=Dr(n),t=Nr(r,t),Hr(n,function(){jr(`Cannot call ${n} due to unbound types`,g)},i-1),en([],g,m=>{var T=[m[0],null].concat(m.slice(1));return tn(n,Ir(n,T,null,t,o),i-1),[]})},fn=(n,i,l)=>{switch(i){case 1:return l?r=>ie[r]:r=>B[r];case 2:return l?r=>x[r>>1]:r=>H[r>>1];case 4:return l?r=>ce[r>>2]:r=>k[r>>2];default:throw new TypeError(`invalid integer width (${i}): ${n}`)}},Lr=(n,i,l,r,t)=>{i=oe(i);var o=C=>C;if(r===0){var v=32-8*l;o=C=>C<<v>>>v}var g=i.includes("unsigned"),m=(C,F)=>{},T;g?T=function(C,F){return m(F,this.name),F>>>0}:T=function(C,F){return m(F,this.name),F},X(n,{name:i,fromWireType:o,toWireType:T,argPackAdvance:Q,readValueFromPointer:fn(i,l,r!==0),destructorFunction:null})},ln=(n,i,l)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],t=r[i];function o(v){var g=k[v>>2],m=k[v+4>>2];return new t(ie.buffer,m,g)}l=oe(l),X(n,{name:l,fromWireType:o,argPackAdvance:Q,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},un=(n,i,l,r)=>{if(!(r>0))return 0;for(var t=l,o=l+r-1,v=0;v<n.length;++v){var g=n.charCodeAt(v);if(g>=55296&&g<=57343){var m=n.charCodeAt(++v);g=65536+((g&1023)<<10)|m&1023}if(g<=127){if(l>=o)break;i[l++]=g}else if(g<=2047){if(l+1>=o)break;i[l++]=192|g>>6,i[l++]=128|g&63}else if(g<=65535){if(l+2>=o)break;i[l++]=224|g>>12,i[l++]=128|g>>6&63,i[l++]=128|g&63}else{if(l+3>=o)break;i[l++]=240|g>>18,i[l++]=128|g>>12&63,i[l++]=128|g>>6&63,i[l++]=128|g&63}}return i[l]=0,l-t},cn=(n,i,l)=>un(n,B,i,l),dn=n=>{for(var i=0,l=0;l<n.length;++l){var r=n.charCodeAt(l);r<=127?i++:r<=2047?i+=2:r>=55296&&r<=57343?(i+=4,++l):i+=3}return i},qr=(n,i,l)=>{for(var r=i+l,t="";!(i>=r);){var o=n[i++];if(!o)return t;if(!(o&128)){t+=String.fromCharCode(o);continue}var v=n[i++]&63;if((o&224)==192){t+=String.fromCharCode((o&31)<<6|v);continue}var g=n[i++]&63;if((o&240)==224?o=(o&15)<<12|v<<6|g:o=(o&7)<<18|v<<12|g<<6|n[i++]&63,o<65536)t+=String.fromCharCode(o);else{var m=o-65536;t+=String.fromCharCode(55296|m>>10,56320|m&1023)}}return t},vn=(n,i)=>n?qr(B,n,i):"",xr=(n,i)=>{i=oe(i);var l=i==="std::string";X(n,{name:i,fromWireType(r){var t=k[r>>2],o=r+4,v;if(l)for(var g=o,m=0;m<=t;++m){var T=o+m;if(m==t||B[T]==0){var C=T-g,F=vn(g,C);v===void 0?v=F:(v+="\0",v+=F),g=T+1}}else{for(var I=new Array(t),m=0;m<t;++m)I[m]=String.fromCharCode(B[o+m]);v=I.join("")}return re(r),v},toWireType(r,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var o,v=typeof t=="string";v||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||se("Cannot pass non-string to std::string"),l&&v?o=dn(t):o=t.length;var g=Ye(4+o+1),m=g+4;if(k[g>>2]=o,l&&v)cn(t,m,o+1);else if(v)for(var T=0;T<o;++T){var C=t.charCodeAt(T);C>255&&(re(m),se("String has UTF-16 code units that do not fit in 8 bits")),B[m+T]=C}else for(var T=0;T<o;++T)B[m+T]=t[T];return r!==null&&r.push(re,g),g},argPackAdvance:Q,readValueFromPointer:Je,destructorFunction(r){re(r)}})},pn=(n,i)=>{for(var l="",r=0;!(r>=i/2);++r){var t=x[n+r*2>>1];if(t==0)break;l+=String.fromCharCode(t)}return l},hn=(n,i,l)=>{if(l??(l=2147483647),l<2)return 0;l-=2;for(var r=i,t=l<n.length*2?l/2:n.length,o=0;o<t;++o){var v=n.charCodeAt(o);x[i>>1]=v,i+=2}return x[i>>1]=0,i-r},gn=n=>n.length*2,_n=(n,i)=>{for(var l=0,r="";!(l>=i/4);){var t=ce[n+l*4>>2];if(t==0)break;if(++l,t>=65536){var o=t-65536;r+=String.fromCharCode(55296|o>>10,56320|o&1023)}else r+=String.fromCharCode(t)}return r},br=(n,i,l)=>{if(l??(l=2147483647),l<4)return 0;for(var r=i,t=r+l-4,o=0;o<n.length;++o){var v=n.charCodeAt(o);if(v>=55296&&v<=57343){var g=n.charCodeAt(++o);v=65536+((v&1023)<<10)|g&1023}if(ce[i>>2]=v,i+=4,i+4>t)break}return ce[i>>2]=0,i-r},yn=n=>{for(var i=0,l=0;l<n.length;++l){var r=n.charCodeAt(l);r>=55296&&r<=57343&&++l,i+=4}return i},Gr=(n,i,l)=>{l=oe(l);var r,t,o,v;i===2?(r=pn,t=hn,v=gn,o=g=>H[g>>1]):i===4&&(r=_n,t=br,v=yn,o=g=>k[g>>2]),X(n,{name:l,fromWireType:g=>{for(var m=k[g>>2],T,C=g+4,F=0;F<=m;++F){var I=g+4+F*i;if(F==m||o(I)==0){var M=I-C,z=r(C,M);T===void 0?T=z:(T+="\0",T+=z),C=I+i}}return re(g),T},toWireType:(g,m)=>{typeof m!="string"&&se(`Cannot pass non-string to C++ string type ${l}`);var T=v(m),C=Ye(4+T+i);return k[C>>2]=T/i,t(m,C+4,T+i),g!==null&&g.push(re,C),C},argPackAdvance:Q,readValueFromPointer:Je,destructorFunction(g){re(g)}})},Mr=(n,i)=>{i=oe(i),X(n,{isVoid:!0,name:i,argPackAdvance:0,fromWireType:()=>{},toWireType:(l,r)=>{}})},mn=(n,i,l)=>B.copyWithin(n,i,i+l),wr=[],bn=(n,i,l,r)=>(n=wr[n],i=Z.toValue(i),n(null,i,l,r)),zr={},Xr=n=>{var i=zr[n];return i===void 0?oe(n):i},Er=()=>{if(typeof globalThis=="object")return globalThis;function n(i){i.$$$embind_global$$$=i;var l=typeof $$$embind_global$$$=="object"&&i.$$$embind_global$$$==i;return l||delete i.$$$embind_global$$$,l}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&n(global)?$$$embind_global$$$=global:typeof self=="object"&&n(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},wn=n=>n===0?Z.toHandle(Er()):(n=Xr(n),Z.toHandle(Er()[n])),An=n=>{var i=wr.length;return wr.push(n),i},$n=(n,i)=>{var l=ve[n];return l===void 0&&se(`${i} has unknown type ${Or(n)}`),l},Cr=(n,i)=>{for(var l=new Array(n),r=0;r<n;++r)l[r]=$n(k[i+r*4>>2],"parameter "+r);return l},Be=Reflect.construct,Jr=(n,i,l)=>{var r=[],t=n.toWireType(r,l);return r.length&&(k[i>>2]=Z.toHandle(r)),t},Kr=(n,i,l)=>{var r=Cr(n,i),t=r.shift();n--;var o=new Array(n),v=(m,T,C,F)=>{for(var I=0,M=0;M<n;++M)o[M]=r[M].readValueFromPointer(F+I),I+=r[M].argPackAdvance;var z=l===1?Be(T,o):T.apply(m,o);return Jr(t,C,z)},g=`methodCaller<(${r.map(m=>m.name).join(", ")}) => ${t.name}>`;return An(yr(g,v))},Rr=n=>{n>9&&(G[n+1]+=1)},Yr=n=>{var i=Z.toValue(n);ir(i),ae(n)},c=()=>{xe("")},d=()=>2147483648,_=n=>{var i=Te.buffer,l=(n-i.byteLength+65535)/65536;try{return Te.grow(l),or(),1}catch{}},$=n=>{var i=B.length;n>>>=0;var l=d();if(n>l)return!1;for(var r=(m,T)=>m+(T-m%T)%T,t=1;t<=4;t*=2){var o=i*(1+.2/t);o=Math.min(o,n+100663296);var v=Math.min(l,r(Math.max(n,o),65536)),g=_(v);if(g)return!0}return!1},R={},U=()=>Ie||"./this.program",O=()=>{if(!O.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:U()};for(var l in R)R[l]===void 0?delete i[l]:i[l]=R[l];var r=[];for(var l in i)r.push(`${l}=${i[l]}`);O.strings=r}return O.strings},a=(n,i)=>{for(var l=0;l<n.length;++l)ie[i++]=n.charCodeAt(l);ie[i]=0},s=(n,i)=>{var l=0;return O().forEach((r,t)=>{var o=i+l;k[n+t*4>>2]=o,a(r,o),l+=r.length+1}),0},p=(n,i)=>{var l=O();k[n>>2]=l.length;var r=0;return l.forEach(t=>r+=t.length+1),k[i>>2]=r,0},b=n=>{K(n,new nr(n))},w=(n,i)=>{b(n)},E=w,S=n=>52;function W(n,i,l,r,t){return 70}var j=[null,[],[]],V=(n,i)=>{var l=j[n];i===0||i===10?((n===1?De:he)(qr(l,0)),l.length=0):l.push(i)},le=(n,i,l,r)=>{for(var t=0,o=0;o<l;o++){var v=k[i>>2],g=k[i+4>>2];i+=8;for(var m=0;m<g;m++)V(n,B[v+m]);t+=g}return k[r>>2]=t,0};Ue(),We=e.BindingError=class extends Error{constructor(i){super(i),this.name="BindingError"}},be=e.InternalError=class extends Error{constructor(i){super(i),this.name="InternalError"}},we(),ar=e.UnboundTypeError=on(Error,"UnboundTypeError");var ee={o:Fe,q:Ve,m:_e,l:Sr,j:ur,f:sn,b:Lr,a:ln,e:xr,c:Gr,n:Mr,v:mn,i:bn,d:ae,k:wn,h:Kr,y:Rr,g:Yr,r:c,s:$,t:s,u:p,z:E,w:S,p:W,x:le},L=rr(),Ne=n=>(Ne=L.C)(n),Ye=n=>(Ye=L.D)(n),re=n=>(re=L.E)(n),f=n=>(f=L.G)(n);e.dynCall_jiji=(n,i,l,r,t)=>(e.dynCall_jiji=L.H)(n,i,l,r,t);var u;Me=function n(){u||h(),u||(Me=n)};function h(){if(me>0||(Fr(),me>0))return;function n(){u||(u=!0,e.calledRun=!0,!ge&&(Ur(),P(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Vr()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),n()},1)):n()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return h(),ne})})();let Gn;async function wt(y,A){let e=y,P=A;arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),Gn=it(bt,e,P)}async function At(y,A={}){Gn||wt();const e={..._t,...A},D=(await Gn).decode(y,e.preserveOrientation);if(!D)throw new Error("Decoding error");return D}const $t={effort:7,quality:75,progressive:!1,epf:-1,lossyPalette:!1,decodingSpeedTier:0,photonNoiseIso:0,lossyModular:!1,lossless:!1};function Mn(y,A,e={}){let P;return A&&(P=(D,ne)=>{const fe=new WebAssembly.Instance(A,D);return ne(fe),fe.exports}),y({noInitialRun:!0,instantiateWasm:P,...e})}let Tn;const Tt=()=>typeof process<"u"&&process.release&&process.release.name==="node",Et=()=>{var y;return((y=globalThis.caches)===null||y===void 0?void 0:y.default)!==void 0};async function Ct(y,A){let e=y,P=A;if(arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),!Tt()&&!Et()&&await tt()){if(await nt()){const fe=await import("./jxl_enc_mt_simd-DG0cQ3G-.js");return Tn=Mn(fe.default,e,P),Tn}const ne=await import("./jxl_enc_mt-ML62pqgH.js");return Tn=Mn(ne.default,e,P),Tn}const D=await import("./jxl_enc-Kpap53gE.js");return Tn=Mn(D.default,e,P),Tn}async function Rt(y,A={}){Tn||(Tn=Ct());const e=await Tn,P={...$t,...A};P.lossless&&(A.quality!==void 0&&A.quality!==100&&console.warn("JXL lossless: Quality setting is ignored when lossless is enabled (quality must be 100)."),A.lossyModular&&console.warn("JXL lossless: LossyModular setting is ignored when lossless is enabled (lossyModular must be false)."),A.lossyPalette&&console.warn("JXL lossless: LossyPalette setting is ignored when lossless is enabled (lossyPalette must be false)."),P.quality=100,P.lossyModular=!1,P.lossyPalette=!1);const D=e.encode(y.data,y.width,y.height,P);if(!D)throw new Error("Encoding error.");return D.buffer}var Pt=(()=>{var y=import.meta.url;return(function(e={}){var e=typeof e<"u"?e:{},P,D;e.ready=new Promise(function(a,s){P=a,D=s});const fe=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,cr=typeof process=="object"&&process.release&&process.release.name==="node";(fe||cr)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(s,p,b){this.data=s,this.width=p,this.height=b}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var dr=Object.assign({},e),Le=typeof window=="object",Ie=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var K="";function $e(a){return e.locateFile?e.locateFile(a,K):K+a}var Ce;(Le||Ie)&&(Ie?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),y&&(K=y),K.indexOf("blob:")!==0?K=K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1):K="",Ie&&(Ce=a=>{var s=new XMLHttpRequest;return s.open("GET",a,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}));var J=e.print||console.log.bind(console),Oe=e.printErr||console.warn.bind(console);Object.assign(e,dr),dr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var ue;e.wasmBinary&&(ue=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&de("no native wasm support detected");var De,he=!1;function Re(a,s,p){for(var b=s+p,w="";!(s>=b);){var E=a[s++];if(!E)return w;if(!(E&128)){w+=String.fromCharCode(E);continue}var S=a[s++]&63;if((E&224)==192){w+=String.fromCharCode((E&31)<<6|S);continue}var W=a[s++]&63;if((E&240)==224?E=(E&15)<<12|S<<6|W:E=(E&7)<<18|S<<12|W<<6|a[s++]&63,E<65536)w+=String.fromCharCode(E);else{var j=E-65536;w+=String.fromCharCode(55296|j>>10,56320|j&1023)}}return w}function Te(a,s){return a?Re(H,a,s):""}function ge(a,s,p,b){if(!(b>0))return 0;for(var w=p,E=p+b-1,S=0;S<a.length;++S){var W=a.charCodeAt(S);if(W>=55296&&W<=57343){var j=a.charCodeAt(++S);W=65536+((W&1023)<<10)|j&1023}if(W<=127){if(p>=E)break;s[p++]=W}else if(W<=2047){if(p+1>=E)break;s[p++]=192|W>>6,s[p++]=128|W&63}else if(W<=65535){if(p+2>=E)break;s[p++]=224|W>>12,s[p++]=128|W>>6&63,s[p++]=128|W&63}else{if(p+3>=E)break;s[p++]=240|W>>18,s[p++]=128|W>>12&63,s[p++]=128|W>>6&63,s[p++]=128|W&63}}return s[p]=0,p-w}function ie(a,s,p){return ge(a,H,s,p)}function B(a){for(var s=0,p=0;p<a.length;++p){var b=a.charCodeAt(p);b<=127?s++:b<=2047?s+=2:b>=55296&&b<=57343?(s+=4,++p):s+=3}return s}var x,H,ce,k,q,Y,or,sr;function vr(){var a=De.buffer;e.HEAP8=x=new Int8Array(a),e.HEAP16=ce=new Int16Array(a),e.HEAP32=q=new Int32Array(a),e.HEAPU8=H=new Uint8Array(a),e.HEAPU16=k=new Uint16Array(a),e.HEAPU32=Y=new Uint32Array(a),e.HEAPF32=or=new Float32Array(a),e.HEAPF64=sr=new Float64Array(a)}var pr,Fr=[],Ur=[],Vr=[];function Zr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)me(e.preRun.shift());fr(Fr)}function Qe(){fr(Ur)}function hr(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)qe(e.postRun.shift());fr(Vr)}function me(a){Fr.unshift(a)}function Me(a){Ur.unshift(a)}function qe(a){Vr.unshift(a)}var Pe=0,xe=null;function Ze(a){Pe++,e.monitorRunDependencies&&e.monitorRunDependencies(Pe)}function er(a){if(Pe--,e.monitorRunDependencies&&e.monitorRunDependencies(Pe),Pe==0&&xe){var s=xe;xe=null,s()}}function de(a){e.onAbort&&e.onAbort(a),a="Aborted("+a+")",Oe(a),he=!0,a+=". Build with -sASSERTIONS for more info.";var s=new WebAssembly.RuntimeError(a);throw D(s),s}var gr="data:application/octet-stream;base64,";function Ge(a){return a.startsWith(gr)}var je;e.locateFile?(je="jxl_dec.wasm",Ge(je)||(je=$e(je))):je=new URL("/assets/jxl_dec-BE7lT9uY.wasm",import.meta.url).href;function Ar(a){try{if(a==je&&ue)return new Uint8Array(ue);if(Ce)return Ce(a);throw"both async and sync fetching of the wasm failed"}catch(s){de(s)}}function rr(a){return!ue&&(Le||Ie)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(function(s){if(!s.ok)throw"failed to load wasm binary file at '"+a+"'";return s.arrayBuffer()}).catch(function(){return Ar(a)}):Promise.resolve().then(function(){return Ar(a)})}function nr(a,s,p){return rr(a).then(function(b){return WebAssembly.instantiate(b,s)}).then(function(b){return b}).then(p,function(b){Oe("failed to asynchronously prepare wasm: "+b),de(b)})}function _r(a,s,p,b){return!a&&typeof WebAssembly.instantiateStreaming=="function"&&!Ge(s)&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(function(w){var E=WebAssembly.instantiateStreaming(w,p);return E.then(b,function(S){return Oe("wasm streaming compile failed: "+S),Oe("falling back to ArrayBuffer instantiation"),nr(s,p,b)})}):nr(s,p,b)}function Wr(){var a={a:c};function s(b,w){var E=b.exports;return e.asm=E,De=e.asm.w,vr(),pr=e.asm.C,Me(e.asm.x),er(),E}Ze();function p(b){s(b.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(a,s)}catch(b){Oe("Module.instantiateWasm callback failed with error: "+b),D(b)}return _r(ue,je,a,p).catch(D),{}}function fr(a){for(;a.length>0;)a.shift()(e)}function Fe(a,s,p,b){de("Assertion failed: "+Te(a)+", at: "+[s?Te(s):"unknown filename",p,b?Te(b):"unknown function"])}function Ve(a){this.excPtr=a,this.ptr=a-24,this.set_type=function(s){Y[this.ptr+4>>2]=s},this.get_type=function(){return Y[this.ptr+4>>2]},this.set_destructor=function(s){Y[this.ptr+8>>2]=s},this.get_destructor=function(){return Y[this.ptr+8>>2]},this.set_refcount=function(s){q[this.ptr>>2]=s},this.set_caught=function(s){s=s?1:0,x[this.ptr+12>>0]=s},this.get_caught=function(){return x[this.ptr+12>>0]!=0},this.set_rethrown=function(s){s=s?1:0,x[this.ptr+13>>0]=s},this.get_rethrown=function(){return x[this.ptr+13>>0]!=0},this.init=function(s,p){this.set_adjusted_ptr(0),this.set_type(s),this.set_destructor(p),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var s=q[this.ptr>>2];q[this.ptr>>2]=s+1},this.release_ref=function(){var s=q[this.ptr>>2];return q[this.ptr>>2]=s-1,s===1},this.set_adjusted_ptr=function(s){Y[this.ptr+16>>2]=s},this.get_adjusted_ptr=function(){return Y[this.ptr+16>>2]},this.get_exception_ptr=function(){var s=R(this.get_type());if(s)return Y[this.excPtr>>2];var p=this.get_adjusted_ptr();return p!==0?p:this.excPtr}}function Ue(a,s,p){var b=new Ve(a);throw b.init(s,p),a}function ze(a,s,p,b,w){}function oe(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a)}}function N(){for(var a=new Array(256),s=0;s<256;++s)a[s]=String.fromCharCode(s);ve=a}var ve=void 0;function te(a){for(var s="",p=a;H[p];)s+=ve[H[p++]];return s}var We={},se={},be={},Xe=48,en=57;function lr(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var s=a.charCodeAt(0);return s>=Xe&&s<=en?"_"+a:a}function X(a,s){return a=lr(a),{[a]:function(){return s.apply(this,arguments)}}[a]}function Q(a,s){var p=X(s,function(b){this.name=s,this.message=b;var w=new Error(b).stack;w!==void 0&&(this.stack=this.toString()+`
`+w.replace(/^Error(:[^\n]*)?\n/,""))});return p.prototype=Object.create(a.prototype),p.prototype.constructor=p,p.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},p}var _e=void 0;function pe(a){throw new _e(a)}var G=void 0;function ae(a){throw new G(a)}function rn(a,s,p){a.forEach(function(W){be[W]=s});function b(W){var j=p(W);j.length!==a.length&&ae("Mismatched type converter count");for(var V=0;V<a.length;++V)we(a[V],j[V])}var w=new Array(s.length),E=[],S=0;s.forEach((W,j)=>{se.hasOwnProperty(W)?w[j]=se[W]:(E.push(W),We.hasOwnProperty(W)||(We[W]=[]),We[W].push(()=>{w[j]=se[W],++S,S===E.length&&b(w)}))}),E.length===0&&b(w)}function we(a,s,p={}){if(!("argPackAdvance"in s))throw new TypeError("registerType registeredInstance requires argPackAdvance");var b=s.name;if(a||pe('type "'+b+'" must have a positive integer typeid pointer'),se.hasOwnProperty(a)){if(p.ignoreDuplicateRegistrations)return;pe("Cannot register type '"+b+"' twice")}if(se[a]=s,delete be[a],We.hasOwnProperty(a)){var w=We[a];delete We[a],w.forEach(E=>E())}}function Z(a,s,p,b,w){var E=oe(p);s=te(s),we(a,{name:s,fromWireType:function(S){return!!S},toWireType:function(S,W){return W?b:w},argPackAdvance:8,readValueFromPointer:function(S){var W;if(p===1)W=x;else if(p===2)W=ce;else if(p===4)W=q;else throw new TypeError("Unknown boolean type size: "+s);return this.fromWireType(W[S>>E])},destructorFunction:null})}var Je=[],Ae=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Sr(a){a>4&&--Ae[a].refcount===0&&(Ae[a]=void 0,Je.push(a))}function tr(){for(var a=0,s=5;s<Ae.length;++s)Ae[s]!==void 0&&++a;return a}function ur(){for(var a=5;a<Ae.length;++a)if(Ae[a]!==void 0)return Ae[a];return null}function yr(){e.count_emval_handles=tr,e.get_first_emval=ur}var ir={toValue:a=>(a||pe("Cannot use deleted val. handle = "+a),Ae[a].value),toHandle:a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var s=Je.length?Je.pop():Ae.length;return Ae[s]={refcount:1,value:a},s}}}};function kr(a){return this.fromWireType(q[a>>2])}function Ir(a,s){s=te(s),we(a,{name:s,fromWireType:function(p){var b=ir.toValue(p);return Sr(p),b},toWireType:function(p,b){return ir.toHandle(b)},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:null})}function nn(a,s){switch(s){case 2:return function(p){return this.fromWireType(or[p>>2])};case 3:return function(p){return this.fromWireType(sr[p>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Hr(a,s,p){var b=oe(p);s=te(s),we(a,{name:s,fromWireType:function(w){return w},toWireType:function(w,E){return E},argPackAdvance:8,readValueFromPointer:nn(s,b),destructorFunction:null})}function Ke(a){for(;a.length;){var s=a.pop(),p=a.pop();p(s)}}function tn(a,s,p,b,w,E){var S=s.length;S<2&&pe("argTypes array size mismatch! Must at least get return value and 'this' types!"),s[1];for(var W=!1,j=1;j<s.length;++j)if(s[j]!==null&&s[j].destructorFunction===void 0){W=!0;break}var V=s[0].name!=="void",le=S-2,ee=new Array(le),L=[],Ne=[];return function(){arguments.length!==le&&pe("function "+a+" called with "+arguments.length+" arguments, expected "+le+" args!"),Ne.length=0;var Ye;L.length=1,L[0]=w;for(var re=0;re<le;++re)ee[re]=s[re+2].toWireType(Ne,arguments[re]),L.push(ee[re]);var f=b.apply(null,L);function u(h){if(W)Ke(Ne);else for(var n=2;n<s.length;n++){var i=n===1?Ye:ee[n-2];s[n].destructorFunction!==null&&s[n].destructorFunction(i)}if(V)return s[0].fromWireType(h)}return u(f)}}function an(a,s,p){if(a[s].overloadTable===void 0){var b=a[s];a[s]=function(){return a[s].overloadTable.hasOwnProperty(arguments.length)||pe("Function '"+p+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+a[s].overloadTable+")!"),a[s].overloadTable[arguments.length].apply(this,arguments)},a[s].overloadTable=[],a[s].overloadTable[b.argCount]=b}}function $r(a,s,p){e.hasOwnProperty(a)?((p===void 0||e[a].overloadTable!==void 0&&e[a].overloadTable[p]!==void 0)&&pe("Cannot register public name '"+a+"' twice"),an(e,a,a),e.hasOwnProperty(p)&&pe("Cannot register multiple overloads of a function with the same number of arguments ("+p+")!"),e[a].overloadTable[p]=s):(e[a]=s,p!==void 0&&(e[a].numArguments=p))}function Br(a,s){for(var p=[],b=0;b<a;b++)p.push(Y[s+b*4>>2]);return p}function He(a,s,p){e.hasOwnProperty(a)||ae("Replacing nonexistant public symbol"),e[a].overloadTable!==void 0&&p!==void 0?e[a].overloadTable[p]=s:(e[a]=s,e[a].argCount=p)}function Tr(a,s,p){var b=e["dynCall_"+a];return p&&p.length?b.apply(null,[s].concat(p)):b.call(null,s)}var mr=[];function Nr(a){var s=mr[a];return s||(a>=mr.length&&(mr.length=a+1),mr[a]=s=pr.get(a)),s}function on(a,s,p){if(a.includes("j"))return Tr(a,s,p);var b=Nr(s).apply(null,p);return b}function ar(a,s){var p=[];return function(){return p.length=0,Object.assign(p,arguments),on(a,s,p)}}function Or(a,s){a=te(a);function p(){return a.includes("j")?ar(a,s):Nr(s)}var b=p();return typeof b!="function"&&pe("unknown function pointer with signature "+a+": "+s),b}var jr=void 0;function Dr(a){var s=$(a),p=te(s);return _(s),p}function sn(a,s){var p=[],b={};function w(E){if(!b[E]&&!se[E]){if(be[E]){be[E].forEach(w);return}p.push(E),b[E]=!0}}throw s.forEach(w),new jr(a+": "+p.map(Dr).join([", "]))}function fn(a,s,p,b,w,E,S){var W=Br(s,p);a=te(a),w=Or(b,w),$r(a,function(){sn("Cannot call "+a+" due to unbound types",W)},s-1),rn([],W,function(j){var V=[j[0],null].concat(j.slice(1));return He(a,tn(a,V,null,w,E),s-1),[]})}function Lr(a,s,p){switch(s){case 0:return p?function(w){return x[w]}:function(w){return H[w]};case 1:return p?function(w){return ce[w>>1]}:function(w){return k[w>>1]};case 2:return p?function(w){return q[w>>2]}:function(w){return Y[w>>2]};default:throw new TypeError("Unknown integer type: "+a)}}function ln(a,s,p,b,w){s=te(s);var E=oe(p),S=ee=>ee;if(b===0){var W=32-8*p;S=ee=>ee<<W>>>W}var j=s.includes("unsigned"),V=(ee,L)=>{},le;j?le=function(ee,L){return V(L,this.name),L>>>0}:le=function(ee,L){return V(L,this.name),L},we(a,{name:s,fromWireType:S,toWireType:le,argPackAdvance:8,readValueFromPointer:Lr(s,E,b!==0),destructorFunction:null})}function un(a,s,p){var b=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],w=b[s];function E(S){S=S>>2;var W=Y,j=W[S],V=W[S+1];return new w(W.buffer,V,j)}p=te(p),we(a,{name:p,fromWireType:E,argPackAdvance:8,readValueFromPointer:E},{ignoreDuplicateRegistrations:!0})}function cn(a,s){s=te(s);var p=s==="std::string";we(a,{name:s,fromWireType:function(b){var w=Y[b>>2],E=b+4,S;if(p)for(var W=E,j=0;j<=w;++j){var V=E+j;if(j==w||H[V]==0){var le=V-W,ee=Te(W,le);S===void 0?S=ee:(S+="\0",S+=ee),W=V+1}}else{for(var L=new Array(w),j=0;j<w;++j)L[j]=String.fromCharCode(H[E+j]);S=L.join("")}return _(b),S},toWireType:function(b,w){w instanceof ArrayBuffer&&(w=new Uint8Array(w));var E,S=typeof w=="string";S||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int8Array||pe("Cannot pass non-string to std::string"),p&&S?E=B(w):E=w.length;var W=d(4+E+1),j=W+4;if(Y[W>>2]=E,p&&S)ie(w,j,E+1);else if(S)for(var V=0;V<E;++V){var le=w.charCodeAt(V);le>255&&(_(j),pe("String has UTF-16 code units that do not fit in 8 bits")),H[j+V]=le}else for(var V=0;V<E;++V)H[j+V]=w[V];return b!==null&&b.push(_,W),W},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:function(b){_(b)}})}function dn(a,s){for(var p="",b=0;!(b>=s/2);++b){var w=ce[a+b*2>>1];if(w==0)break;p+=String.fromCharCode(w)}return p}function qr(a,s,p){if(p===void 0&&(p=2147483647),p<2)return 0;p-=2;for(var b=s,w=p<a.length*2?p/2:a.length,E=0;E<w;++E){var S=a.charCodeAt(E);ce[s>>1]=S,s+=2}return ce[s>>1]=0,s-b}function vn(a){return a.length*2}function xr(a,s){for(var p=0,b="";!(p>=s/4);){var w=q[a+p*4>>2];if(w==0)break;if(++p,w>=65536){var E=w-65536;b+=String.fromCharCode(55296|E>>10,56320|E&1023)}else b+=String.fromCharCode(w)}return b}function pn(a,s,p){if(p===void 0&&(p=2147483647),p<4)return 0;for(var b=s,w=b+p-4,E=0;E<a.length;++E){var S=a.charCodeAt(E);if(S>=55296&&S<=57343){var W=a.charCodeAt(++E);S=65536+((S&1023)<<10)|W&1023}if(q[s>>2]=S,s+=4,s+4>w)break}return q[s>>2]=0,s-b}function hn(a){for(var s=0,p=0;p<a.length;++p){var b=a.charCodeAt(p);b>=55296&&b<=57343&&++p,s+=4}return s}function gn(a,s,p){p=te(p);var b,w,E,S,W;s===2?(b=dn,w=qr,S=vn,E=()=>k,W=1):s===4&&(b=xr,w=pn,S=hn,E=()=>Y,W=2),we(a,{name:p,fromWireType:function(j){for(var V=Y[j>>2],le=E(),ee,L=j+4,Ne=0;Ne<=V;++Ne){var Ye=j+4+Ne*s;if(Ne==V||le[Ye>>W]==0){var re=Ye-L,f=b(L,re);ee===void 0?ee=f:(ee+="\0",ee+=f),L=Ye+s}}return _(j),ee},toWireType:function(j,V){typeof V!="string"&&pe("Cannot pass non-string to C++ string type "+p);var le=S(V),ee=d(4+le+s);return Y[ee>>2]=le>>W,w(V,ee+4,le+s),j!==null&&j.push(_,ee),ee},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:function(j){_(j)}})}function _n(a,s){s=te(s),we(a,{isVoid:!0,name:s,argPackAdvance:0,fromWireType:function(){},toWireType:function(p,b){}})}var br={};function yn(a){var s=br[a];return s===void 0?te(a):s}function Gr(){if(typeof globalThis=="object")return globalThis;function a(s){s.$$$embind_global$$$=s;var p=typeof $$$embind_global$$$=="object"&&s.$$$embind_global$$$==s;return p||delete s.$$$embind_global$$$,p}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&a(global)?$$$embind_global$$$=global:typeof self=="object"&&a(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Mr(a){return a===0?ir.toHandle(Gr()):(a=yn(a),ir.toHandle(Gr()[a]))}function mn(a){a>4&&(Ae[a].refcount+=1)}function wr(a,s){var p=se[a];return p===void 0&&pe(s+" has unknown type "+Dr(a)),p}function bn(a){var s=new Array(a+1);return function(p,b,w){s[0]=p;for(var E=0;E<a;++E){var S=wr(Y[b+E*4>>2],"parameter "+E);s[E+1]=S.readValueFromPointer(w),w+=S.argPackAdvance}var W=new(p.bind.apply(p,s));return ir.toHandle(W)}}var zr={};function Xr(a,s,p,b){a=ir.toValue(a);var w=zr[s];return w||(w=bn(s),zr[s]=w),w(a,p,b)}function Er(){de("")}function wn(a,s,p){H.copyWithin(a,s,s+p)}function An(){return 2147483648}function $n(a){var s=De.buffer;try{return De.grow(a-s.byteLength+65535>>>16),vr(),1}catch{}}function Cr(a){var s=H.length;a=a>>>0;var p=An();if(a>p)return!1;let b=(j,V)=>j+(V-j%V)%V;for(var w=1;w<=4;w*=2){var E=s*(1+.2/w);E=Math.min(E,a+100663296);var S=Math.min(p,b(Math.max(a,E),65536)),W=$n(S);if(W)return!0}return!1}function Be(a){return 52}function Jr(a,s,p,b,w){return 70}var Kr=[null,[],[]];function Rr(a,s){var p=Kr[a];s===0||s===10?((a===1?J:Oe)(Re(p,0)),p.length=0):p.push(s)}function Yr(a,s,p,b){for(var w=0,E=0;E<p;E++){var S=Y[s>>2],W=Y[s+4>>2];s+=8;for(var j=0;j<W;j++)Rr(a,H[S+j]);w+=W}return Y[b>>2]=w,0}N(),_e=e.BindingError=Q(Error,"BindingError"),G=e.InternalError=Q(Error,"InternalError"),yr(),jr=e.UnboundTypeError=Q(Error,"UnboundTypeError");var c={b:Fe,o:Ue,q:ze,m:Z,v:Ir,k:Hr,j:fn,d:ln,c:un,l:cn,g:gn,n:_n,e:Sr,f:Mr,i:mn,h:Xr,a:Er,u:wn,r:Cr,t:Be,p:Jr,s:Yr};Wr();var d=function(){return(d=e.asm.y).apply(null,arguments)},_=function(){return(_=e.asm.z).apply(null,arguments)},$=e.___getTypeName=function(){return($=e.___getTypeName=e.asm.A).apply(null,arguments)};e.__embind_initialize_bindings=function(){return(e.__embind_initialize_bindings=e.asm.B).apply(null,arguments)};var R=function(){return(R=e.asm.D).apply(null,arguments)};e.dynCall_iiji=function(){return(e.dynCall_iiji=e.asm.E).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.F).apply(null,arguments)};var U;xe=function a(){U||O(),U||(xe=a)};function O(){if(Pe>0||(Zr(),Pe>0))return;function a(){U||(U=!0,e.calledRun=!0,!he&&(Qe(),P(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),hr()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),a()},1)):a()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return O(),e.ready})})();let In;async function Ft(y,A){let e=y,P=A;return arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),In=Mn(Pt,e,P),In}async function Ut(y){In||(In=Ft());const e=(await In).decode(y);if(!e)throw new Error("Decoding error");return e}let ye;const En=new Array(128).fill(void 0);En.push(void 0,null,!0,!1);let On=En.length;function Dn(y){On===En.length&&En.push(En.length+1);const A=On;return On=En[A],En[A]=y,A}function zn(y){return En[y]}function Wt(y){y<132||(En[y]=On,On=y)}function Kn(y){const A=zn(y);return Wt(y),A}const at=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&at.decode();let Wn=null;function Yn(){return(Wn===null||Wn.byteLength===0)&&(Wn=new Uint8Array(ye.memory.buffer)),Wn}function St(y,A){return y=y>>>0,at.decode(Yn().subarray(y,y+A))}let Sn=null;function kt(){return(Sn===null||Sn.byteLength===0)&&(Sn=new Uint8ClampedArray(ye.memory.buffer)),Sn}function It(y,A){return y=y>>>0,kt().subarray(y/1,y/1+A)}let Vn=0;function Qn(y,A){const e=A(y.length*1,1)>>>0;return Yn().set(y,e/1),Vn=y.length,e}let kn=null;function rt(){return(kn===null||kn.byteLength===0)&&(kn=new Int32Array(ye.memory.buffer)),kn}function Ot(y,A){return y=y>>>0,Yn().subarray(y/1,y/1+A)}function jt(y,A,e,P){try{const cr=ye.__wbindgen_add_to_stack_pointer(-16),dr=Qn(y,ye.__wbindgen_malloc),Le=Vn;ye.encode(cr,dr,Le,A,e,P);var D=rt()[cr/4+0],ne=rt()[cr/4+1],fe=Ot(D,ne).slice();return ye.__wbindgen_free(D,ne*1,1),fe}finally{ye.__wbindgen_add_to_stack_pointer(16)}}function Dt(y){const A=Qn(y,ye.__wbindgen_malloc),e=Vn,P=ye.decode(A,e);return Kn(P)}function Mt(y){const A=Qn(y,ye.__wbindgen_malloc),e=Vn,P=ye.decode_rgba16(A,e);return Zn.__wrap(P)}class Zn{static __wrap(A){A=A>>>0;const e=Object.create(Zn.prototype);return e.__wbg_ptr=A,e}__destroy_into_raw(){const A=this.__wbg_ptr;return this.__wbg_ptr=0,A}free(){const A=this.__destroy_into_raw();ye.__wbg_imagedatargba16_free(A)}get width(){return ye.imagedatargba16_width(this.__wbg_ptr)>>>0}get height(){return ye.imagedatargba16_height(this.__wbg_ptr)>>>0}get data(){const A=ye.imagedatargba16_data(this.__wbg_ptr);return Kn(A)}}async function Vt(y,A){if(typeof Response=="function"&&y instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(y,A)}catch(P){if(y.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",P);else throw P}const e=await y.arrayBuffer();return await WebAssembly.instantiate(e,A)}else{const e=await WebAssembly.instantiate(y,A);return e instanceof WebAssembly.Instance?{instance:e,module:y}:e}}function Ht(){const y={};return y.wbg={},y.wbg.__wbindgen_memory=function(){const A=ye.memory;return Dn(A)},y.wbg.__wbg_buffer_a448f833075b71ba=function(A){const e=zn(A).buffer;return Dn(e)},y.wbg.__wbg_newwithbyteoffsetandlength_099217381c451830=function(A,e,P){const D=new Uint16Array(zn(A),e>>>0,P>>>0);return Dn(D)},y.wbg.__wbindgen_object_drop_ref=function(A){Kn(A)},y.wbg.__wbg_newwithownedu8clampedarrayandsh_91db5987993a08fb=function(A,e,P,D){var ne=It(A,e).slice();ye.__wbindgen_free(A,e*1,1);const fe=new ImageData(ne,P>>>0,D>>>0);return Dn(fe)},y.wbg.__wbindgen_throw=function(A,e){throw new Error(St(A,e))},y}function Bt(y,A){return ye=y.exports,et.__wbindgen_wasm_module=A,kn=null,Wn=null,Sn=null,ye}async function et(y){if(ye!==void 0)return ye;typeof y>"u"&&(y=new URL("/assets/squoosh_png_bg-DAY7U9NW.wasm",import.meta.url));const A=Ht();(typeof y=="string"||typeof Request=="function"&&y instanceof Request||typeof URL=="function"&&y instanceof URL)&&(y=fetch(y));const{instance:e,module:P}=await Vt(await y,A);return Bt(e,P)}const Nt=globalThis.ServiceWorkerGlobalScope!==void 0,Lt=Nt&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,qt=typeof process=="object"&&process.release&&process.release.name==="node";(Lt||qt)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(A,e,P){this.data=A,this.width=e,this.height=P}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let Hn;async function xt(y){return Hn||(Hn=et(y)),Hn}async function Gt(y,A={}){var e;await xt();const P=(e=A==null?void 0:A.bitDepth)!==null&&e!==void 0?e:8;if(P!==8&&P!==16)throw new Error("Invalid bit depth. Must be either 8 or 16.");const D=y.data instanceof Uint16Array;if(D&&P!==16)throw new Error("Invalid bit depth, must be 16 for Uint16Array or manually convert to RGB8 values with Uint8Array.");if(!D&&P===16)throw new Error("Invalid bit depth, must be 8 for Uint8Array or manually convert to RGB16 values with Uint16Array.");const ne=new Uint8Array(y.data.buffer),fe=await jt(ne,y.width,y.height,P);if(!fe)throw new Error("Encoding error.");return fe.buffer}let Bn;async function zt(y){return Bn||(Bn=et(y)),Bn}async function Xt(y,A={}){await zt();const{bitDepth:e=8}=A;if(e===16){const D=await Mt(new Uint8Array(y));if(!D)throw new Error("Encoding error.");return D}const P=await Dt(new Uint8Array(y));if(!P)throw new Error("Encoding error.");return P}const Jt={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};function Xn(y,A,e={}){let P;return A&&(P=(D,ne)=>{const fe=new WebAssembly.Instance(A,D);return ne(fe),fe.exports}),y({noInitialRun:!0,instantiateWasm:P,...e})}let Pn;async function Kt(y,A){let e=y,P=A;if(arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),await nt()){const ne=await import("./webp_enc_simd-0PCv9qCn.js");return Pn=Xn(ne.default,e,P),Pn}const D=await import("./webp_enc-DIy7VB-T.js");return Pn=Xn(D.default,e,P),Pn}async function Yt(y,A={}){Pn||(Pn=Kt());const e={...Jt,...A},D=(await Pn).encode(y.data,y.width,y.height,e);if(!D)throw new Error("Encoding error.");return D.buffer}var Qt=(()=>{var y=import.meta.url;return(function(e={}){var e=typeof e<"u"?e:{},P,D;e.ready=new Promise(function(c,d){P=c,D=d});const fe=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,cr=typeof process=="object"&&process.release&&process.release.name==="node";(fe||cr)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(d,_,$){this.data=d,this.width=_,this.height=$}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var dr=Object.assign({},e),Le=typeof window=="object",Ie=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var K="";function $e(c){return e.locateFile?e.locateFile(c,K):K+c}var Ce;(Le||Ie)&&(Ie?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),y&&(K=y),K.indexOf("blob:")!==0?K=K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1):K="",Ie&&(Ce=c=>{var d=new XMLHttpRequest;return d.open("GET",c,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)})),e.print||console.log.bind(console);var J=e.printErr||console.warn.bind(console);Object.assign(e,dr),dr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var Oe;e.wasmBinary&&(Oe=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&er("no native wasm support detected");var ue,De=!1;function he(c,d,_){for(var $=d+_,R="";!(d>=$);){var U=c[d++];if(!U)return R;if(!(U&128)){R+=String.fromCharCode(U);continue}var O=c[d++]&63;if((U&224)==192){R+=String.fromCharCode((U&31)<<6|O);continue}var a=c[d++]&63;if((U&240)==224?U=(U&15)<<12|O<<6|a:U=(U&7)<<18|O<<12|a<<6|c[d++]&63,U<65536)R+=String.fromCharCode(U);else{var s=U-65536;R+=String.fromCharCode(55296|s>>10,56320|s&1023)}}return R}function Re(c,d){return c?he(x,c,d):""}function Te(c,d,_,$){if(!($>0))return 0;for(var R=_,U=_+$-1,O=0;O<c.length;++O){var a=c.charCodeAt(O);if(a>=55296&&a<=57343){var s=c.charCodeAt(++O);a=65536+((a&1023)<<10)|s&1023}if(a<=127){if(_>=U)break;d[_++]=a}else if(a<=2047){if(_+1>=U)break;d[_++]=192|a>>6,d[_++]=128|a&63}else if(a<=65535){if(_+2>=U)break;d[_++]=224|a>>12,d[_++]=128|a>>6&63,d[_++]=128|a&63}else{if(_+3>=U)break;d[_++]=240|a>>18,d[_++]=128|a>>12&63,d[_++]=128|a>>6&63,d[_++]=128|a&63}}return d[_]=0,_-R}function ge(c,d,_){return Te(c,x,d,_)}function ie(c){for(var d=0,_=0;_<c.length;++_){var $=c.charCodeAt(_);$<=127?d++:$<=2047?d+=2:$>=55296&&$<=57343?(d+=4,++_):d+=3}return d}var B,x,H,ce,k,q,Y,or;function sr(){var c=ue.buffer;e.HEAP8=B=new Int8Array(c),e.HEAP16=H=new Int16Array(c),e.HEAP32=k=new Int32Array(c),e.HEAPU8=x=new Uint8Array(c),e.HEAPU16=ce=new Uint16Array(c),e.HEAPU32=q=new Uint32Array(c),e.HEAPF32=Y=new Float32Array(c),e.HEAPF64=or=new Float64Array(c)}var vr,pr=[],Fr=[],Ur=[];function Vr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)hr(e.preRun.shift());Wr(pr)}function Zr(){Wr(Fr)}function Qe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Me(e.postRun.shift());Wr(Ur)}function hr(c){pr.unshift(c)}function me(c){Fr.unshift(c)}function Me(c){Ur.unshift(c)}var qe=0,Pe=null;function xe(c){qe++,e.monitorRunDependencies&&e.monitorRunDependencies(qe)}function Ze(c){if(qe--,e.monitorRunDependencies&&e.monitorRunDependencies(qe),qe==0&&Pe){var d=Pe;Pe=null,d()}}function er(c){e.onAbort&&e.onAbort(c),c="Aborted("+c+")",J(c),De=!0,c+=". Build with -sASSERTIONS for more info.";var d=new WebAssembly.RuntimeError(c);throw D(d),d}var de="data:application/octet-stream;base64,";function gr(c){return c.startsWith(de)}var Ge;e.locateFile?(Ge="webp_dec.wasm",gr(Ge)||(Ge=$e(Ge))):Ge=new URL("/assets/webp_dec-C990n7mh.wasm",import.meta.url).href;function je(c){try{if(c==Ge&&Oe)return new Uint8Array(Oe);if(Ce)return Ce(c);throw"both async and sync fetching of the wasm failed"}catch(d){er(d)}}function Ar(c){return!Oe&&(Le||Ie)&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+c+"'";return d.arrayBuffer()}).catch(function(){return je(c)}):Promise.resolve().then(function(){return je(c)})}function rr(c,d,_){return Ar(c).then(function($){return WebAssembly.instantiate($,d)}).then(function($){return $}).then(_,function($){J("failed to asynchronously prepare wasm: "+$),er($)})}function nr(c,d,_,$){return!c&&typeof WebAssembly.instantiateStreaming=="function"&&!gr(d)&&typeof fetch=="function"?fetch(d,{credentials:"same-origin"}).then(function(R){var U=WebAssembly.instantiateStreaming(R,_);return U.then($,function(O){return J("wasm streaming compile failed: "+O),J("falling back to ArrayBuffer instantiation"),rr(d,_,$)})}):rr(d,_,$)}function _r(){var c={a:$n};function d($,R){var U=$.exports;return e.asm=U,ue=e.asm.s,sr(),vr=e.asm.y,me(e.asm.t),Ze(),U}xe();function _($){d($.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(c,d)}catch($){J("Module.instantiateWasm callback failed with error: "+$),D($)}return nr(Oe,Ge,c,_).catch(D),{}}function Wr(c){for(;c.length>0;)c.shift()(e)}function fr(c){this.excPtr=c,this.ptr=c-24,this.set_type=function(d){q[this.ptr+4>>2]=d},this.get_type=function(){return q[this.ptr+4>>2]},this.set_destructor=function(d){q[this.ptr+8>>2]=d},this.get_destructor=function(){return q[this.ptr+8>>2]},this.set_refcount=function(d){k[this.ptr>>2]=d},this.set_caught=function(d){d=d?1:0,B[this.ptr+12>>0]=d},this.get_caught=function(){return B[this.ptr+12>>0]!=0},this.set_rethrown=function(d){d=d?1:0,B[this.ptr+13>>0]=d},this.get_rethrown=function(){return B[this.ptr+13>>0]!=0},this.init=function(d,_){this.set_adjusted_ptr(0),this.set_type(d),this.set_destructor(_),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var d=k[this.ptr>>2];k[this.ptr>>2]=d+1},this.release_ref=function(){var d=k[this.ptr>>2];return k[this.ptr>>2]=d-1,d===1},this.set_adjusted_ptr=function(d){q[this.ptr+16>>2]=d},this.get_adjusted_ptr=function(){return q[this.ptr+16>>2]},this.get_exception_ptr=function(){var d=Kr(this.get_type());if(d)return q[this.excPtr>>2];var _=this.get_adjusted_ptr();return _!==0?_:this.excPtr}}function Fe(c,d,_){var $=new fr(c);throw $.init(d,_),c}function Ve(c,d,_,$,R){}function Ue(c){switch(c){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+c)}}function ze(){for(var c=new Array(256),d=0;d<256;++d)c[d]=String.fromCharCode(d);oe=c}var oe=void 0;function N(c){for(var d="",_=c;x[_];)d+=oe[x[_++]];return d}var ve={},te={},We={},se=48,be=57;function Xe(c){if(c===void 0)return"_unknown";c=c.replace(/[^a-zA-Z0-9_]/g,"$");var d=c.charCodeAt(0);return d>=se&&d<=be?"_"+c:c}function en(c,d){return c=Xe(c),{[c]:function(){return d.apply(this,arguments)}}[c]}function lr(c,d){var _=en(d,function($){this.name=d,this.message=$;var R=new Error($).stack;R!==void 0&&(this.stack=this.toString()+`
`+R.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(c.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},_}var X=void 0;function Q(c){throw new X(c)}var _e=void 0;function pe(c){throw new _e(c)}function G(c,d,_){c.forEach(function(a){We[a]=d});function $(a){var s=_(a);s.length!==c.length&&pe("Mismatched type converter count");for(var p=0;p<c.length;++p)ae(c[p],s[p])}var R=new Array(d.length),U=[],O=0;d.forEach((a,s)=>{te.hasOwnProperty(a)?R[s]=te[a]:(U.push(a),ve.hasOwnProperty(a)||(ve[a]=[]),ve[a].push(()=>{R[s]=te[a],++O,O===U.length&&$(R)}))}),U.length===0&&$(R)}function ae(c,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");var $=d.name;if(c||Q('type "'+$+'" must have a positive integer typeid pointer'),te.hasOwnProperty(c)){if(_.ignoreDuplicateRegistrations)return;Q("Cannot register type '"+$+"' twice")}if(te[c]=d,delete We[c],ve.hasOwnProperty(c)){var R=ve[c];delete ve[c],R.forEach(U=>U())}}function rn(c,d,_,$,R){var U=Ue(_);d=N(d),ae(c,{name:d,fromWireType:function(O){return!!O},toWireType:function(O,a){return a?$:R},argPackAdvance:8,readValueFromPointer:function(O){var a;if(_===1)a=B;else if(_===2)a=H;else if(_===4)a=k;else throw new TypeError("Unknown boolean type size: "+d);return this.fromWireType(a[O>>U])},destructorFunction:null})}var we=[],Z=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Je(c){c>4&&--Z[c].refcount===0&&(Z[c]=void 0,we.push(c))}function Ae(){for(var c=0,d=5;d<Z.length;++d)Z[d]!==void 0&&++c;return c}function Sr(){for(var c=5;c<Z.length;++c)if(Z[c]!==void 0)return Z[c];return null}function tr(){e.count_emval_handles=Ae,e.get_first_emval=Sr}var ur={toValue:c=>(c||Q("Cannot use deleted val. handle = "+c),Z[c].value),toHandle:c=>{switch(c){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var d=we.length?we.pop():Z.length;return Z[d]={refcount:1,value:c},d}}}};function yr(c){return this.fromWireType(k[c>>2])}function ir(c,d){d=N(d),ae(c,{name:d,fromWireType:function(_){var $=ur.toValue(_);return Je(_),$},toWireType:function(_,$){return ur.toHandle($)},argPackAdvance:8,readValueFromPointer:yr,destructorFunction:null})}function kr(c,d){switch(d){case 2:return function(_){return this.fromWireType(Y[_>>2])};case 3:return function(_){return this.fromWireType(or[_>>3])};default:throw new TypeError("Unknown float type: "+c)}}function Ir(c,d,_){var $=Ue(_);d=N(d),ae(c,{name:d,fromWireType:function(R){return R},toWireType:function(R,U){return U},argPackAdvance:8,readValueFromPointer:kr(d,$),destructorFunction:null})}function nn(c){for(;c.length;){var d=c.pop(),_=c.pop();_(d)}}function Hr(c,d,_,$,R,U){var O=d.length;O<2&&Q("argTypes array size mismatch! Must at least get return value and 'this' types!"),d[1];for(var a=!1,s=1;s<d.length;++s)if(d[s]!==null&&d[s].destructorFunction===void 0){a=!0;break}var p=d[0].name!=="void",b=O-2,w=new Array(b),E=[],S=[];return function(){arguments.length!==b&&Q("function "+c+" called with "+arguments.length+" arguments, expected "+b+" args!"),S.length=0;var W;E.length=1,E[0]=R;for(var j=0;j<b;++j)w[j]=d[j+2].toWireType(S,arguments[j]),E.push(w[j]);var V=$.apply(null,E);function le(ee){if(a)nn(S);else for(var L=2;L<d.length;L++){var Ne=L===1?W:w[L-2];d[L].destructorFunction!==null&&d[L].destructorFunction(Ne)}if(p)return d[0].fromWireType(ee)}return le(V)}}function Ke(c,d,_){if(c[d].overloadTable===void 0){var $=c[d];c[d]=function(){return c[d].overloadTable.hasOwnProperty(arguments.length)||Q("Function '"+_+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+c[d].overloadTable+")!"),c[d].overloadTable[arguments.length].apply(this,arguments)},c[d].overloadTable=[],c[d].overloadTable[$.argCount]=$}}function tn(c,d,_){e.hasOwnProperty(c)?((_===void 0||e[c].overloadTable!==void 0&&e[c].overloadTable[_]!==void 0)&&Q("Cannot register public name '"+c+"' twice"),Ke(e,c,c),e.hasOwnProperty(_)&&Q("Cannot register multiple overloads of a function with the same number of arguments ("+_+")!"),e[c].overloadTable[_]=d):(e[c]=d,_!==void 0&&(e[c].numArguments=_))}function an(c,d){for(var _=[],$=0;$<c;$++)_.push(q[d+$*4>>2]);return _}function $r(c,d,_){e.hasOwnProperty(c)||pe("Replacing nonexistant public symbol"),e[c].overloadTable!==void 0&&_!==void 0?e[c].overloadTable[_]=d:(e[c]=d,e[c].argCount=_)}function Br(c,d,_){var $=e["dynCall_"+c];return _&&_.length?$.apply(null,[d].concat(_)):$.call(null,d)}var He=[];function Tr(c){var d=He[c];return d||(c>=He.length&&(He.length=c+1),He[c]=d=vr.get(c)),d}function mr(c,d,_){if(c.includes("j"))return Br(c,d,_);var $=Tr(d).apply(null,_);return $}function Nr(c,d){var _=[];return function(){return _.length=0,Object.assign(_,arguments),mr(c,d,_)}}function on(c,d){c=N(c);function _(){return c.includes("j")?Nr(c,d):Tr(d)}var $=_();return typeof $!="function"&&Q("unknown function pointer with signature "+c+": "+d),$}var ar=void 0;function Or(c){var d=Jr(c),_=N(d);return Be(d),_}function jr(c,d){var _=[],$={};function R(U){if(!$[U]&&!te[U]){if(We[U]){We[U].forEach(R);return}_.push(U),$[U]=!0}}throw d.forEach(R),new ar(c+": "+_.map(Or).join([", "]))}function Dr(c,d,_,$,R,U,O){var a=an(d,_);c=N(c),R=on($,R),tn(c,function(){jr("Cannot call "+c+" due to unbound types",a)},d-1),G([],a,function(s){var p=[s[0],null].concat(s.slice(1));return $r(c,Hr(c,p,null,R,U),d-1),[]})}function sn(c,d,_){switch(d){case 0:return _?function(R){return B[R]}:function(R){return x[R]};case 1:return _?function(R){return H[R>>1]}:function(R){return ce[R>>1]};case 2:return _?function(R){return k[R>>2]}:function(R){return q[R>>2]};default:throw new TypeError("Unknown integer type: "+c)}}function fn(c,d,_,$,R){d=N(d);var U=Ue(_),O=w=>w;if($===0){var a=32-8*_;O=w=>w<<a>>>a}var s=d.includes("unsigned"),p=(w,E)=>{},b;s?b=function(w,E){return p(E,this.name),E>>>0}:b=function(w,E){return p(E,this.name),E},ae(c,{name:d,fromWireType:O,toWireType:b,argPackAdvance:8,readValueFromPointer:sn(d,U,$!==0),destructorFunction:null})}function Lr(c,d,_){var $=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],R=$[d];function U(O){O=O>>2;var a=q,s=a[O],p=a[O+1];return new R(a.buffer,p,s)}_=N(_),ae(c,{name:_,fromWireType:U,argPackAdvance:8,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})}function ln(c,d){d=N(d);var _=d==="std::string";ae(c,{name:d,fromWireType:function($){var R=q[$>>2],U=$+4,O;if(_)for(var a=U,s=0;s<=R;++s){var p=U+s;if(s==R||x[p]==0){var b=p-a,w=Re(a,b);O===void 0?O=w:(O+="\0",O+=w),a=p+1}}else{for(var E=new Array(R),s=0;s<R;++s)E[s]=String.fromCharCode(x[U+s]);O=E.join("")}return Be($),O},toWireType:function($,R){R instanceof ArrayBuffer&&(R=new Uint8Array(R));var U,O=typeof R=="string";O||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int8Array||Q("Cannot pass non-string to std::string"),_&&O?U=ie(R):U=R.length;var a=Cr(4+U+1),s=a+4;if(q[a>>2]=U,_&&O)ge(R,s,U+1);else if(O)for(var p=0;p<U;++p){var b=R.charCodeAt(p);b>255&&(Be(s),Q("String has UTF-16 code units that do not fit in 8 bits")),x[s+p]=b}else for(var p=0;p<U;++p)x[s+p]=R[p];return $!==null&&$.push(Be,a),a},argPackAdvance:8,readValueFromPointer:yr,destructorFunction:function($){Be($)}})}function un(c,d){for(var _="",$=0;!($>=d/2);++$){var R=H[c+$*2>>1];if(R==0)break;_+=String.fromCharCode(R)}return _}function cn(c,d,_){if(_===void 0&&(_=2147483647),_<2)return 0;_-=2;for(var $=d,R=_<c.length*2?_/2:c.length,U=0;U<R;++U){var O=c.charCodeAt(U);H[d>>1]=O,d+=2}return H[d>>1]=0,d-$}function dn(c){return c.length*2}function qr(c,d){for(var _=0,$="";!(_>=d/4);){var R=k[c+_*4>>2];if(R==0)break;if(++_,R>=65536){var U=R-65536;$+=String.fromCharCode(55296|U>>10,56320|U&1023)}else $+=String.fromCharCode(R)}return $}function vn(c,d,_){if(_===void 0&&(_=2147483647),_<4)return 0;for(var $=d,R=$+_-4,U=0;U<c.length;++U){var O=c.charCodeAt(U);if(O>=55296&&O<=57343){var a=c.charCodeAt(++U);O=65536+((O&1023)<<10)|a&1023}if(k[d>>2]=O,d+=4,d+4>R)break}return k[d>>2]=0,d-$}function xr(c){for(var d=0,_=0;_<c.length;++_){var $=c.charCodeAt(_);$>=55296&&$<=57343&&++_,d+=4}return d}function pn(c,d,_){_=N(_);var $,R,U,O,a;d===2?($=un,R=cn,O=dn,U=()=>ce,a=1):d===4&&($=qr,R=vn,O=xr,U=()=>q,a=2),ae(c,{name:_,fromWireType:function(s){for(var p=q[s>>2],b=U(),w,E=s+4,S=0;S<=p;++S){var W=s+4+S*d;if(S==p||b[W>>a]==0){var j=W-E,V=$(E,j);w===void 0?w=V:(w+="\0",w+=V),E=W+d}}return Be(s),w},toWireType:function(s,p){typeof p!="string"&&Q("Cannot pass non-string to C++ string type "+_);var b=O(p),w=Cr(4+b+d);return q[w>>2]=b>>a,R(p,w+4,b+d),s!==null&&s.push(Be,w),w},argPackAdvance:8,readValueFromPointer:yr,destructorFunction:function(s){Be(s)}})}function hn(c,d){d=N(d),ae(c,{isVoid:!0,name:d,argPackAdvance:0,fromWireType:function(){},toWireType:function(_,$){}})}var gn={};function _n(c){var d=gn[c];return d===void 0?N(c):d}function br(){if(typeof globalThis=="object")return globalThis;function c(d){d.$$$embind_global$$$=d;var _=typeof $$$embind_global$$$=="object"&&d.$$$embind_global$$$==d;return _||delete d.$$$embind_global$$$,_}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&c(global)?$$$embind_global$$$=global:typeof self=="object"&&c(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function yn(c){return c===0?ur.toHandle(br()):(c=_n(c),ur.toHandle(br()[c]))}function Gr(c){c>4&&(Z[c].refcount+=1)}function Mr(c,d){var _=te[c];return _===void 0&&Q(d+" has unknown type "+Or(c)),_}function mn(c){var d=new Array(c+1);return function(_,$,R){d[0]=_;for(var U=0;U<c;++U){var O=Mr(q[$+U*4>>2],"parameter "+U);d[U+1]=O.readValueFromPointer(R),R+=O.argPackAdvance}var a=new(_.bind.apply(_,d));return ur.toHandle(a)}}var wr={};function bn(c,d,_,$){c=ur.toValue(c);var R=wr[d];return R||(R=mn(d),wr[d]=R),R(c,_,$)}function zr(){er("")}function Xr(c,d,_){x.copyWithin(c,d,d+_)}function Er(){return 2147483648}function wn(c){var d=ue.buffer;try{return ue.grow(c-d.byteLength+65535>>>16),sr(),1}catch{}}function An(c){var d=x.length;c=c>>>0;var _=Er();if(c>_)return!1;let $=(s,p)=>s+(p-s%p)%p;for(var R=1;R<=4;R*=2){var U=d*(1+.2/R);U=Math.min(U,c+100663296);var O=Math.min(_,$(Math.max(c,U),65536)),a=wn(O);if(a)return!0}return!1}ze(),X=e.BindingError=lr(Error,"BindingError"),_e=e.InternalError=lr(Error,"InternalError"),tr(),ar=e.UnboundTypeError=lr(Error,"UnboundTypeError");var $n={n:Fe,o:Ve,l:rn,r:ir,k:Ir,c:Dr,b:fn,a:Lr,g:ln,f:pn,m:hn,d:Je,e:yn,i:Gr,h:bn,j:zr,q:Xr,p:An};_r();var Cr=function(){return(Cr=e.asm.u).apply(null,arguments)},Be=function(){return(Be=e.asm.v).apply(null,arguments)},Jr=e.___getTypeName=function(){return(Jr=e.___getTypeName=e.asm.w).apply(null,arguments)};e.__embind_initialize_bindings=function(){return(e.__embind_initialize_bindings=e.asm.x).apply(null,arguments)};var Kr=function(){return(Kr=e.asm.z).apply(null,arguments)},Rr;Pe=function c(){Rr||Yr(),Rr||(Pe=c)};function Yr(){if(qe>0||(Vr(),qe>0))return;function c(){Rr||(Rr=!0,e.calledRun=!0,!De&&(Zr(),P(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Qe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),c()},1)):c()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Yr(),e.ready})})();let Jn;async function Zt(y,A){let e=y,P=A;arguments.length===1&&!(y instanceof WebAssembly.Module)&&(e=void 0,P=y),Jn=Xn(Qt,e,P)}async function ei(y){Jn||Zt();const e=(await Jn).decode(y);if(!e)throw new Error("Decoding error");return e}let Nn=!1;async function ri(y,A){switch(y){case"avif":return await pt(A);case"jpeg":return await At(A);case"jxl":return await Ut(A);case"png":return await Xt(A);case"webp":return await ei(A);default:throw new Error(`Unknown source type: ${y}`)}}async function ni(y,A){switch(y){case"avif":return await ct(A);case"jpeg":return await mt(A);case"jxl":return await Rt(A);case"png":return await Gt(A);case"webp":return await Yt(A);default:throw new Error(`Unknown output type: ${y}`)}}async function ti(y,A,e){const P=await ri(y,e);return ni(A,P)}addEventListener("message",async function(y){const{sourceType:A,outputType:e,fileBuffer:P}=y.data;if(Nn)throw new Error("Conversion task already in progress");if(!A||!e||!P)throw new Error("Inputs sourceType, outputType and fileBuffer were not present in message");Nn=!0;const D=await ti(A,e,P);postMessage(D),Nn=!1});
