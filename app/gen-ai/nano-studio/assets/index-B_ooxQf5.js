(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qc={exports:{}},fa={};
var wg;function QE(){if(wg)return fa;wg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:c,ref:l!==void 0?l:null,props:u}}return fa.Fragment=e,fa.jsx=o,fa.jsxs=o,fa}var _g;function ZE(){return _g||(_g=1,qc.exports=QE()),qc.exports}var S=ZE(),zc={exports:{}},ge={};
 var bg;function $E(){if(bg)return ge;bg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,R={};function D(M,X,F){this.props=M,this.context=X,this.refs=R,this.updater=F||w}D.prototype.isReactComponent={},D.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function V(){}V.prototype=D.prototype;function P(M,X,F){this.props=M,this.context=X,this.refs=R,this.updater=F||w}var k=P.prototype=new V;k.constructor=P,_(k,D.prototype),k.isPureReactComponent=!0;var U=Array.isArray;function J(){}var B={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function j(M,X,F){var Z=F.ref;return{$$typeof:t,type:M,key:X,ref:Z!==void 0?Z:null,props:F}}function te(M,X){return j(M.type,X,M.props)}function he(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function le(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(F){return X[F]})}var ye=/\/+/g;function ze(M,X){return typeof M=="object"&&M!==null&&M.key!=null?le(""+M.key):X.toString(36)}function Qe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(J,J):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function O(M,X,F,Z,ie){var oe=typeof M;(oe==="undefined"||oe==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(oe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case t:case e:pe=!0;break;case v:return pe=M._init,O(pe(M._payload),X,F,Z,ie)}}if(pe)return ie=ie(M),pe=Z===""?"."+ze(M,0):Z,U(ie)?(F="",pe!=null&&(F=pe.replace(ye,"$&/")+"/"),O(ie,X,F,"",function(Ve){return Ve})):ie!=null&&(he(ie)&&(ie=te(ie,F+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(ye,"$&/")+"/")+pe)),X.push(ie)),1;pe=0;var Ee=Z===""?".":Z+":";if(U(M))for(var me=0;me<M.length;me++)Z=M[me],oe=Ee+ze(Z,me),pe+=O(Z,X,F,oe,ie);else if(me=C(M),typeof me=="function")for(M=me.call(M),me=0;!(Z=M.next()).done;)Z=Z.value,oe=Ee+ze(Z,me++),pe+=O(Z,X,F,oe,ie);else if(oe==="object"){if(typeof M.then=="function")return O(Qe(M),X,F,Z,ie);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pe}function W(M,X,F){if(M==null)return M;var Z=[],ie=0;return O(M,Z,"","",function(oe){return X.call(F,oe,ie++)}),Z}function ne(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(F){(M._status===0||M._status===-1)&&(M._status=1,M._result=F)},function(F){(M._status===0||M._status===-1)&&(M._status=2,M._result=F)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var ve=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Se={map:W,forEach:function(M,X,F){W(M,function(){X.apply(this,arguments)},F)},count:function(M){var X=0;return W(M,function(){X++}),X},toArray:function(M){return W(M,function(X){return X})||[]},only:function(M){if(!he(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ge.Activity=T,ge.Children=Se,ge.Component=D,ge.Fragment=o,ge.Profiler=l,ge.PureComponent=P,ge.StrictMode=s,ge.Suspense=m,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return B.H.useMemoCache(M)}},ge.cache=function(M){return function(){return M.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(M,X,F){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Z=_({},M.props),ie=M.key;if(X!=null)for(oe in X.key!==void 0&&(ie=""+X.key),X)!$.call(X,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&X.ref===void 0||(Z[oe]=X[oe]);var oe=arguments.length-2;if(oe===1)Z.children=F;else if(1<oe){for(var pe=Array(oe),Ee=0;Ee<oe;Ee++)pe[Ee]=arguments[Ee+2];Z.children=pe}return j(M.type,ie,Z)},ge.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ge.createElement=function(M,X,F){var Z,ie={},oe=null;if(X!=null)for(Z in X.key!==void 0&&(oe=""+X.key),X)$.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ie[Z]=X[Z]);var pe=arguments.length-2;if(pe===1)ie.children=F;else if(1<pe){for(var Ee=Array(pe),me=0;me<pe;me++)Ee[me]=arguments[me+2];ie.children=Ee}if(M&&M.defaultProps)for(Z in pe=M.defaultProps,pe)ie[Z]===void 0&&(ie[Z]=pe[Z]);return j(M,oe,ie)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(M){return{$$typeof:h,render:M}},ge.isValidElement=he,ge.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},ge.memo=function(M,X){return{$$typeof:d,type:M,compare:X===void 0?null:X}},ge.startTransition=function(M){var X=B.T,F={};B.T=F;try{var Z=M(),ie=B.S;ie!==null&&ie(F,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(J,ve)}catch(oe){ve(oe)}finally{X!==null&&F.types!==null&&(X.types=F.types),B.T=X}},ge.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ge.use=function(M){return B.H.use(M)},ge.useActionState=function(M,X,F){return B.H.useActionState(M,X,F)},ge.useCallback=function(M,X){return B.H.useCallback(M,X)},ge.useContext=function(M){return B.H.useContext(M)},ge.useDebugValue=function(){},ge.useDeferredValue=function(M,X){return B.H.useDeferredValue(M,X)},ge.useEffect=function(M,X){return B.H.useEffect(M,X)},ge.useEffectEvent=function(M){return B.H.useEffectEvent(M)},ge.useId=function(){return B.H.useId()},ge.useImperativeHandle=function(M,X,F){return B.H.useImperativeHandle(M,X,F)},ge.useInsertionEffect=function(M,X){return B.H.useInsertionEffect(M,X)},ge.useLayoutEffect=function(M,X){return B.H.useLayoutEffect(M,X)},ge.useMemo=function(M,X){return B.H.useMemo(M,X)},ge.useOptimistic=function(M,X){return B.H.useOptimistic(M,X)},ge.useReducer=function(M,X,F){return B.H.useReducer(M,X,F)},ge.useRef=function(M){return B.H.useRef(M)},ge.useState=function(M){return B.H.useState(M)},ge.useSyncExternalStore=function(M,X,F){return B.H.useSyncExternalStore(M,X,F)},ge.useTransition=function(){return B.H.useTransition()},ge.version="19.2.0",ge}var Mg;function kf(){return Mg||(Mg=1,zc.exports=$E()),zc.exports}var L=kf();const Le=Nv(L);var Oc={exports:{}},da={},Fc={exports:{}},Yc={};
 var Rg;function WE(){return Rg||(Rg=1,(function(t){function e(O,W){var ne=O.length;O.push(W);e:for(;0<ne;){var ve=ne-1>>>1,Se=O[ve];if(0<l(Se,W))O[ve]=W,O[ne]=Se,ne=ve;else break e}}function o(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var W=O[0],ne=O.pop();if(ne!==W){O[0]=ne;e:for(var ve=0,Se=O.length,M=Se>>>1;ve<M;){var X=2*(ve+1)-1,F=O[X],Z=X+1,ie=O[Z];if(0>l(F,ne))Z<Se&&0>l(ie,F)?(O[ve]=ie,O[Z]=ne,ve=Z):(O[ve]=F,O[X]=ne,ve=X);else if(Z<Se&&0>l(ie,ne))O[ve]=ie,O[Z]=ne,ve=Z;else break e}}return W}function l(O,W){var ne=O.sortIndex-W.sortIndex;return ne!==0?ne:O.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],d=[],v=1,T=null,x=3,C=!1,w=!1,_=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function k(O){for(var W=o(d);W!==null;){if(W.callback===null)s(d);else if(W.startTime<=O)s(d),W.sortIndex=W.expirationTime,e(m,W);else break;W=o(d)}}function U(O){if(_=!1,k(O),!w)if(o(m)!==null)w=!0,J||(J=!0,le());else{var W=o(d);W!==null&&Qe(U,W.startTime-O)}}var J=!1,B=-1,$=5,j=-1;function te(){return R?!0:!(t.unstable_now()-j<$)}function he(){if(R=!1,J){var O=t.unstable_now();j=O;var W=!0;try{e:{w=!1,_&&(_=!1,V(B),B=-1),C=!0;var ne=x;try{t:{for(k(O),T=o(m);T!==null&&!(T.expirationTime>O&&te());){var ve=T.callback;if(typeof ve=="function"){T.callback=null,x=T.priorityLevel;var Se=ve(T.expirationTime<=O);if(O=t.unstable_now(),typeof Se=="function"){T.callback=Se,k(O),W=!0;break t}T===o(m)&&s(m),k(O)}else s(m);T=o(m)}if(T!==null)W=!0;else{var M=o(d);M!==null&&Qe(U,M.startTime-O),W=!1}}break e}finally{T=null,x=ne,C=!1}W=void 0}}finally{W?le():J=!1}}}var le;if(typeof P=="function")le=function(){P(he)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ze=ye.port2;ye.port1.onmessage=he,le=function(){ze.postMessage(null)}}else le=function(){D(he,0)};function Qe(O,W){B=D(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(O){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ne=x;x=W;try{return O()}finally{x=ne}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ne=x;x=O;try{return W()}finally{x=ne}},t.unstable_scheduleCallback=function(O,W,ne){var ve=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ve+ne:ve):ne=ve,O){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ne+Se,O={id:v++,callback:W,priorityLevel:O,startTime:ne,expirationTime:Se,sortIndex:-1},ne>ve?(O.sortIndex=ne,e(d,O),o(m)===null&&O===o(d)&&(_?(V(B),B=-1):_=!0,Qe(U,ne-ve))):(O.sortIndex=Se,e(m,O),w||C||(w=!0,J||(J=!0,le()))),O},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(O){var W=x;return function(){var ne=x;x=W;try{return O.apply(this,arguments)}finally{x=ne}}}})(Yc)),Yc}var Ng;function jE(){return Ng||(Ng=1,Fc.exports=WE()),Fc.exports}var Jc={exports:{}},St={};
 var Dg;function eC(){if(Dg)return St;Dg=1;var t=kf();function e(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:m,containerInfo:d,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,St.createPortal=function(m,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return u(m,d,null,v)},St.flushSync=function(m){var d=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=d,s.p=v,s.d.f()}},St.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(m,d))},St.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},St.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var v=d.as,T=h(v,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?s.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:C}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},St.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(m)},St.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,T=h(v,d.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},St.preloadModule=function(m,d){if(typeof m=="string")if(d){var v=h(d.as,d.crossOrigin);s.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(m)},St.requestFormReset=function(m){s.d.r(m)},St.unstable_batchedUpdates=function(m,d){return m(d)},St.useFormState=function(m,d,v){return c.H.useFormState(m,d,v)},St.useFormStatus=function(){return c.H.useHostTransitionStatus()},St.version="19.2.0",St}var Ig;function tC(){if(Ig)return Jc.exports;Ig=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jc.exports=eC(),Jc.exports}
 var Ug;function nC(){if(Ug)return da;Ug=1;var t=jE(),e=kf(),o=tC();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function d(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,r=i;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(r=g.return,r!==null){a=r;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return m(g),n;if(y===r)return m(g),i;y=y.sibling}throw Error(s(188))}if(a.return!==r.return)a=g,r=y;else{for(var E=!1,A=g.child;A;){if(A===a){E=!0,a=g,r=y;break}if(A===r){E=!0,r=g,a=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===a){E=!0,a=y,r=g;break}if(A===r){E=!0,r=y,a=g;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Symbol.for("react.client.reference");function ze(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ye?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case D:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case J:return"SuspenseList";case j:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case P:return n.displayName||"Context";case V:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case B:return i=n.displayName||null,i!==null?i:ze(n.type)||"Memo";case $:i=n._payload,n=n._init;try{return ze(n(i))}catch{}}return null}var Qe=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ve=[],Se=-1;function M(n){return{current:n}}function X(n){0>Se||(n.current=ve[Se],ve[Se]=null,Se--)}function F(n,i){Se++,ve[Se]=n.current,n.current=i}var Z=M(null),ie=M(null),oe=M(null),pe=M(null);function Ee(n,i){switch(F(oe,i),F(ie,n),F(Z,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Xp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Xp(i),n=Qp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(Z),F(Z,n)}function me(){X(Z),X(ie),X(oe)}function Ve(n){n.memoizedState!==null&&F(pe,n);var i=Z.current,a=Qp(i,n.type);i!==a&&(F(ie,n),F(Z,a))}function rt(n){ie.current===n&&(X(Z),X(ie)),pe.current===n&&(X(pe),la._currentValue=ne)}var Xt,Vt;function dt(n){if(Xt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Xt=i&&i[1]||"",Vt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+n+Vt}var Wn=!1;function Di(n,i){if(!n||Wn)return"";Wn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(z){var q=z}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(z){q=z}n.call(Q.prototype)}}else{try{throw Error()}catch(z){q=z}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(z){if(z&&q&&typeof z.stack=="string")return[z.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var b=E.split(`
`),H=A.split(`
`);for(g=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(r===b.length||g===H.length)for(r=b.length-1,g=H.length-1;1<=r&&0<=g&&b[r]!==H[g];)g--;for(;1<=r&&0<=g;r--,g--)if(b[r]!==H[g]){if(r!==1||g!==1)do if(r--,g--,0>g||b[r]!==H[g]){var Y=`
`+b[r].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=r&&0<=g);break}}}finally{Wn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?dt(a):""}function ro(n,i){switch(n.tag){case 26:case 27:case 5:return dt(n.type);case 16:return dt("Lazy");case 13:return n.child!==i&&i!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Di(n.type,!1);case 11:return Di(n.type.render,!1);case 1:return Di(n.type,!0);case 31:return dt("Activity");default:return""}}function uo(n){try{var i="",a=null;do i+=ro(n,a),a=n,n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var co=Object.prototype.hasOwnProperty,Ii=t.unstable_scheduleCallback,jn=t.unstable_cancelCallback,Ui=t.unstable_shouldYield,Pi=t.unstable_requestPaint,ee=t.unstable_now,ue=t.unstable_getCurrentPriorityLevel,_t=t.unstable_ImmediatePriority,$e=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,bt=t.unstable_LowPriority,dn=t.unstable_IdlePriority,Li=t.log,Ts=t.unstable_setDisableYieldValue,Vi=null,Ie=null;function ut(n){if(typeof Li=="function"&&Ts(n),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Vi,n)}catch{}}var ct=Math.clz32?Math.clz32:xn,Qt=Math.log,Zt=Math.LN2;function xn(n){return n>>>=0,n===0?32:31-(Qt(n)/Zt|0)|0}var $t=256,Sn=262144,fo=4194304;function Mn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ho(n,i,a){var r=n.pendingLanes;if(r===0)return 0;var g=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=r&134217727;return A!==0?(r=A&~y,r!==0?g=Mn(r):(E&=A,E!==0?g=Mn(E):a||(a=A&~n,a!==0&&(g=Mn(a))))):(A=r&~y,A!==0?g=Mn(A):E!==0?g=Mn(E):a||(a=r&~n,a!==0&&(g=Mn(a)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:g}function xs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Vx(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rd(){var n=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),n}function Rr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ss(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function kx(n,i,a,r,g,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,b=n.expirationTimes,H=n.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-ct(a),Q=1<<Y;A[Y]=0,b[Y]=-1;var q=H[Y];if(q!==null)for(H[Y]=null,Y=0;Y<q.length;Y++){var z=q[Y];z!==null&&(z.lane&=-536870913)}a&=~Q}r!==0&&Nd(n,r,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function Nd(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var r=31-ct(i);n.entangledLanes|=i,n.entanglements[r]=n.entanglements[r]|1073741824|a&261930}function Dd(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var r=31-ct(a),g=1<<r;g&i|n[r]&i&&(n[r]|=i),a&=~g}}function Id(n,i){var a=i&-i;return a=(a&42)!==0?1:Nr(a),(a&(n.suspendedLanes|i))!==0?0:a}function Nr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Dr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ud(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:vg(n.type))}function Pd(n,i){var a=W.p;try{return W.p=n,i()}finally{W.p=a}}var ei=Math.random().toString(36).slice(2),pt="__reactFiber$"+ei,Mt="__reactProps$"+ei,mo="__reactContainer$"+ei,Ir="__reactEvents$"+ei,Bx="__reactListeners$"+ei,Gx="__reactHandles$"+ei,Ld="__reactResources$"+ei,Es="__reactMarker$"+ei;function Ur(n){delete n[pt],delete n[Mt],delete n[Ir],delete n[Bx],delete n[Gx]}function po(n){var i=n[pt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[mo]||a[pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=ng(n);n!==null;){if(a=n[pt])return a;n=ng(n)}return i}n=a,a=n.parentNode}return null}function go(n){if(n=n[pt]||n[mo]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Cs(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function yo(n){var i=n[Ld];return i||(i=n[Ld]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(n){n[Es]=!0}var Vd=new Set,kd={};function ki(n,i){vo(n,i),vo(n+"Capture",i)}function vo(n,i){for(kd[n]=i,n=0;n<i.length;n++)Vd.add(i[n])}var Hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bd={},Gd={};function qx(n){return co.call(Gd,n)?!0:co.call(Bd,n)?!1:Hx.test(n)?Gd[n]=!0:(Bd[n]=!0,!1)}function Va(n,i,a){if(qx(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ka(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Rn(n,i,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+r)}}function Wt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zx(n,i,a){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var g=r.get,y=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Pr(n){if(!n._valueTracker){var i=Hd(n)?"checked":"value";n._valueTracker=zx(n,i,""+n[i])}}function qd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return n&&(r=Hd(n)?n.checked?"true":"false":n.value),n=r,n!==a?(i.setValue(n),!0):!1}function Ba(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ox=/[\n"\\]/g;function jt(n){return n.replace(Ox,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Lr(n,i,a,r,g,y,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Wt(i)):n.value!==""+Wt(i)&&(n.value=""+Wt(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Vr(n,E,Wt(i)):a!=null?Vr(n,E,Wt(a)):r!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Wt(A):n.removeAttribute("name")}function zd(n,i,a,r,g,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Pr(n);return}a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,A||i===n.value||(n.value=i),n.defaultValue=i}r=r??g,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=A?n.checked:!!r,n.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Pr(n)}function Vr(n,i,a){i==="number"&&Ba(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function To(n,i,a,r){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&r&&(n[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,r&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Od(n,i,a){if(i!=null&&(i=""+Wt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Wt(a):""}function Fd(n,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(s(92));if(Qe(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Wt(i),n.defaultValue=a,r=n.textContent,r===a&&r!==""&&r!==null&&(n.value=r),Pr(n)}function xo(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Fx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yd(n,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":r?n.setProperty(i,a):typeof a!="number"||a===0||Fx.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Jd(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var g in i)r=i[g],i.hasOwnProperty(g)&&a[g]!==r&&Yd(n,g,r)}else for(var y in i)i.hasOwnProperty(y)&&Yd(n,y,i[y])}function kr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(n){return Jx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nn(){}var Br=null;function Gr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var So=null,Eo=null;function Kd(n){var i=go(n);if(i&&(n=i.stateNode)){var a=n[Mt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Lr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==n&&r.form===n.form){var g=r[Mt]||null;if(!g)throw Error(s(90));Lr(r,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===n.form&&qd(r)}break e;case"textarea":Od(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&To(n,!!a.multiple,i,!1)}}}var Hr=!1;function Xd(n,i,a){if(Hr)return n(i,a);Hr=!0;try{var r=n(i);return r}finally{if(Hr=!1,(So!==null||Eo!==null)&&(_l(),So&&(i=So,n=Eo,Eo=So=null,Kd(i),n)))for(i=0;i<n.length;i++)Kd(n[i])}}function As(n,i){var a=n.stateNode;if(a===null)return null;var r=a[Mt]||null;if(r===null)return null;a=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Dn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){qr=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{qr=!1}var ti=null,zr=null,Ha=null;function Qd(){if(Ha)return Ha;var n,i=zr,a=i.length,r,g="value"in ti?ti.value:ti.textContent,y=g.length;for(n=0;n<a&&i[n]===g[n];n++);var E=a-n;for(r=1;r<=E&&i[a-r]===g[y-r];r++);return Ha=g.slice(n,1<r?1-r:void 0)}function qa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function za(){return!0}function Zd(){return!1}function Rt(n){function i(a,r,g,y,E){this._reactName=a,this._targetInst=g,this.type=r,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?za:Zd,this.isPropagationStopped=Zd,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Rt(Bi),_s=T({},Bi,{view:0,detail:0}),Kx=Rt(_s),Or,Fr,bs,Fa=T({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bs&&(bs&&n.type==="mousemove"?(Or=n.screenX-bs.screenX,Fr=n.screenY-bs.screenY):Fr=Or=0,bs=n),Or)},movementY:function(n){return"movementY"in n?n.movementY:Fr}}),$d=Rt(Fa),Xx=T({},Fa,{dataTransfer:0}),Qx=Rt(Xx),Zx=T({},_s,{relatedTarget:0}),Yr=Rt(Zx),$x=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=Rt($x),jx=T({},Bi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eS=Rt(jx),tS=T({},Bi,{data:0}),Wd=Rt(tS),nS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=oS[n])?!!i[n]:!1}function Jr(){return sS}var aS=T({},_s,{key:function(n){if(n.key){var i=nS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=qa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?iS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(n){return n.type==="keypress"?qa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),lS=Rt(aS),rS=T({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=Rt(rS),uS=T({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),cS=Rt(uS),fS=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dS=Rt(fS),hS=T({},Fa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mS=Rt(hS),pS=T({},Bi,{newState:0,oldState:0}),gS=Rt(pS),yS=[9,13,27,32],Kr=Dn&&"CompositionEvent"in window,Ms=null;Dn&&"documentMode"in document&&(Ms=document.documentMode);var vS=Dn&&"TextEvent"in window&&!Ms,eh=Dn&&(!Kr||Ms&&8<Ms&&11>=Ms),th=" ",nh=!1;function ih(n,i){switch(n){case"keyup":return yS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Co=!1;function TS(n,i){switch(n){case"compositionend":return oh(i);case"keypress":return i.which!==32?null:(nh=!0,th);case"textInput":return n=i.data,n===th&&nh?null:n;default:return null}}function xS(n,i){if(Co)return n==="compositionend"||!Kr&&ih(n,i)?(n=Qd(),Ha=zr=ti=null,Co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return eh&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!SS[n.type]:i==="textarea"}function ah(n,i,a,r){So?Eo?Eo.push(r):Eo=[r]:So=r,i=Ul(i,"onChange"),0<i.length&&(a=new Oa("onChange","change",null,a,r),n.push({event:a,listeners:i}))}var Rs=null,Ns=null;function ES(n){zp(n,0)}function Ya(n){var i=Cs(n);if(qd(i))return n}function lh(n,i){if(n==="change")return i}var rh=!1;if(Dn){var Xr;if(Dn){var Qr="oninput"in document;if(!Qr){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),Qr=typeof uh.oninput=="function"}Xr=Qr}else Xr=!1;rh=Xr&&(!document.documentMode||9<document.documentMode)}function ch(){Rs&&(Rs.detachEvent("onpropertychange",fh),Ns=Rs=null)}function fh(n){if(n.propertyName==="value"&&Ya(Ns)){var i=[];ah(i,Ns,n,Gr(n)),Xd(ES,i)}}function CS(n,i,a){n==="focusin"?(ch(),Rs=i,Ns=a,Rs.attachEvent("onpropertychange",fh)):n==="focusout"&&ch()}function AS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ya(Ns)}function wS(n,i){if(n==="click")return Ya(i)}function _S(n,i){if(n==="input"||n==="change")return Ya(i)}function bS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var kt=typeof Object.is=="function"?Object.is:bS;function Ds(n,i){if(kt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var g=a[r];if(!co.call(i,g)||!kt(n[g],i[g]))return!1}return!0}function dh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hh(n,i){var a=dh(n);n=0;for(var r;a;){if(a.nodeType===3){if(r=n+a.textContent.length,n<=i&&r>=i)return{node:a,offset:i-n};n=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dh(a)}}function mh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?mh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ph(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ba(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ba(n.document)}return i}function Zr(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var MS=Dn&&"documentMode"in document&&11>=document.documentMode,Ao=null,$r=null,Is=null,Wr=!1;function gh(n,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wr||Ao==null||Ao!==Ba(r)||(r=Ao,"selectionStart"in r&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Ds(Is,r)||(Is=r,r=Ul($r,"onSelect"),0<r.length&&(i=new Oa("onSelect","select",null,i,a),n.push({event:i,listeners:r}),i.target=Ao)))}function Gi(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var wo={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},jr={},yh={};Dn&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Hi(n){if(jr[n])return jr[n];if(!wo[n])return n;var i=wo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in yh)return jr[n]=i[a];return n}var vh=Hi("animationend"),Th=Hi("animationiteration"),xh=Hi("animationstart"),RS=Hi("transitionrun"),NS=Hi("transitionstart"),DS=Hi("transitioncancel"),Sh=Hi("transitionend"),Eh=new Map,eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eu.push("scrollEnd");function hn(n,i){Eh.set(n,i),ki(i,[n])}var Ja=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},en=[],_o=0,tu=0;function Ka(){for(var n=_o,i=tu=_o=0;i<n;){var a=en[i];en[i++]=null;var r=en[i];en[i++]=null;var g=en[i];en[i++]=null;var y=en[i];if(en[i++]=null,r!==null&&g!==null){var E=r.pending;E===null?g.next=g:(g.next=E.next,E.next=g),r.pending=g}y!==0&&Ch(a,g,y)}}function Xa(n,i,a,r){en[_o++]=n,en[_o++]=i,en[_o++]=a,en[_o++]=r,tu|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function nu(n,i,a,r){return Xa(n,i,a,r),Qa(n)}function qi(n,i){return Xa(n,null,null,i),Qa(n)}function Ch(n,i,a){n.lanes|=a;var r=n.alternate;r!==null&&(r.lanes|=a);for(var g=!1,y=n.return;y!==null;)y.childLanes|=a,r=y.alternate,r!==null&&(r.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&i!==null&&(g=31-ct(a),n=y.hiddenUpdates,r=n[g],r===null?n[g]=[i]:r.push(i),i.lane=a|536870912),y):null}function Qa(n){if(50<ea)throw ea=0,fc=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var bo={};function IS(n,i,a,r){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(n,i,a,r){return new IS(n,i,a,r)}function iu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function In(n,i){var a=n.alternate;return a===null?(a=Bt(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ah(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Za(n,i,a,r,g,y){var E=0;if(r=n,typeof n=="function")iu(n)&&(E=1);else if(typeof n=="string")E=kE(n,a,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case j:return n=Bt(31,a,i,g),n.elementType=j,n.lanes=y,n;case _:return zi(a.children,g,y,i);case R:E=8,g|=24;break;case D:return n=Bt(12,a,i,g|2),n.elementType=D,n.lanes=y,n;case U:return n=Bt(13,a,i,g),n.elementType=U,n.lanes=y,n;case J:return n=Bt(19,a,i,g),n.elementType=J,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:E=10;break e;case V:E=9;break e;case k:E=11;break e;case B:E=14;break e;case $:E=16,r=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),r=null}return i=Bt(E,a,i,g),i.elementType=n,i.type=r,i.lanes=y,i}function zi(n,i,a,r){return n=Bt(7,n,r,i),n.lanes=a,n}function ou(n,i,a){return n=Bt(6,n,null,i),n.lanes=a,n}function wh(n){var i=Bt(18,null,null,0);return i.stateNode=n,i}function su(n,i,a){return i=Bt(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var _h=new WeakMap;function tn(n,i){if(typeof n=="object"&&n!==null){var a=_h.get(n);return a!==void 0?a:(i={value:n,source:i,stack:uo(i)},_h.set(n,i),i)}return{value:n,source:i,stack:uo(i)}}var Mo=[],Ro=0,$a=null,Us=0,nn=[],on=0,ni=null,En=1,Cn="";function Un(n,i){Mo[Ro++]=Us,Mo[Ro++]=$a,$a=n,Us=i}function bh(n,i,a){nn[on++]=En,nn[on++]=Cn,nn[on++]=ni,ni=n;var r=En;n=Cn;var g=32-ct(r)-1;r&=~(1<<g),a+=1;var y=32-ct(i)+g;if(30<y){var E=g-g%5;y=(r&(1<<E)-1).toString(32),r>>=E,g-=E,En=1<<32-ct(i)+g|a<<g|r,Cn=y+n}else En=1<<y|a<<g|r,Cn=n}function au(n){n.return!==null&&(Un(n,1),bh(n,1,0))}function lu(n){for(;n===$a;)$a=Mo[--Ro],Mo[Ro]=null,Us=Mo[--Ro],Mo[Ro]=null;for(;n===ni;)ni=nn[--on],nn[on]=null,Cn=nn[--on],nn[on]=null,En=nn[--on],nn[on]=null}function Mh(n,i){nn[on++]=En,nn[on++]=Cn,nn[on++]=ni,En=i.id,Cn=i.overflow,ni=n}var gt=null,Oe=null,be=!1,ii=null,sn=!1,ru=Error(s(519));function oi(n){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(tn(i,n)),ru}function Rh(n){var i=n.stateNode,a=n.type,r=n.memoizedProps;switch(i[pt]=n,i[Mt]=r,a){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(a=0;a<na.length;a++)Ae(na[a],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),zd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),Fd(i,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||Jp(i.textContent,a)?(r.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),r.onScroll!=null&&Ae("scroll",i),r.onScrollEnd!=null&&Ae("scrollend",i),r.onClick!=null&&(i.onclick=Nn),i=!0):i=!1,i||oi(n,!0)}function Nh(n){for(gt=n.return;gt;)switch(gt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:gt=gt.return}}function No(n){if(n!==gt)return!1;if(!be)return Nh(n),be=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||_c(n.type,n.memoizedProps)),a=!a),a&&Oe&&oi(n),Nh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Oe=tg(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Oe=tg(n)}else i===27?(i=Oe,vi(n.type)?(n=Dc,Dc=null,Oe=n):Oe=i):Oe=gt?ln(n.stateNode.nextSibling):null;return!0}function Oi(){Oe=gt=null,be=!1}function uu(){var n=ii;return n!==null&&(Ut===null?Ut=n:Ut.push.apply(Ut,n),ii=null),n}function Ps(n){ii===null?ii=[n]:ii.push(n)}var cu=M(null),Fi=null,Pn=null;function si(n,i,a){F(cu,i._currentValue),i._currentValue=a}function Ln(n){n._currentValue=cu.current,X(cu)}function fu(n,i,a){for(;n!==null;){var r=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),n===a)break;n=n.return}}function du(n,i,a,r){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=g;for(var b=0;b<i.length;b++)if(A.context===i[b]){y.lanes|=a,A=y.alternate,A!==null&&(A.lanes|=a),fu(y.return,a,n),r||(E=null);break e}y=A.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),fu(E,a,n),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===n){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Do(n,i,a,r){n=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=g.type;kt(g.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(g===pe.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(la):n=[la])}g=g.return}n!==null&&du(i,n,a,r),i.flags|=262144}function Wa(n){for(n=n.firstContext;n!==null;){if(!kt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Yi(n){Fi=n,Pn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yt(n){return Dh(Fi,n)}function ja(n,i){return Fi===null&&Yi(n),Dh(n,i)}function Dh(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pn===null){if(n===null)throw Error(s(308));Pn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Pn=Pn.next=i;return a}var US=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,r){n.push(r)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},PS=t.unstable_scheduleCallback,LS=t.unstable_NormalPriority,ot={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hu(){return{controller:new US,data:new Map,refCount:0}}function Ls(n){n.refCount--,n.refCount===0&&PS(LS,function(){n.controller.abort()})}var Vs=null,mu=0,Io=0,Uo=null;function VS(n,i){if(Vs===null){var a=Vs=[];mu=0,Io=yc(),Uo={status:"pending",value:void 0,then:function(r){a.push(r)}}}return mu++,i.then(Ih,Ih),i}function Ih(){if(--mu===0&&Vs!==null){Uo!==null&&(Uo.status="fulfilled");var n=Vs;Vs=null,Io=0,Uo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function kS(n,i){var a=[],r={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){r.status="fulfilled",r.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(r.status="rejected",r.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),r}var Uh=O.S;O.S=function(n,i){gp=ee(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VS(n,i),Uh!==null&&Uh(n,i)};var Ji=M(null);function pu(){var n=Ji.current;return n!==null?n:He.pooledCache}function el(n,i){i===null?F(Ji,Ji.current):F(Ji,i.pool)}function Ph(){var n=pu();return n===null?null:{parent:ot._currentValue,pool:n}}var Po=Error(s(460)),gu=Error(s(474)),tl=Error(s(542)),nl={then:function(){}};function Lh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vh(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Nn,Nn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Bh(n),n;default:if(typeof i.status=="string")i.then(Nn,Nn);else{if(n=He,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(r){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=r}},function(r){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Bh(n),n}throw Xi=i,Po}}function Ki(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xi=a,Po):a}}var Xi=null;function kh(){if(Xi===null)throw Error(s(459));var n=Xi;return Xi=null,n}function Bh(n){if(n===Po||n===tl)throw Error(s(483))}var Lo=null,ks=0;function il(n){var i=ks;return ks+=1,Lo===null&&(Lo=[]),Vh(Lo,n,i)}function Bs(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function ol(n,i){throw i.$$typeof===x?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Gh(n){function i(I,N){if(n){var G=I.deletions;G===null?(I.deletions=[N],I.flags|=16):G.push(N)}}function a(I,N){if(!n)return null;for(;N!==null;)i(I,N),N=N.sibling;return null}function r(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function g(I,N){return I=In(I,N),I.index=0,I.sibling=null,I}function y(I,N,G){return I.index=G,n?(G=I.alternate,G!==null?(G=G.index,G<N?(I.flags|=67108866,N):G):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function E(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function A(I,N,G,K){return N===null||N.tag!==6?(N=ou(G,I.mode,K),N.return=I,N):(N=g(N,G),N.return=I,N)}function b(I,N,G,K){var ce=G.type;return ce===_?Y(I,N,G.props.children,K,G.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===$&&Ki(ce)===N.type)?(N=g(N,G.props),Bs(N,G),N.return=I,N):(N=Za(G.type,G.key,G.props,null,I.mode,K),Bs(N,G),N.return=I,N)}function H(I,N,G,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==G.containerInfo||N.stateNode.implementation!==G.implementation?(N=su(G,I.mode,K),N.return=I,N):(N=g(N,G.children||[]),N.return=I,N)}function Y(I,N,G,K,ce){return N===null||N.tag!==7?(N=zi(G,I.mode,K,ce),N.return=I,N):(N=g(N,G),N.return=I,N)}function Q(I,N,G){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ou(""+N,I.mode,G),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return G=Za(N.type,N.key,N.props,null,I.mode,G),Bs(G,N),G.return=I,G;case w:return N=su(N,I.mode,G),N.return=I,N;case $:return N=Ki(N),Q(I,N,G)}if(Qe(N)||le(N))return N=zi(N,I.mode,G,null),N.return=I,N;if(typeof N.then=="function")return Q(I,il(N),G);if(N.$$typeof===P)return Q(I,ja(I,N),G);ol(I,N)}return null}function q(I,N,G,K){var ce=N!==null?N.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ce!==null?null:A(I,N,""+G,K);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===ce?b(I,N,G,K):null;case w:return G.key===ce?H(I,N,G,K):null;case $:return G=Ki(G),q(I,N,G,K)}if(Qe(G)||le(G))return ce!==null?null:Y(I,N,G,K,null);if(typeof G.then=="function")return q(I,N,il(G),K);if(G.$$typeof===P)return q(I,N,ja(I,G),K);ol(I,G)}return null}function z(I,N,G,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return I=I.get(G)||null,A(N,I,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return I=I.get(K.key===null?G:K.key)||null,b(N,I,K,ce);case w:return I=I.get(K.key===null?G:K.key)||null,H(N,I,K,ce);case $:return K=Ki(K),z(I,N,G,K,ce)}if(Qe(K)||le(K))return I=I.get(G)||null,Y(N,I,K,ce,null);if(typeof K.then=="function")return z(I,N,G,il(K),ce);if(K.$$typeof===P)return z(I,N,G,ja(N,K),ce);ol(N,K)}return null}function se(I,N,G,K){for(var ce=null,Me=null,re=N,xe=N=0,_e=null;re!==null&&xe<G.length;xe++){re.index>xe?(_e=re,re=null):_e=re.sibling;var Re=q(I,re,G[xe],K);if(Re===null){re===null&&(re=_e);break}n&&re&&Re.alternate===null&&i(I,re),N=y(Re,N,xe),Me===null?ce=Re:Me.sibling=Re,Me=Re,re=_e}if(xe===G.length)return a(I,re),be&&Un(I,xe),ce;if(re===null){for(;xe<G.length;xe++)re=Q(I,G[xe],K),re!==null&&(N=y(re,N,xe),Me===null?ce=re:Me.sibling=re,Me=re);return be&&Un(I,xe),ce}for(re=r(re);xe<G.length;xe++)_e=z(re,I,xe,G[xe],K),_e!==null&&(n&&_e.alternate!==null&&re.delete(_e.key===null?xe:_e.key),N=y(_e,N,xe),Me===null?ce=_e:Me.sibling=_e,Me=_e);return n&&re.forEach(function(Ci){return i(I,Ci)}),be&&Un(I,xe),ce}function fe(I,N,G,K){if(G==null)throw Error(s(151));for(var ce=null,Me=null,re=N,xe=N=0,_e=null,Re=G.next();re!==null&&!Re.done;xe++,Re=G.next()){re.index>xe?(_e=re,re=null):_e=re.sibling;var Ci=q(I,re,Re.value,K);if(Ci===null){re===null&&(re=_e);break}n&&re&&Ci.alternate===null&&i(I,re),N=y(Ci,N,xe),Me===null?ce=Ci:Me.sibling=Ci,Me=Ci,re=_e}if(Re.done)return a(I,re),be&&Un(I,xe),ce;if(re===null){for(;!Re.done;xe++,Re=G.next())Re=Q(I,Re.value,K),Re!==null&&(N=y(Re,N,xe),Me===null?ce=Re:Me.sibling=Re,Me=Re);return be&&Un(I,xe),ce}for(re=r(re);!Re.done;xe++,Re=G.next())Re=z(re,I,xe,Re.value,K),Re!==null&&(n&&Re.alternate!==null&&re.delete(Re.key===null?xe:Re.key),N=y(Re,N,xe),Me===null?ce=Re:Me.sibling=Re,Me=Re);return n&&re.forEach(function(XE){return i(I,XE)}),be&&Un(I,xe),ce}function Ge(I,N,G,K){if(typeof G=="object"&&G!==null&&G.type===_&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var ce=G.key;N!==null;){if(N.key===ce){if(ce=G.type,ce===_){if(N.tag===7){a(I,N.sibling),K=g(N,G.props.children),K.return=I,I=K;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===$&&Ki(ce)===N.type){a(I,N.sibling),K=g(N,G.props),Bs(K,G),K.return=I,I=K;break e}a(I,N);break}else i(I,N);N=N.sibling}G.type===_?(K=zi(G.props.children,I.mode,K,G.key),K.return=I,I=K):(K=Za(G.type,G.key,G.props,null,I.mode,K),Bs(K,G),K.return=I,I=K)}return E(I);case w:e:{for(ce=G.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===G.containerInfo&&N.stateNode.implementation===G.implementation){a(I,N.sibling),K=g(N,G.children||[]),K.return=I,I=K;break e}else{a(I,N);break}else i(I,N);N=N.sibling}K=su(G,I.mode,K),K.return=I,I=K}return E(I);case $:return G=Ki(G),Ge(I,N,G,K)}if(Qe(G))return se(I,N,G,K);if(le(G)){if(ce=le(G),typeof ce!="function")throw Error(s(150));return G=ce.call(G),fe(I,N,G,K)}if(typeof G.then=="function")return Ge(I,N,il(G),K);if(G.$$typeof===P)return Ge(I,N,ja(I,G),K);ol(I,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,N!==null&&N.tag===6?(a(I,N.sibling),K=g(N,G),K.return=I,I=K):(a(I,N),K=ou(G,I.mode,K),K.return=I,I=K),E(I)):a(I,N)}return function(I,N,G,K){try{ks=0;var ce=Ge(I,N,G,K);return Lo=null,ce}catch(re){if(re===Po||re===tl)throw re;var Me=Bt(29,re,null,I.mode);return Me.lanes=K,Me.return=I,Me}finally{}}}var Qi=Gh(!0),Hh=Gh(!1),ai=!1;function yu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function li(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ri(n,i,a){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var g=r.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),r.pending=i,i=Qa(n),Ch(n,null,a),i}return Xa(n,r,i,a),Qa(n)}function Gs(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=n.pendingLanes,a|=r,i.lanes=a,Dd(n,a)}}function Tu(n,i){var a=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?g=y=i:y=y.next=i}else g=y=i;a={baseState:r.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var xu=!1;function Hs(){if(xu){var n=Uo;if(n!==null)throw n}}function qs(n,i,a,r){xu=!1;var g=n.updateQueue;ai=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var b=A,H=b.next;b.next=null,E===null?y=H:E.next=H,E=b;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==E&&(A===null?Y.firstBaseUpdate=H:A.next=H,Y.lastBaseUpdate=b))}if(y!==null){var Q=g.baseState;E=0,Y=H=b=null,A=y;do{var q=A.lane&-536870913,z=q!==A.lane;if(z?(we&q)===q:(r&q)===q){q!==0&&q===Io&&(xu=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var se=n,fe=A;q=i;var Ge=a;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){Q=se.call(Ge,Q,q);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,q=typeof se=="function"?se.call(Ge,Q,q):se,q==null)break e;Q=T({},Q,q);break e;case 2:ai=!0}}q=A.callback,q!==null&&(n.flags|=64,z&&(n.flags|=8192),z=g.callbacks,z===null?g.callbacks=[q]:z.push(q))}else z={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(H=Y=z,b=Q):Y=Y.next=z,E|=q;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;z=A,A=z.next,z.next=null,g.lastBaseUpdate=z,g.shared.pending=null}}while(!0);Y===null&&(b=Q),g.baseState=b,g.firstBaseUpdate=H,g.lastBaseUpdate=Y,y===null&&(g.shared.lanes=0),hi|=E,n.lanes=E,n.memoizedState=Q}}function qh(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function zh(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)qh(a[n],i)}var Vo=M(null),sl=M(0);function Oh(n,i){n=Fn,F(sl,n),F(Vo,i),Fn=n|i.baseLanes}function Su(){F(sl,Fn),F(Vo,Vo.current)}function Eu(){Fn=sl.current,X(Vo),X(sl)}var Gt=M(null),an=null;function ui(n){var i=n.alternate;F(tt,tt.current&1),F(Gt,n),an===null&&(i===null||Vo.current!==null||i.memoizedState!==null)&&(an=n)}function Cu(n){F(tt,tt.current),F(Gt,n),an===null&&(an=n)}function Fh(n){n.tag===22?(F(tt,tt.current),F(Gt,n),an===null&&(an=n)):ci()}function ci(){F(tt,tt.current),F(Gt,Gt.current)}function Ht(n){X(Gt),an===n&&(an=null),X(tt)}var tt=M(0);function al(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rc(a)||Nc(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vn=0,Te=null,ke=null,st=null,ll=!1,ko=!1,Zi=!1,rl=0,zs=0,Bo=null,BS=0;function We(){throw Error(s(321))}function Au(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!kt(n[a],i[a]))return!1;return!0}function wu(n,i,a,r,g,y){return Vn=y,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=n===null||n.memoizedState===null?bm:Hu,Zi=!1,y=a(r,g),Zi=!1,ko&&(y=Jh(i,a,r,g)),Yh(n),y}function Yh(n){O.H=Ys;var i=ke!==null&&ke.next!==null;if(Vn=0,st=ke=Te=null,ll=!1,zs=0,Bo=null,i)throw Error(s(300));n===null||at||(n=n.dependencies,n!==null&&Wa(n)&&(at=!0))}function Jh(n,i,a,r){Te=n;var g=0;do{if(ko&&(Bo=null),zs=0,ko=!1,25<=g)throw Error(s(301));if(g+=1,st=ke=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=Mm,y=i(a,r)}while(ko);return y}function GS(){var n=O.H,i=n.useState()[0];return i=typeof i.then=="function"?Os(i):i,n=n.useState()[0],(ke!==null?ke.memoizedState:null)!==n&&(Te.flags|=1024),i}function _u(){var n=rl!==0;return rl=0,n}function bu(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Mu(n){if(ll){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ll=!1}Vn=0,st=ke=Te=null,ko=!1,zs=rl=0,Bo=null}function wt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Te.memoizedState=st=n:st=st.next=n,st}function nt(){if(ke===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=ke.next;var i=st===null?Te.memoizedState:st.next;if(i!==null)st=i,ke=n;else{if(n===null)throw Te.alternate===null?Error(s(467)):Error(s(310));ke=n,n={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},st===null?Te.memoizedState=st=n:st=st.next=n}return st}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(n){var i=zs;return zs+=1,Bo===null&&(Bo=[]),n=Vh(Bo,n,i),i=Te,(st===null?i.memoizedState:st.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?bm:Hu),n}function cl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Os(n);if(n.$$typeof===P)return yt(n)}throw Error(s(438,String(n)))}function Ru(n){var i=null,a=Te.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ul(),Te.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),r=0;r<n;r++)a[r]=te;return i.index++,a}function kn(n,i){return typeof i=="function"?i(n):i}function fl(n){var i=nt();return Nu(i,ke,n)}function Nu(n,i,a){var r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var g=n.baseQueue,y=r.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}i.baseQueue=g=y,r.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{i=g.next;var A=E=null,b=null,H=i,Y=!1;do{var Q=H.lane&-536870913;if(Q!==H.lane?(we&Q)===Q:(Vn&Q)===Q){var q=H.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Q===Io&&(Y=!0);else if((Vn&q)===q){H=H.next,q===Io&&(Y=!0);continue}else Q={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},b===null?(A=b=Q,E=y):b=b.next=Q,Te.lanes|=q,hi|=q;Q=H.action,Zi&&a(y,Q),y=H.hasEagerState?H.eagerState:a(y,Q)}else q={lane:Q,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},b===null?(A=b=q,E=y):b=b.next=q,Te.lanes|=Q,hi|=Q;H=H.next}while(H!==null&&H!==i);if(b===null?E=y:b.next=A,!kt(y,n.memoizedState)&&(at=!0,Y&&(a=Uo,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=b,r.lastRenderedState=y}return g===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function Du(n){var i=nt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var r=a.dispatch,g=a.pending,y=i.memoizedState;if(g!==null){a.pending=null;var E=g=g.next;do y=n(y,E.action),E=E.next;while(E!==g);kt(y,i.memoizedState)||(at=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,r]}function Kh(n,i,a){var r=Te,g=nt(),y=be;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!kt((ke||g).memoizedState,a);if(E&&(g.memoizedState=a,at=!0),g=g.queue,Pu(Zh.bind(null,r,g,n),[n]),g.getSnapshot!==i||E||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Go(9,{destroy:void 0},Qh.bind(null,r,g,a,i),null),He===null)throw Error(s(349));y||(Vn&127)!==0||Xh(r,i,a)}return a}function Xh(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Te.updateQueue,i===null?(i=ul(),Te.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Qh(n,i,a,r){i.value=a,i.getSnapshot=r,$h(i)&&Wh(n)}function Zh(n,i,a){return a(function(){$h(i)&&Wh(n)})}function $h(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!kt(n,a)}catch{return!0}}function Wh(n){var i=qi(n,2);i!==null&&Pt(i,n,2)}function Iu(n){var i=wt();if(typeof n=="function"){var a=n;if(n=a(),Zi){ut(!0);try{a()}finally{ut(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:n},i}function jh(n,i,a,r){return n.baseState=a,Nu(n,ke,typeof r=="function"?r:kn)}function HS(n,i,a,r,g){if(ml(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};O.T!==null?a(!0):y.isTransition=!1,r(y),a=i.pending,a===null?(y.next=i.pending=y,em(i,y)):(y.next=a.next,i.pending=a.next=y)}}function em(n,i){var a=i.action,r=i.payload,g=n.state;if(i.isTransition){var y=O.T,E={};O.T=E;try{var A=a(g,r),b=O.S;b!==null&&b(E,A),tm(n,i,A)}catch(H){Uu(n,i,H)}finally{y!==null&&E.types!==null&&(y.types=E.types),O.T=y}}else try{y=a(g,r),tm(n,i,y)}catch(H){Uu(n,i,H)}}function tm(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){nm(n,i,r)},function(r){return Uu(n,i,r)}):nm(n,i,a)}function nm(n,i,a){i.status="fulfilled",i.value=a,im(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,em(n,a)))}function Uu(n,i,a){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,im(i),i=i.next;while(i!==r)}n.action=null}function im(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function om(n,i){return i}function sm(n,i){if(be){var a=He.formState;if(a!==null){e:{var r=Te;if(be){if(Oe){t:{for(var g=Oe,y=sn;g.nodeType!==8;){if(!y){g=null;break t}if(g=ln(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Oe=ln(g.nextSibling),r=g.data==="F!";break e}}oi(r)}r=!1}r&&(i=a[0])}}return a=wt(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:i},a.queue=r,a=Am.bind(null,Te,r),r.dispatch=a,r=Iu(!1),y=Gu.bind(null,Te,!1,r.queue),r=wt(),g={state:i,dispatch:null,action:n,pending:null},r.queue=g,a=HS.bind(null,Te,g,y,a),g.dispatch=a,r.memoizedState=n,[i,a,!1]}function am(n){var i=nt();return lm(i,ke,n)}function lm(n,i,a){if(i=Nu(n,i,om)[0],n=fl(kn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Os(i)}catch(E){throw E===Po?tl:E}else r=i;i=nt();var g=i.queue,y=g.dispatch;return a!==i.memoizedState&&(Te.flags|=2048,Go(9,{destroy:void 0},qS.bind(null,g,a),null)),[r,y,n]}function qS(n,i){n.action=i}function rm(n){var i=nt(),a=ke;if(a!==null)return lm(i,a,n);nt(),i=i.memoizedState,a=nt();var r=a.queue.dispatch;return a.memoizedState=n,[i,r,!1]}function Go(n,i,a,r){return n={tag:n,create:a,deps:r,inst:i,next:null},i=Te.updateQueue,i===null&&(i=ul(),Te.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(r=a.next,a.next=n,n.next=r,i.lastEffect=n),n}function um(){return nt().memoizedState}function dl(n,i,a,r){var g=wt();Te.flags|=n,g.memoizedState=Go(1|i,{destroy:void 0},a,r===void 0?null:r)}function hl(n,i,a,r){var g=nt();r=r===void 0?null:r;var y=g.memoizedState.inst;ke!==null&&r!==null&&Au(r,ke.memoizedState.deps)?g.memoizedState=Go(i,y,a,r):(Te.flags|=n,g.memoizedState=Go(1|i,y,a,r))}function cm(n,i){dl(8390656,8,n,i)}function Pu(n,i){hl(2048,8,n,i)}function zS(n){Te.flags|=4;var i=Te.updateQueue;if(i===null)i=ul(),Te.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function fm(n){var i=nt().memoizedState;return zS({ref:i,nextImpl:n}),function(){if((De&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function dm(n,i){return hl(4,2,n,i)}function hm(n,i){return hl(4,4,n,i)}function mm(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function pm(n,i,a){a=a!=null?a.concat([n]):null,hl(4,4,mm.bind(null,i,n),a)}function Lu(){}function gm(n,i){var a=nt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Au(i,r[1])?r[0]:(a.memoizedState=[n,i],n)}function ym(n,i){var a=nt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Au(i,r[1]))return r[0];if(r=n(),Zi){ut(!0);try{n()}finally{ut(!1)}}return a.memoizedState=[r,i],r}function Vu(n,i,a){return a===void 0||(Vn&1073741824)!==0&&(we&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=vp(),Te.lanes|=n,hi|=n,a)}function vm(n,i,a,r){return kt(a,i)?a:Vo.current!==null?(n=Vu(n,a,r),kt(n,i)||(at=!0),n):(Vn&42)===0||(Vn&1073741824)!==0&&(we&261930)===0?(at=!0,n.memoizedState=a):(n=vp(),Te.lanes|=n,hi|=n,i)}function Tm(n,i,a,r,g){var y=W.p;W.p=y!==0&&8>y?y:8;var E=O.T,A={};O.T=A,Gu(n,!1,i,a);try{var b=g(),H=O.S;if(H!==null&&H(A,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Y=kS(b,r);Fs(n,i,Y,Ot(n))}else Fs(n,i,r,Ot(n))}catch(Q){Fs(n,i,{then:function(){},status:"rejected",reason:Q},Ot())}finally{W.p=y,E!==null&&A.types!==null&&(E.types=A.types),O.T=E}}function OS(){}function ku(n,i,a,r){if(n.tag!==5)throw Error(s(476));var g=xm(n).queue;Tm(n,g,i,ne,a===null?OS:function(){return Sm(n),a(r)})}function xm(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:ne},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Sm(n){var i=xm(n);i.next===null&&(i=n.alternate.memoizedState),Fs(n,i.next.queue,{},Ot())}function Bu(){return yt(la)}function Em(){return nt().memoizedState}function Cm(){return nt().memoizedState}function FS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ot();n=li(a);var r=ri(i,n,a);r!==null&&(Pt(r,i,a),Gs(r,i,a)),i={cache:hu()},n.payload=i;return}i=i.return}}function YS(n,i,a){var r=Ot();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ml(n)?wm(i,a):(a=nu(n,i,a,r),a!==null&&(Pt(a,n,r),_m(a,i,r)))}function Am(n,i,a){var r=Ot();Fs(n,i,a,r)}function Fs(n,i,a,r){var g={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ml(n))wm(i,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,A=y(E,a);if(g.hasEagerState=!0,g.eagerState=A,kt(A,E))return Xa(n,i,g,0),He===null&&Ka(),!1}catch{}finally{}if(a=nu(n,i,g,r),a!==null)return Pt(a,n,r),_m(a,i,r),!0}return!1}function Gu(n,i,a,r){if(r={lane:2,revertLane:yc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ml(n)){if(i)throw Error(s(479))}else i=nu(n,a,r,2),i!==null&&Pt(i,n,2)}function ml(n){var i=n.alternate;return n===Te||i!==null&&i===Te}function wm(n,i){ko=ll=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function _m(n,i,a){if((a&4194048)!==0){var r=i.lanes;r&=n.pendingLanes,a|=r,i.lanes=a,Dd(n,a)}}var Ys={readContext:yt,use:cl,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Ys.useEffectEvent=We;var bm={readContext:yt,use:cl,useCallback:function(n,i){return wt().memoizedState=[n,i===void 0?null:i],n},useContext:yt,useEffect:cm,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,dl(4194308,4,mm.bind(null,i,n),a)},useLayoutEffect:function(n,i){return dl(4194308,4,n,i)},useInsertionEffect:function(n,i){dl(4,2,n,i)},useMemo:function(n,i){var a=wt();i=i===void 0?null:i;var r=n();if(Zi){ut(!0);try{n()}finally{ut(!1)}}return a.memoizedState=[r,i],r},useReducer:function(n,i,a){var r=wt();if(a!==void 0){var g=a(i);if(Zi){ut(!0);try{a(i)}finally{ut(!1)}}}else g=i;return r.memoizedState=r.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},r.queue=n,n=n.dispatch=YS.bind(null,Te,n),[r.memoizedState,n]},useRef:function(n){var i=wt();return n={current:n},i.memoizedState=n},useState:function(n){n=Iu(n);var i=n.queue,a=Am.bind(null,Te,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Lu,useDeferredValue:function(n,i){var a=wt();return Vu(a,n,i)},useTransition:function(){var n=Iu(!1);return n=Tm.bind(null,Te,n.queue,!0,!1),wt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var r=Te,g=wt();if(be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),He===null)throw Error(s(349));(we&127)!==0||Xh(r,i,a)}g.memoizedState=a;var y={value:a,getSnapshot:i};return g.queue=y,cm(Zh.bind(null,r,y,n),[n]),r.flags|=2048,Go(9,{destroy:void 0},Qh.bind(null,r,y,a,i),null),a},useId:function(){var n=wt(),i=He.identifierPrefix;if(be){var a=Cn,r=En;a=(r&~(1<<32-ct(r)-1)).toString(32)+a,i="_"+i+"R_"+a,a=rl++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=BS++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Bu,useFormState:sm,useActionState:sm,useOptimistic:function(n){var i=wt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gu.bind(null,Te,!0,a),a.dispatch=i,[n,i]},useMemoCache:Ru,useCacheRefresh:function(){return wt().memoizedState=FS.bind(null,Te)},useEffectEvent:function(n){var i=wt(),a={impl:n};return i.memoizedState=a,function(){if((De&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Hu={readContext:yt,use:cl,useCallback:gm,useContext:yt,useEffect:Pu,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:hm,useMemo:ym,useReducer:fl,useRef:um,useState:function(){return fl(kn)},useDebugValue:Lu,useDeferredValue:function(n,i){var a=nt();return vm(a,ke.memoizedState,n,i)},useTransition:function(){var n=fl(kn)[0],i=nt().memoizedState;return[typeof n=="boolean"?n:Os(n),i]},useSyncExternalStore:Kh,useId:Em,useHostTransitionStatus:Bu,useFormState:am,useActionState:am,useOptimistic:function(n,i){var a=nt();return jh(a,ke,n,i)},useMemoCache:Ru,useCacheRefresh:Cm};Hu.useEffectEvent=fm;var Mm={readContext:yt,use:cl,useCallback:gm,useContext:yt,useEffect:Pu,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:hm,useMemo:ym,useReducer:Du,useRef:um,useState:function(){return Du(kn)},useDebugValue:Lu,useDeferredValue:function(n,i){var a=nt();return ke===null?Vu(a,n,i):vm(a,ke.memoizedState,n,i)},useTransition:function(){var n=Du(kn)[0],i=nt().memoizedState;return[typeof n=="boolean"?n:Os(n),i]},useSyncExternalStore:Kh,useId:Em,useHostTransitionStatus:Bu,useFormState:rm,useActionState:rm,useOptimistic:function(n,i){var a=nt();return ke!==null?jh(a,ke,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Cm};Mm.useEffectEvent=fm;function qu(n,i,a,r){i=n.memoizedState,a=a(r,i),a=a==null?i:T({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var zu={enqueueSetState:function(n,i,a){n=n._reactInternals;var r=Ot(),g=li(r);g.payload=i,a!=null&&(g.callback=a),i=ri(n,g,r),i!==null&&(Pt(i,n,r),Gs(i,n,r))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var r=Ot(),g=li(r);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ri(n,g,r),i!==null&&(Pt(i,n,r),Gs(i,n,r))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ot(),r=li(a);r.tag=2,i!=null&&(r.callback=i),i=ri(n,r,a),i!==null&&(Pt(i,n,a),Gs(i,n,a))}};function Rm(n,i,a,r,g,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,y,E):i.prototype&&i.prototype.isPureReactComponent?!Ds(a,r)||!Ds(g,y):!0}function Nm(n,i,a,r){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==n&&zu.enqueueReplaceState(i,i.state,null)}function $i(n,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(n=n.defaultProps){a===i&&(a=T({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}function Dm(n){Ja(n)}function Im(n){console.error(n)}function Um(n){Ja(n)}function pl(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Pm(n,i,a){try{var r=n.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ou(n,i,a){return a=li(a),a.tag=3,a.payload={element:null},a.callback=function(){pl(n,i)},a}function Lm(n){return n=li(n),n.tag=3,n}function Vm(n,i,a,r){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=r.value;n.payload=function(){return g(y)},n.callback=function(){Pm(i,a,r)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Pm(i,a,r),typeof g!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var A=r.stack;this.componentDidCatch(r.value,{componentStack:A!==null?A:""})})}function JS(n,i,a,r,g){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,g,!0),a=Gt.current,a!==null){switch(a.tag){case 31:case 13:return an===null?bl():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=g,r===nl?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),mc(n,r,g)),!1;case 22:return a.flags|=65536,r===nl?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),mc(n,r,g)),!1}throw Error(s(435,a.tag))}return mc(n,r,g),bl(),!1}if(be)return i=Gt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,r!==ru&&(n=Error(s(422),{cause:r}),Ps(tn(n,a)))):(r!==ru&&(i=Error(s(423),{cause:r}),Ps(tn(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,r=tn(r,a),g=Ou(n.stateNode,r,g),Tu(n,g),je!==4&&(je=2)),!1;var y=Error(s(520),{cause:r});if(y=tn(y,a),js===null?js=[y]:js.push(y),je!==4&&(je=2),i===null)return!0;r=tn(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=Ou(a.stateNode,r,n),Tu(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Lm(g),Vm(g,n,a,r),Tu(a,g),!1}a=a.return}while(a!==null);return!1}var Fu=Error(s(461)),at=!1;function vt(n,i,a,r){i.child=n===null?Hh(i,null,a,r):Qi(i,n.child,a,r)}function km(n,i,a,r,g){a=a.render;var y=i.ref;if("ref"in r){var E={};for(var A in r)A!=="ref"&&(E[A]=r[A])}else E=r;return Yi(i),r=wu(n,i,a,E,y,g),A=_u(),n!==null&&!at?(bu(n,i,g),Bn(n,i,g)):(be&&A&&au(i),i.flags|=1,vt(n,i,r,g),i.child)}function Bm(n,i,a,r,g){if(n===null){var y=a.type;return typeof y=="function"&&!iu(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,Gm(n,i,y,r,g)):(n=Za(a.type,null,r,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Wu(n,g)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ds,a(E,r)&&n.ref===i.ref)return Bn(n,i,g)}return i.flags|=1,n=In(y,r),n.ref=i.ref,n.return=i,i.child=n}function Gm(n,i,a,r,g){if(n!==null){var y=n.memoizedProps;if(Ds(y,r)&&n.ref===i.ref)if(at=!1,i.pendingProps=r=y,Wu(n,g))(n.flags&131072)!==0&&(at=!0);else return i.lanes=n.lanes,Bn(n,i,g)}return Yu(n,i,a,r,g)}function Hm(n,i,a,r){var g=r.children,y=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(r=i.child=n.child,g=0;r!==null;)g=g|r.lanes|r.childLanes,r=r.sibling;r=g&~y}else r=0,i.child=null;return qm(n,i,y,a,r)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&el(i,y!==null?y.cachePool:null),y!==null?Oh(i,y):Su(),Fh(i);else return r=i.lanes=536870912,qm(n,i,y!==null?y.baseLanes|a:a,a,r)}else y!==null?(el(i,y.cachePool),Oh(i,y),ci(),i.memoizedState=null):(n!==null&&el(i,null),Su(),ci());return vt(n,i,g,a),i.child}function Js(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qm(n,i,a,r,g){var y=pu();return y=y===null?null:{parent:ot._currentValue,pool:y},i.memoizedState={baseLanes:a,cachePool:y},n!==null&&el(i,null),Su(),Fh(i),n!==null&&Do(n,i,r,!0),i.childLanes=g,null}function gl(n,i){return i=vl({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function zm(n,i,a){return Qi(i,n.child,null,a),n=gl(i,i.pendingProps),n.flags|=2,Ht(i),i.memoizedState=null,n}function KS(n,i,a){var r=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(be){if(r.mode==="hidden")return n=gl(i,r),i.lanes=536870912,Js(null,n);if(Cu(i),(n=Oe)?(n=eg(n,sn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ni!==null?{id:En,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},a=wh(n),a.return=i,i.child=a,gt=i,Oe=null)):n=null,n===null)throw oi(i);return i.lanes=536870912,null}return gl(i,r)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(Cu(i),g)if(i.flags&256)i.flags&=-257,i=zm(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(s(558));else if(at||Do(n,i,a,!1),g=(a&n.childLanes)!==0,at||g){if(r=He,r!==null&&(E=Id(r,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,qi(n,E),Pt(r,n,E),Fu;bl(),i=zm(n,i,a)}else n=y.treeContext,Oe=ln(E.nextSibling),gt=i,be=!0,ii=null,sn=!1,n!==null&&Mh(i,n),i=gl(i,r),i.flags|=4096;return i}return n=In(n.child,{mode:r.mode,children:r.children}),n.ref=i.ref,i.child=n,n.return=i,n}function yl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Yu(n,i,a,r,g){return Yi(i),a=wu(n,i,a,r,void 0,g),r=_u(),n!==null&&!at?(bu(n,i,g),Bn(n,i,g)):(be&&r&&au(i),i.flags|=1,vt(n,i,a,g),i.child)}function Om(n,i,a,r,g,y){return Yi(i),i.updateQueue=null,a=Jh(i,r,a,g),Yh(n),r=_u(),n!==null&&!at?(bu(n,i,y),Bn(n,i,y)):(be&&r&&au(i),i.flags|=1,vt(n,i,a,y),i.child)}function Fm(n,i,a,r,g){if(Yi(i),i.stateNode===null){var y=bo,E=a.contextType;typeof E=="object"&&E!==null&&(y=yt(E)),y=new a(r,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zu,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=r,y.state=i.memoizedState,y.refs={},yu(i),E=a.contextType,y.context=typeof E=="object"&&E!==null?yt(E):bo,y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(qu(i,a,E,r),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&zu.enqueueReplaceState(y,y.state,null),qs(i,r,y,g),Hs(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(n===null){y=i.stateNode;var A=i.memoizedProps,b=$i(a,A);y.props=b;var H=y.context,Y=a.contextType;E=bo,typeof Y=="object"&&Y!==null&&(E=yt(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||H!==E)&&Nm(i,y,r,E),ai=!1;var q=i.memoizedState;y.state=q,qs(i,r,y,g),Hs(),H=i.memoizedState,A||q!==H||ai?(typeof Q=="function"&&(qu(i,a,Q,r),H=i.memoizedState),(b=ai||Rm(i,a,b,r,q,H,E))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=H),y.props=r,y.state=H,y.context=E,r=b):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{y=i.stateNode,vu(n,i),E=i.memoizedProps,Y=$i(a,E),y.props=Y,Q=i.pendingProps,q=y.context,H=a.contextType,b=bo,typeof H=="object"&&H!==null&&(b=yt(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Q||q!==b)&&Nm(i,y,r,b),ai=!1,q=i.memoizedState,y.state=q,qs(i,r,y,g),Hs();var z=i.memoizedState;E!==Q||q!==z||ai||n!==null&&n.dependencies!==null&&Wa(n.dependencies)?(typeof A=="function"&&(qu(i,a,A,r),z=i.memoizedState),(Y=ai||Rm(i,a,Y,r,q,z,b)||n!==null&&n.dependencies!==null&&Wa(n.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,z,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,z,b)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=z),y.props=r,y.state=z,y.context=b,r=Y):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),r=!1)}return y=r,yl(n,i),r=(i.flags&128)!==0,y||r?(y=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&r?(i.child=Qi(i,n.child,null,g),i.child=Qi(i,null,a,g)):vt(n,i,a,g),i.memoizedState=y.state,n=i.child):n=Bn(n,i,g),n}function Ym(n,i,a,r){return Oi(),i.flags|=256,vt(n,i,a,r),i.child}var Ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ku(n){return{baseLanes:n,cachePool:Ph()}}function Xu(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=zt),n}function Jm(n,i,a){var r=i.pendingProps,g=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(tt.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(be){if(g?ui(i):ci(),(n=Oe)?(n=eg(n,sn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ni!==null?{id:En,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},a=wh(n),a.return=i,i.child=a,gt=i,Oe=null)):n=null,n===null)throw oi(i);return Nc(n)?i.lanes=32:i.lanes=536870912,null}var A=r.children;return r=r.fallback,g?(ci(),g=i.mode,A=vl({mode:"hidden",children:A},g),r=zi(r,g,a,null),A.return=i,r.return=i,A.sibling=r,i.child=A,r=i.child,r.memoizedState=Ku(a),r.childLanes=Xu(n,E,a),i.memoizedState=Ju,Js(null,r)):(ui(i),Qu(i,A))}var b=n.memoizedState;if(b!==null&&(A=b.dehydrated,A!==null)){if(y)i.flags&256?(ui(i),i.flags&=-257,i=Zu(n,i,a)):i.memoizedState!==null?(ci(),i.child=n.child,i.flags|=128,i=null):(ci(),A=r.fallback,g=i.mode,r=vl({mode:"visible",children:r.children},g),A=zi(A,g,a,null),A.flags|=2,r.return=i,A.return=i,r.sibling=A,i.child=r,Qi(i,n.child,null,a),r=i.child,r.memoizedState=Ku(a),r.childLanes=Xu(n,E,a),i.memoizedState=Ju,i=Js(null,r));else if(ui(i),Nc(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var H=E.dgst;E=H,r=Error(s(419)),r.stack="",r.digest=E,Ps({value:r,source:null,stack:null}),i=Zu(n,i,a)}else if(at||Do(n,i,a,!1),E=(a&n.childLanes)!==0,at||E){if(E=He,E!==null&&(r=Id(E,a),r!==0&&r!==b.retryLane))throw b.retryLane=r,qi(n,r),Pt(E,n,r),Fu;Rc(A)||bl(),i=Zu(n,i,a)}else Rc(A)?(i.flags|=192,i.child=n.child,i=null):(n=b.treeContext,Oe=ln(A.nextSibling),gt=i,be=!0,ii=null,sn=!1,n!==null&&Mh(i,n),i=Qu(i,r.children),i.flags|=4096);return i}return g?(ci(),A=r.fallback,g=i.mode,b=n.child,H=b.sibling,r=In(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,H!==null?A=In(H,A):(A=zi(A,g,a,null),A.flags|=2),A.return=i,r.return=i,r.sibling=A,i.child=r,Js(null,r),r=i.child,A=n.child.memoizedState,A===null?A=Ku(a):(g=A.cachePool,g!==null?(b=ot._currentValue,g=g.parent!==b?{parent:b,pool:b}:g):g=Ph(),A={baseLanes:A.baseLanes|a,cachePool:g}),r.memoizedState=A,r.childLanes=Xu(n,E,a),i.memoizedState=Ju,Js(n.child,r)):(ui(i),a=n.child,n=a.sibling,a=In(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Qu(n,i){return i=vl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function vl(n,i){return n=Bt(22,n,null,i),n.lanes=0,n}function Zu(n,i,a){return Qi(i,n.child,null,a),n=Qu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Km(n,i,a){n.lanes|=i;var r=n.alternate;r!==null&&(r.lanes|=i),fu(n.return,i,a)}function $u(n,i,a,r,g,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:g,treeForkCount:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=a,E.tailMode=g,E.treeForkCount=y)}function Xm(n,i,a){var r=i.pendingProps,g=r.revealOrder,y=r.tail;r=r.children;var E=tt.current,A=(E&2)!==0;if(A?(E=E&1|2,i.flags|=128):E&=1,F(tt,E),vt(n,i,r,a),r=be?Us:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Km(n,a,i);else if(n.tag===19)Km(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&al(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),$u(i,!1,g,a,y,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&al(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}$u(i,!0,a,null,y,r);break;case"together":$u(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function Bn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),hi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Do(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=In(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=In(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Wu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Wa(n)))}function XS(n,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),si(i,ot,n.memoizedState.cache),Oi();break;case 27:case 5:Ve(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cu(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(ui(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Jm(n,i,a):(ui(i),n=Bn(n,i,a),n!==null?n.sibling:null);ui(i);break;case 19:var g=(n.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(Do(n,i,a,!1),r=(a&i.childLanes)!==0),g){if(r)return Xm(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),F(tt,tt.current),r)break;return null;case 22:return i.lanes=0,Hm(n,i,a,i.pendingProps);case 24:si(i,ot,n.memoizedState.cache)}return Bn(n,i,a)}function Qm(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)at=!0;else{if(!Wu(n,a)&&(i.flags&128)===0)return at=!1,XS(n,i,a);at=(n.flags&131072)!==0}else at=!1,be&&(i.flags&1048576)!==0&&bh(i,Us,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(n=Ki(i.elementType),i.type=n,typeof n=="function")iu(n)?(r=$i(n,r),i.tag=1,i=Fm(null,i,n,r,a)):(i.tag=0,i=Yu(null,i,n,r,a));else{if(n!=null){var g=n.$$typeof;if(g===k){i.tag=11,i=km(null,i,n,r,a);break e}else if(g===B){i.tag=14,i=Bm(null,i,n,r,a);break e}}throw i=ze(n)||n,Error(s(306,i,""))}}return i;case 0:return Yu(n,i,i.type,i.pendingProps,a);case 1:return r=i.type,g=$i(r,i.pendingProps),Fm(n,i,r,g,a);case 3:e:{if(Ee(i,i.stateNode.containerInfo),n===null)throw Error(s(387));r=i.pendingProps;var y=i.memoizedState;g=y.element,vu(n,i),qs(i,r,null,a);var E=i.memoizedState;if(r=E.cache,si(i,ot,r),r!==y.cache&&du(i,[ot],a,!0),Hs(),r=E.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Ym(n,i,r,a);break e}else if(r!==g){g=tn(Error(s(424)),i),Ps(g),i=Ym(n,i,r,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Oe=ln(n.firstChild),gt=i,be=!0,ii=null,sn=!0,a=Hh(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oi(),r===g){i=Bn(n,i,a);break e}vt(n,i,r,a)}i=i.child}return i;case 26:return yl(n,i),n===null?(a=ag(i.type,null,i.pendingProps,null))?i.memoizedState=a:be||(a=i.type,n=i.pendingProps,r=Pl(oe.current).createElement(a),r[pt]=i,r[Mt]=n,Tt(r,a,n),ht(r),i.stateNode=r):i.memoizedState=ag(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ve(i),n===null&&be&&(r=i.stateNode=ig(i.type,i.pendingProps,oe.current),gt=i,sn=!0,g=Oe,vi(i.type)?(Dc=g,Oe=ln(r.firstChild)):Oe=g),vt(n,i,i.pendingProps.children,a),yl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&be&&((g=r=Oe)&&(r=AE(r,i.type,i.pendingProps,sn),r!==null?(i.stateNode=r,gt=i,Oe=ln(r.firstChild),sn=!1,g=!0):g=!1),g||oi(i)),Ve(i),g=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,r=y.children,_c(g,y)?r=null:E!==null&&_c(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=wu(n,i,GS,null,null,a),la._currentValue=g),yl(n,i),vt(n,i,r,a),i.child;case 6:return n===null&&be&&((n=a=Oe)&&(a=wE(a,i.pendingProps,sn),a!==null?(i.stateNode=a,gt=i,Oe=null,n=!0):n=!1),n||oi(i)),null;case 13:return Jm(n,i,a);case 4:return Ee(i,i.stateNode.containerInfo),r=i.pendingProps,n===null?i.child=Qi(i,null,r,a):vt(n,i,r,a),i.child;case 11:return km(n,i,i.type,i.pendingProps,a);case 7:return vt(n,i,i.pendingProps,a),i.child;case 8:return vt(n,i,i.pendingProps.children,a),i.child;case 12:return vt(n,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,si(i,i.type,r.value),vt(n,i,r.children,a),i.child;case 9:return g=i.type._context,r=i.pendingProps.children,Yi(i),g=yt(g),r=r(g),i.flags|=1,vt(n,i,r,a),i.child;case 14:return Bm(n,i,i.type,i.pendingProps,a);case 15:return Gm(n,i,i.type,i.pendingProps,a);case 19:return Xm(n,i,a);case 31:return KS(n,i,a);case 22:return Hm(n,i,a,i.pendingProps);case 24:return Yi(i),r=yt(ot),n===null?(g=pu(),g===null&&(g=He,y=hu(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),i.memoizedState={parent:r,cache:g},yu(i),si(i,ot,g)):((n.lanes&a)!==0&&(vu(n,i),qs(i,null,null,a),Hs()),g=n.memoizedState,y=i.memoizedState,g.parent!==r?(g={parent:r,cache:r},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),si(i,ot,r)):(r=y.cache,si(i,ot,r),r!==g.cache&&du(i,[ot],a,!0))),vt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gn(n){n.flags|=4}function ju(n,i,a,r,g){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Ep())n.flags|=8192;else throw Xi=nl,gu}else n.flags&=-16777217}function Zm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fg(i))if(Ep())n.flags|=8192;else throw Xi=nl,gu}function Tl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Rd():536870912,n.lanes|=i,Oo|=i)}function Ks(n,i){if(!be)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Fe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,r=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,r|=g.subtreeFlags&65011712,r|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,r|=g.subtreeFlags,r|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=r,n.childLanes=a,i}function QS(n,i,a){var r=i.pendingProps;switch(lu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(i),null;case 1:return Fe(i),null;case 3:return a=i.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ln(ot),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(No(i)?Gn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uu())),Fe(i),null;case 26:var g=i.type,y=i.memoizedState;return n===null?(Gn(i),y!==null?(Fe(i),Zm(i,y)):(Fe(i),ju(i,g,null,r,a))):y?y!==n.memoizedState?(Gn(i),Fe(i),Zm(i,y)):(Fe(i),i.flags&=-16777217):(n=n.memoizedProps,n!==r&&Gn(i),Fe(i),ju(i,g,n,r,a)),null;case 27:if(rt(i),a=oe.current,g=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&Gn(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Fe(i),null}n=Z.current,No(i)?Rh(i):(n=ig(g,r,a),i.stateNode=n,Gn(i))}return Fe(i),null;case 5:if(rt(i),g=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&Gn(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Fe(i),null}if(y=Z.current,No(i))Rh(i);else{var E=Pl(oe.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?y.multiple=!0:r.size&&(y.size=r.size);break;default:y=typeof r.is=="string"?E.createElement(g,{is:r.is}):E.createElement(g)}}y[pt]=i,y[Mt]=r;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=y;e:switch(Tt(y,g,r),g){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Gn(i)}}return Fe(i),ju(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==r&&Gn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(n=oe.current,No(i)){if(n=i.stateNode,a=i.memoizedProps,r=null,g=gt,g!==null)switch(g.tag){case 27:case 5:r=g.memoizedProps}n[pt]=i,n=!!(n.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Jp(n.nodeValue,a)),n||oi(i,!0)}else n=Pl(n).createTextNode(r),n[pt]=i,i.stateNode=n}return Fe(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(r=No(i),a!==null){if(n===null){if(!r)throw Error(s(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[pt]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Fe(i),n=!1}else a=uu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(Ht(i),i):(Ht(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Fe(i),null;case 13:if(r=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=No(i),r!==null&&r.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[pt]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Fe(i),g=!1}else g=uu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Ht(i),i):(Ht(i),null)}return Ht(i),(i.flags&128)!==0?(i.lanes=a,i):(a=r!==null,n=n!==null&&n.memoizedState!==null,a&&(r=i.child,g=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(g=r.alternate.memoizedState.cachePool.pool),y=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==g&&(r.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Tl(i,i.updateQueue),Fe(i),null);case 4:return me(),n===null&&Sc(i.stateNode.containerInfo),Fe(i),null;case 10:return Ln(i.type),Fe(i),null;case 19:if(X(tt),r=i.memoizedState,r===null)return Fe(i),null;if(g=(i.flags&128)!==0,y=r.rendering,y===null)if(g)Ks(r,!1);else{if(je!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=al(n),y!==null){for(i.flags|=128,Ks(r,!1),n=y.updateQueue,i.updateQueue=n,Tl(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Ah(a,n),a=a.sibling;return F(tt,tt.current&1|2),be&&Un(i,r.treeForkCount),i.child}n=n.sibling}r.tail!==null&&ee()>Al&&(i.flags|=128,g=!0,Ks(r,!1),i.lanes=4194304)}else{if(!g)if(n=al(y),n!==null){if(i.flags|=128,g=!0,n=n.updateQueue,i.updateQueue=n,Tl(i,n),Ks(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!be)return Fe(i),null}else 2*ee()-r.renderingStartTime>Al&&a!==536870912&&(i.flags|=128,g=!0,Ks(r,!1),i.lanes=4194304);r.isBackwards?(y.sibling=i.child,i.child=y):(n=r.last,n!==null?n.sibling=y:i.child=y,r.last=y)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=ee(),n.sibling=null,a=tt.current,F(tt,g?a&1|2:a&1),be&&Un(i,r.treeForkCount),n):(Fe(i),null);case 22:case 23:return Ht(i),Eu(),r=i.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(Fe(i),i.subtreeFlags&6&&(i.flags|=8192)):Fe(i),a=i.updateQueue,a!==null&&Tl(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),n!==null&&X(Ji),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ln(ot),Fe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZS(n,i){switch(lu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ln(ot),me(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return rt(i),null;case 31:if(i.memoizedState!==null){if(Ht(i),i.alternate===null)throw Error(s(340));Oi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Ht(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return X(tt),null;case 4:return me(),null;case 10:return Ln(i.type),null;case 22:case 23:return Ht(i),Eu(),n!==null&&X(Ji),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ln(ot),null;case 25:return null;default:return null}}function $m(n,i){switch(lu(i),i.tag){case 3:Ln(ot),me();break;case 26:case 27:case 5:rt(i);break;case 4:me();break;case 31:i.memoizedState!==null&&Ht(i);break;case 13:Ht(i);break;case 19:X(tt);break;case 10:Ln(i.type);break;case 22:case 23:Ht(i),Eu(),n!==null&&X(Ji);break;case 24:Ln(ot)}}function Xs(n,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var g=r.next;a=g;do{if((a.tag&n)===n){r=void 0;var y=a.create,E=a.inst;r=y(),E.destroy=r}a=a.next}while(a!==g)}}catch(A){Pe(i,i.return,A)}}function fi(n,i,a){try{var r=i.updateQueue,g=r!==null?r.lastEffect:null;if(g!==null){var y=g.next;r=y;do{if((r.tag&n)===n){var E=r.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,g=i;var b=a,H=A;try{H()}catch(Y){Pe(g,b,Y)}}}r=r.next}while(r!==y)}}catch(Y){Pe(i,i.return,Y)}}function Wm(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{zh(i,a)}catch(r){Pe(n,n.return,r)}}}function jm(n,i,a){a.props=$i(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(r){Pe(n,i,r)}}function Qs(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof a=="function"?n.refCleanup=a(r):a.current=r}}catch(g){Pe(n,i,g)}}function An(n,i){var a=n.ref,r=n.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(g){Pe(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Pe(n,i,g)}else a.current=null}function ep(n){var i=n.type,a=n.memoizedProps,r=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(g){Pe(n,n.return,g)}}function ec(n,i,a){try{var r=n.stateNode;vE(r,n.type,a,i),r[Mt]=i}catch(g){Pe(n,n.return,g)}}function tp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&vi(n.type)||n.tag===4}function tc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nc(n,i,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nn));else if(r!==4&&(r===27&&vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(nc(n,i,a),n=n.sibling;n!==null;)nc(n,i,a),n=n.sibling}function xl(n,i,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(r!==4&&(r===27&&vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(xl(n,i,a),n=n.sibling;n!==null;)xl(n,i,a),n=n.sibling}function np(n){var i=n.stateNode,a=n.memoizedProps;try{for(var r=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Tt(i,r,a),i[pt]=n,i[Mt]=a}catch(y){Pe(n,n.return,y)}}var Hn=!1,lt=!1,ic=!1,ip=typeof WeakSet=="function"?WeakSet:Set,mt=null;function $S(n,i){if(n=n.containerInfo,Ac=ql,n=ph(n),Zr(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var g=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,A=-1,b=-1,H=0,Y=0,Q=n,q=null;t:for(;;){for(var z;Q!==a||g!==0&&Q.nodeType!==3||(A=E+g),Q!==y||r!==0&&Q.nodeType!==3||(b=E+r),Q.nodeType===3&&(E+=Q.nodeValue.length),(z=Q.firstChild)!==null;)q=Q,Q=z;for(;;){if(Q===n)break t;if(q===a&&++H===g&&(A=E),q===y&&++Y===r&&(b=E),(z=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=z}a=A===-1||b===-1?null:{start:A,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(wc={focusedElem:n,selectionRange:a},ql=!1,mt=i;mt!==null;)if(i=mt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,mt=n;else for(;mt!==null;){switch(i=mt,y=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)g=n[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,g=y.memoizedProps,y=y.memoizedState,r=a.stateNode;try{var se=$i(a.type,g);n=r.getSnapshotBeforeUpdate(se,y),r.__reactInternalSnapshotBeforeUpdate=n}catch(fe){Pe(a,a.return,fe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Mc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,mt=n;break}mt=i.return}}function op(n,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:zn(n,a),r&4&&Xs(5,a);break;case 1:if(zn(n,a),r&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){Pe(a,a.return,E)}else{var g=$i(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Pe(a,a.return,E)}}r&64&&Wm(a),r&512&&Qs(a,a.return);break;case 3:if(zn(n,a),r&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zh(n,i)}catch(E){Pe(a,a.return,E)}}break;case 27:i===null&&r&4&&np(a);case 26:case 5:zn(n,a),i===null&&r&4&&ep(a),r&512&&Qs(a,a.return);break;case 12:zn(n,a);break;case 31:zn(n,a),r&4&&lp(n,a);break;case 13:zn(n,a),r&4&&rp(n,a),r&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=aE.bind(null,a),_E(n,a))));break;case 22:if(r=a.memoizedState!==null||Hn,!r){i=i!==null&&i.memoizedState!==null||lt,g=Hn;var y=lt;Hn=r,(lt=i)&&!y?On(n,a,(a.subtreeFlags&8772)!==0):zn(n,a),Hn=g,lt=y}break;case 30:break;default:zn(n,a)}}function sp(n){var i=n.alternate;i!==null&&(n.alternate=null,sp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ur(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ke=null,Nt=!1;function qn(n,i,a){for(a=a.child;a!==null;)ap(n,i,a),a=a.sibling}function ap(n,i,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Vi,a)}catch{}switch(a.tag){case 26:lt||An(a,i),qn(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||An(a,i);var r=Ke,g=Nt;vi(a.type)&&(Ke=a.stateNode,Nt=!1),qn(n,i,a),oa(a.stateNode),Ke=r,Nt=g;break;case 5:lt||An(a,i);case 6:if(r=Ke,g=Nt,Ke=null,qn(n,i,a),Ke=r,Nt=g,Ke!==null)if(Nt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(y){Pe(a,i,y)}else try{Ke.removeChild(a.stateNode)}catch(y){Pe(a,i,y)}break;case 18:Ke!==null&&(Nt?(n=Ke,Wp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),$o(n)):Wp(Ke,a.stateNode));break;case 4:r=Ke,g=Nt,Ke=a.stateNode.containerInfo,Nt=!0,qn(n,i,a),Ke=r,Nt=g;break;case 0:case 11:case 14:case 15:fi(2,a,i),lt||fi(4,a,i),qn(n,i,a);break;case 1:lt||(An(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&jm(a,i,r)),qn(n,i,a);break;case 21:qn(n,i,a);break;case 22:lt=(r=lt)||a.memoizedState!==null,qn(n,i,a),lt=r;break;default:qn(n,i,a)}}function lp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{$o(n)}catch(a){Pe(i,i.return,a)}}}function rp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$o(n)}catch(a){Pe(i,i.return,a)}}function WS(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new ip),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new ip),i;default:throw Error(s(435,n.tag))}}function Sl(n,i){var a=WS(n);i.forEach(function(r){if(!a.has(r)){a.add(r);var g=lE.bind(null,n,r);r.then(g,g)}})}function Dt(n,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var g=a[r],y=n,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(vi(A.type)){Ke=A.stateNode,Nt=!1;break e}break;case 5:Ke=A.stateNode,Nt=!1;break e;case 3:case 4:Ke=A.stateNode.containerInfo,Nt=!0;break e}A=A.return}if(Ke===null)throw Error(s(160));ap(y,E,g),Ke=null,Nt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)up(i,n),i=i.sibling}var mn=null;function up(n,i){var a=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dt(i,n),It(n),r&4&&(fi(3,n,n.return),Xs(3,n),fi(5,n,n.return));break;case 1:Dt(i,n),It(n),r&512&&(lt||a===null||An(a,a.return)),r&64&&Hn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var g=mn;if(Dt(i,n),It(n),r&512&&(lt||a===null||An(a,a.return)),r&4){var y=a!==null?a.memoizedState:null;if(r=n.memoizedState,a===null)if(r===null)if(n.stateNode===null){e:{r=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(r){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Es]||y[pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(r),g.head.insertBefore(y,g.querySelector("head > title"))),Tt(y,r,a),y[pt]=n,ht(y),r=y;break e;case"link":var E=ug("link","href",g).get(r+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}y=g.createElement(r),Tt(y,r,a),g.head.appendChild(y);break;case"meta":if(E=ug("meta","content",g).get(r+(a.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}y=g.createElement(r),Tt(y,r,a),g.head.appendChild(y);break;default:throw Error(s(468,r))}y[pt]=n,ht(y),r=y}n.stateNode=r}else cg(g,n.type,n.stateNode);else n.stateNode=rg(g,r,n.memoizedProps);else y!==r?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,r===null?cg(g,n.type,n.stateNode):rg(g,r,n.memoizedProps)):r===null&&n.stateNode!==null&&ec(n,n.memoizedProps,a.memoizedProps)}break;case 27:Dt(i,n),It(n),r&512&&(lt||a===null||An(a,a.return)),a!==null&&r&4&&ec(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Dt(i,n),It(n),r&512&&(lt||a===null||An(a,a.return)),n.flags&32){g=n.stateNode;try{xo(g,"")}catch(se){Pe(n,n.return,se)}}r&4&&n.stateNode!=null&&(g=n.memoizedProps,ec(n,g,a!==null?a.memoizedProps:g)),r&1024&&(ic=!0);break;case 6:if(Dt(i,n),It(n),r&4){if(n.stateNode===null)throw Error(s(162));r=n.memoizedProps,a=n.stateNode;try{a.nodeValue=r}catch(se){Pe(n,n.return,se)}}break;case 3:if(kl=null,g=mn,mn=Ll(i.containerInfo),Dt(i,n),mn=g,It(n),r&4&&a!==null&&a.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(se){Pe(n,n.return,se)}ic&&(ic=!1,cp(n));break;case 4:r=mn,mn=Ll(n.stateNode.containerInfo),Dt(i,n),It(n),mn=r;break;case 12:Dt(i,n),It(n);break;case 31:Dt(i,n),It(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Sl(n,r)));break;case 13:Dt(i,n),It(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cl=ee()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Sl(n,r)));break;case 22:g=n.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,H=Hn,Y=lt;if(Hn=H||g,lt=Y||b,Dt(i,n),lt=Y,Hn=H,It(n),r&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||b||Hn||lt||Wi(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(y=b.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=b.stateNode;var Q=b.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(se){Pe(b,b.return,se)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=g?"":b.memoizedProps}catch(se){Pe(b,b.return,se)}}}else if(i.tag===18){if(a===null){b=i;try{var z=b.stateNode;g?jp(z,!0):jp(b.stateNode,!1)}catch(se){Pe(b,b.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=n.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Sl(n,a))));break;case 19:Dt(i,n),It(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Sl(n,r)));break;case 30:break;case 21:break;default:Dt(i,n),It(n)}}function It(n){var i=n.flags;if(i&2){try{for(var a,r=n.return;r!==null;){if(tp(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,y=tc(n);xl(n,y,g);break;case 5:var E=a.stateNode;a.flags&32&&(xo(E,""),a.flags&=-33);var A=tc(n);xl(n,A,E);break;case 3:case 4:var b=a.stateNode.containerInfo,H=tc(n);nc(n,H,b);break;default:throw Error(s(161))}}catch(Y){Pe(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function cp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;cp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)op(n,i.alternate,i),i=i.sibling}function Wi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:fi(4,i,i.return),Wi(i);break;case 1:An(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jm(i,i.return,a),Wi(i);break;case 27:oa(i.stateNode);case 26:case 5:An(i,i.return),Wi(i);break;case 22:i.memoizedState===null&&Wi(i);break;case 30:Wi(i);break;default:Wi(i)}n=n.sibling}}function On(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,g=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:On(g,y,a),Xs(4,y);break;case 1:if(On(g,y,a),r=y,g=r.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){Pe(r,r.return,H)}if(r=y,g=r.updateQueue,g!==null){var A=r.stateNode;try{var b=g.shared.hiddenCallbacks;if(b!==null)for(g.shared.hiddenCallbacks=null,g=0;g<b.length;g++)qh(b[g],A)}catch(H){Pe(r,r.return,H)}}a&&E&64&&Wm(y),Qs(y,y.return);break;case 27:np(y);case 26:case 5:On(g,y,a),a&&r===null&&E&4&&ep(y),Qs(y,y.return);break;case 12:On(g,y,a);break;case 31:On(g,y,a),a&&E&4&&lp(g,y);break;case 13:On(g,y,a),a&&E&4&&rp(g,y);break;case 22:y.memoizedState===null&&On(g,y,a),Qs(y,y.return);break;case 30:break;default:On(g,y,a)}i=i.sibling}}function oc(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ls(a))}function sc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ls(n))}function pn(n,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fp(n,i,a,r),i=i.sibling}function fp(n,i,a,r){var g=i.flags;switch(i.tag){case 0:case 11:case 15:pn(n,i,a,r),g&2048&&Xs(9,i);break;case 1:pn(n,i,a,r);break;case 3:pn(n,i,a,r),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ls(n)));break;case 12:if(g&2048){pn(n,i,a,r),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(b){Pe(i,i.return,b)}}else pn(n,i,a,r);break;case 31:pn(n,i,a,r);break;case 13:pn(n,i,a,r);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?pn(n,i,a,r):Zs(n,i):y._visibility&2?pn(n,i,a,r):(y._visibility|=2,Ho(n,i,a,r,(i.subtreeFlags&10256)!==0||!1)),g&2048&&oc(E,i);break;case 24:pn(n,i,a,r),g&2048&&sc(i.alternate,i);break;default:pn(n,i,a,r)}}function Ho(n,i,a,r,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=n,E=i,A=a,b=r,H=E.flags;switch(E.tag){case 0:case 11:case 15:Ho(y,E,A,b,g),Xs(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?Ho(y,E,A,b,g):Zs(y,E):(Y._visibility|=2,Ho(y,E,A,b,g)),g&&H&2048&&oc(E.alternate,E);break;case 24:Ho(y,E,A,b,g),g&&H&2048&&sc(E.alternate,E);break;default:Ho(y,E,A,b,g)}i=i.sibling}}function Zs(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,r=i,g=r.flags;switch(r.tag){case 22:Zs(a,r),g&2048&&oc(r.alternate,r);break;case 24:Zs(a,r),g&2048&&sc(r.alternate,r);break;default:Zs(a,r)}i=i.sibling}}var $s=8192;function qo(n,i,a){if(n.subtreeFlags&$s)for(n=n.child;n!==null;)dp(n,i,a),n=n.sibling}function dp(n,i,a){switch(n.tag){case 26:qo(n,i,a),n.flags&$s&&n.memoizedState!==null&&BE(a,mn,n.memoizedState,n.memoizedProps);break;case 5:qo(n,i,a);break;case 3:case 4:var r=mn;mn=Ll(n.stateNode.containerInfo),qo(n,i,a),mn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=$s,$s=16777216,qo(n,i,a),$s=r):qo(n,i,a));break;default:qo(n,i,a)}}function hp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ws(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];mt=r,pp(r,n)}hp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mp(n),n=n.sibling}function mp(n){switch(n.tag){case 0:case 11:case 15:Ws(n),n.flags&2048&&fi(9,n,n.return);break;case 3:Ws(n);break;case 12:Ws(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,El(n)):Ws(n);break;default:Ws(n)}}function El(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];mt=r,pp(r,n)}hp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:fi(8,i,i.return),El(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,El(i));break;default:El(i)}n=n.sibling}}function pp(n,i){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:fi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ls(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,mt=r;else e:for(a=n;mt!==null;){r=mt;var g=r.sibling,y=r.return;if(sp(r),r===a){mt=null;break e}if(g!==null){g.return=y,mt=g;break e}mt=y}}}var jS={getCacheForType:function(n){var i=yt(ot),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return yt(ot).controller.signal}},eE=typeof WeakMap=="function"?WeakMap:Map,De=0,He=null,Ce=null,we=0,Ue=0,qt=null,di=!1,zo=!1,ac=!1,Fn=0,je=0,hi=0,ji=0,lc=0,zt=0,Oo=0,js=null,Ut=null,rc=!1,Cl=0,gp=0,Al=1/0,wl=null,mi=null,ft=0,pi=null,Fo=null,Yn=0,uc=0,cc=null,yp=null,ea=0,fc=null;function Ot(){return(De&2)!==0&&we!==0?we&-we:O.T!==null?yc():Ud()}function vp(){if(zt===0)if((we&536870912)===0||be){var n=Sn;Sn<<=1,(Sn&3932160)===0&&(Sn=262144),zt=n}else zt=536870912;return n=Gt.current,n!==null&&(n.flags|=32),zt}function Pt(n,i,a){(n===He&&(Ue===2||Ue===9)||n.cancelPendingCommit!==null)&&(Yo(n,0),gi(n,we,zt,!1)),Ss(n,a),((De&2)===0||n!==He)&&(n===He&&((De&2)===0&&(ji|=a),je===4&&gi(n,we,zt,!1)),wn(n))}function Tp(n,i,a){if((De&6)!==0)throw Error(s(327));var r=!a&&(i&127)===0&&(i&n.expiredLanes)===0||xs(n,i),g=r?iE(n,i):hc(n,i,!0),y=r;do{if(g===0){zo&&!r&&gi(n,i,0,!1);break}else{if(a=n.current.alternate,y&&!tE(a)){g=hc(n,i,!1),y=!1;continue}if(g===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=n;g=js;var b=A.current.memoizedState.isDehydrated;if(b&&(Yo(A,E).flags|=256),E=hc(A,E,!1),E!==2){if(ac&&!b){A.errorRecoveryDisabledLanes|=y,ji|=y,g=4;break e}y=Ut,Ut=g,y!==null&&(Ut===null?Ut=y:Ut.push.apply(Ut,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Yo(n,0),gi(n,i,0,!0);break}e:{switch(r=n,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:gi(r,i,zt,!di);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Cl+300-ee(),10<g)){if(gi(r,i,zt,!di),ho(r,0,!0)!==0)break e;Yn=i,r.timeoutHandle=Zp(xp.bind(null,r,a,Ut,wl,rc,i,zt,ji,Oo,di,y,"Throttled",-0,0),g);break e}xp(r,a,Ut,wl,rc,i,zt,ji,Oo,di,y,null,-0,0)}}break}while(!0);wn(n)}function xp(n,i,a,r,g,y,E,A,b,H,Y,Q,q,z){if(n.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},dp(i,y,Q);var se=(y&62914560)===y?Cl-ee():(y&4194048)===y?gp-ee():0;if(se=GE(Q,se),se!==null){Yn=y,n.cancelPendingCommit=se(Mp.bind(null,n,i,y,a,r,g,E,A,b,Y,Q,null,q,z)),gi(n,y,E,!H);return}}Mp(n,i,y,a,r,g,E,A,b)}function tE(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var g=a[r],y=g.getSnapshot;g=g.value;try{if(!kt(y(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gi(n,i,a,r){i&=~lc,i&=~ji,n.suspendedLanes|=i,n.pingedLanes&=~i,r&&(n.warmLanes|=i),r=n.expirationTimes;for(var g=i;0<g;){var y=31-ct(g),E=1<<y;r[y]=-1,g&=~E}a!==0&&Nd(n,a,i)}function _l(){return(De&6)===0?(ta(0),!1):!0}function dc(){if(Ce!==null){if(Ue===0)var n=Ce.return;else n=Ce,Pn=Fi=null,Mu(n),Lo=null,ks=0,n=Ce;for(;n!==null;)$m(n.alternate,n),n=n.return;Ce=null}}function Yo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,SE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Yn=0,dc(),He=n,Ce=a=In(n.current,null),we=i,Ue=0,qt=null,di=!1,zo=xs(n,i),ac=!1,Oo=zt=lc=ji=hi=je=0,Ut=js=null,rc=!1,(i&8)!==0&&(i|=i&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=i;0<r;){var g=31-ct(r),y=1<<g;i|=n[g],r&=~y}return Fn=i,Ka(),a}function Sp(n,i){Te=null,O.H=Ys,i===Po||i===tl?(i=kh(),Ue=3):i===gu?(i=kh(),Ue=4):Ue=i===Fu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qt=i,Ce===null&&(je=1,pl(n,tn(i,n.current)))}function Ep(){var n=Gt.current;return n===null?!0:(we&4194048)===we?an===null:(we&62914560)===we||(we&536870912)!==0?n===an:!1}function Cp(){var n=O.H;return O.H=Ys,n===null?Ys:n}function Ap(){var n=O.A;return O.A=jS,n}function bl(){je=4,di||(we&4194048)!==we&&Gt.current!==null||(zo=!0),(hi&134217727)===0&&(ji&134217727)===0||He===null||gi(He,we,zt,!1)}function hc(n,i,a){var r=De;De|=2;var g=Cp(),y=Ap();(He!==n||we!==i)&&(wl=null,Yo(n,i)),i=!1;var E=je;e:do try{if(Ue!==0&&Ce!==null){var A=Ce,b=qt;switch(Ue){case 8:dc(),E=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(i=!0);var H=Ue;if(Ue=0,qt=null,Jo(n,A,b,H),a&&zo){E=0;break e}break;default:H=Ue,Ue=0,qt=null,Jo(n,A,b,H)}}nE(),E=je;break}catch(Y){Sp(n,Y)}while(!0);return i&&n.shellSuspendCounter++,Pn=Fi=null,De=r,O.H=g,O.A=y,Ce===null&&(He=null,we=0,Ka()),E}function nE(){for(;Ce!==null;)wp(Ce)}function iE(n,i){var a=De;De|=2;var r=Cp(),g=Ap();He!==n||we!==i?(wl=null,Al=ee()+500,Yo(n,i)):zo=xs(n,i);e:do try{if(Ue!==0&&Ce!==null){i=Ce;var y=qt;t:switch(Ue){case 1:Ue=0,qt=null,Jo(n,i,y,1);break;case 2:case 9:if(Lh(y)){Ue=0,qt=null,_p(i);break}i=function(){Ue!==2&&Ue!==9||He!==n||(Ue=7),wn(n)},y.then(i,i);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Lh(y)?(Ue=0,qt=null,_p(i)):(Ue=0,qt=null,Jo(n,i,y,7));break;case 5:var E=null;switch(Ce.tag){case 26:E=Ce.memoizedState;case 5:case 27:var A=Ce;if(E?fg(E):A.stateNode.complete){Ue=0,qt=null;var b=A.sibling;if(b!==null)Ce=b;else{var H=A.return;H!==null?(Ce=H,Ml(H)):Ce=null}break t}}Ue=0,qt=null,Jo(n,i,y,5);break;case 6:Ue=0,qt=null,Jo(n,i,y,6);break;case 8:dc(),je=6;break e;default:throw Error(s(462))}}oE();break}catch(Y){Sp(n,Y)}while(!0);return Pn=Fi=null,O.H=r,O.A=g,De=a,Ce!==null?0:(He=null,we=0,Ka(),je)}function oE(){for(;Ce!==null&&!Ui();)wp(Ce)}function wp(n){var i=Qm(n.alternate,n,Fn);n.memoizedProps=n.pendingProps,i===null?Ml(n):Ce=i}function _p(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Om(a,i,i.pendingProps,i.type,void 0,we);break;case 11:i=Om(a,i,i.pendingProps,i.type.render,i.ref,we);break;case 5:Mu(i);default:$m(a,i),i=Ce=Ah(i,Fn),i=Qm(a,i,Fn)}n.memoizedProps=n.pendingProps,i===null?Ml(n):Ce=i}function Jo(n,i,a,r){Pn=Fi=null,Mu(i),Lo=null,ks=0;var g=i.return;try{if(JS(n,g,i,a,we)){je=1,pl(n,tn(a,n.current)),Ce=null;return}}catch(y){if(g!==null)throw Ce=g,y;je=1,pl(n,tn(a,n.current)),Ce=null;return}i.flags&32768?(be||r===1?n=!0:zo||(we&536870912)!==0?n=!1:(di=n=!0,(r===2||r===9||r===3||r===6)&&(r=Gt.current,r!==null&&r.tag===13&&(r.flags|=16384))),bp(i,n)):Ml(i)}function Ml(n){var i=n;do{if((i.flags&32768)!==0){bp(i,di);return}n=i.return;var a=QS(i.alternate,i,Fn);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=n}while(i!==null);je===0&&(je=5)}function bp(n,i){do{var a=ZS(n.alternate,n);if(a!==null){a.flags&=32767,Ce=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=a}while(n!==null);je=6,Ce=null}function Mp(n,i,a,r,g,y,E,A,b){n.cancelPendingCommit=null;do Rl();while(ft!==0);if((De&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=tu,kx(n,a,y,E,A,b),n===He&&(Ce=He=null,we=0),Fo=i,pi=n,Yn=a,uc=y,cc=g,yp=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rE(qe,function(){return Up(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,g=W.p,W.p=2,E=De,De|=4;try{$S(n,i,a)}finally{De=E,W.p=g,O.T=r}}ft=1,Rp(),Np(),Dp()}}function Rp(){if(ft===1){ft=0;var n=pi,i=Fo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var r=W.p;W.p=2;var g=De;De|=4;try{up(i,n);var y=wc,E=ph(n.containerInfo),A=y.focusedElem,b=y.selectionRange;if(E!==A&&A&&A.ownerDocument&&mh(A.ownerDocument.documentElement,A)){if(b!==null&&Zr(A)){var H=b.start,Y=b.end;if(Y===void 0&&(Y=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(Y,A.value.length);else{var Q=A.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var z=q.getSelection(),se=A.textContent.length,fe=Math.min(b.start,se),Ge=b.end===void 0?fe:Math.min(b.end,se);!z.extend&&fe>Ge&&(E=Ge,Ge=fe,fe=E);var I=hh(A,fe),N=hh(A,Ge);if(I&&N&&(z.rangeCount!==1||z.anchorNode!==I.node||z.anchorOffset!==I.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var G=Q.createRange();G.setStart(I.node,I.offset),z.removeAllRanges(),fe>Ge?(z.addRange(G),z.extend(N.node,N.offset)):(G.setEnd(N.node,N.offset),z.addRange(G))}}}}for(Q=[],z=A;z=z.parentNode;)z.nodeType===1&&Q.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Q.length;A++){var K=Q[A];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ql=!!Ac,wc=Ac=null}finally{De=g,W.p=r,O.T=a}}n.current=i,ft=2}}function Np(){if(ft===2){ft=0;var n=pi,i=Fo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var r=W.p;W.p=2;var g=De;De|=4;try{op(n,i.alternate,i)}finally{De=g,W.p=r,O.T=a}}ft=3}}function Dp(){if(ft===4||ft===3){ft=0,Pi();var n=pi,i=Fo,a=Yn,r=yp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ft=5:(ft=0,Fo=pi=null,Ip(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(mi=null),Dr(a),i=i.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Vi,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=O.T,g=W.p,W.p=2,O.T=null;try{for(var y=n.onRecoverableError,E=0;E<r.length;E++){var A=r[E];y(A.value,{componentStack:A.stack})}}finally{O.T=i,W.p=g}}(Yn&3)!==0&&Rl(),wn(n),g=n.pendingLanes,(a&261930)!==0&&(g&42)!==0?n===fc?ea++:(ea=0,fc=n):ea=0,ta(0)}}function Ip(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ls(i)))}function Rl(){return Rp(),Np(),Dp(),Up()}function Up(){if(ft!==5)return!1;var n=pi,i=uc;uc=0;var a=Dr(Yn),r=O.T,g=W.p;try{W.p=32>a?32:a,O.T=null,a=cc,cc=null;var y=pi,E=Yn;if(ft=0,Fo=pi=null,Yn=0,(De&6)!==0)throw Error(s(331));var A=De;if(De|=4,mp(y.current),fp(y,y.current,E,a),De=A,ta(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Vi,y)}catch{}return!0}finally{W.p=g,O.T=r,Ip(n,i)}}function Pp(n,i,a){i=tn(a,i),i=Ou(n.stateNode,i,2),n=ri(n,i,2),n!==null&&(Ss(n,2),wn(n))}function Pe(n,i,a){if(n.tag===3)Pp(n,n,a);else for(;i!==null;){if(i.tag===3){Pp(i,n,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){n=tn(a,n),a=Lm(2),r=ri(i,a,2),r!==null&&(Vm(a,r,i,n),Ss(r,2),wn(r));break}}i=i.return}}function mc(n,i,a){var r=n.pingCache;if(r===null){r=n.pingCache=new eE;var g=new Set;r.set(i,g)}else g=r.get(i),g===void 0&&(g=new Set,r.set(i,g));g.has(a)||(ac=!0,g.add(a),n=sE.bind(null,n,i,a),i.then(n,n))}function sE(n,i,a){var r=n.pingCache;r!==null&&r.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,He===n&&(we&a)===a&&(je===4||je===3&&(we&62914560)===we&&300>ee()-Cl?(De&2)===0&&Yo(n,0):lc|=a,Oo===we&&(Oo=0)),wn(n)}function Lp(n,i){i===0&&(i=Rd()),n=qi(n,i),n!==null&&(Ss(n,i),wn(n))}function aE(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Lp(n,a)}function lE(n,i){var a=0;switch(n.tag){case 31:case 13:var r=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),Lp(n,a)}function rE(n,i){return Ii(n,i)}var Nl=null,Ko=null,pc=!1,Dl=!1,gc=!1,yi=0;function wn(n){n!==Ko&&n.next===null&&(Ko===null?Nl=Ko=n:Ko=Ko.next=n),Dl=!0,pc||(pc=!0,cE())}function ta(n,i){if(!gc&&Dl){gc=!0;do for(var a=!1,r=Nl;r!==null;){if(n!==0){var g=r.pendingLanes;if(g===0)var y=0;else{var E=r.suspendedLanes,A=r.pingedLanes;y=(1<<31-ct(42|n)+1)-1,y&=g&~(E&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Gp(r,y))}else y=we,y=ho(r,r===He?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||xs(r,y)||(a=!0,Gp(r,y));r=r.next}while(a);gc=!1}}function uE(){Vp()}function Vp(){Dl=pc=!1;var n=0;yi!==0&&xE()&&(n=yi);for(var i=ee(),a=null,r=Nl;r!==null;){var g=r.next,y=kp(r,i);y===0?(r.next=null,a===null?Nl=g:a.next=g,g===null&&(Ko=a)):(a=r,(n!==0||(y&3)!==0)&&(Dl=!0)),r=g}ft!==0&&ft!==5||ta(n),yi!==0&&(yi=0)}function kp(n,i){for(var a=n.suspendedLanes,r=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-ct(y),A=1<<E,b=g[E];b===-1?((A&a)===0||(A&r)!==0)&&(g[E]=Vx(A,i)):b<=i&&(n.expiredLanes|=A),y&=~A}if(i=He,a=we,a=ho(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,a===0||n===i&&(Ue===2||Ue===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&jn(r),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||xs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(r!==null&&jn(r),Dr(a)){case 2:case 8:a=$e;break;case 32:a=qe;break;case 268435456:a=dn;break;default:a=qe}return r=Bp.bind(null,n),a=Ii(a,r),n.callbackPriority=i,n.callbackNode=a,i}return r!==null&&r!==null&&jn(r),n.callbackPriority=2,n.callbackNode=null,2}function Bp(n,i){if(ft!==0&&ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Rl()&&n.callbackNode!==a)return null;var r=we;return r=ho(n,n===He?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(Tp(n,r,i),kp(n,ee()),n.callbackNode!=null&&n.callbackNode===a?Bp.bind(null,n):null)}function Gp(n,i){if(Rl())return null;Tp(n,i,!0)}function cE(){EE(function(){(De&6)!==0?Ii(_t,uE):Vp()})}function yc(){if(yi===0){var n=Io;n===0&&(n=$t,$t<<=1,($t&261888)===0&&($t=256)),yi=n}return yi}function Hp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ga(""+n)}function qp(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function fE(n,i,a,r,g){if(i==="submit"&&a&&a.stateNode===g){var y=Hp((g[Mt]||null).action),E=r.submitter;E&&(i=(i=E[Mt]||null)?Hp(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var A=new Oa("action","action",null,r,g);n.push({event:A,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(yi!==0){var b=E?qp(g,E):new FormData(g);ku(a,{pending:!0,data:b,method:g.method,action:y},null,b)}}else typeof y=="function"&&(A.preventDefault(),b=E?qp(g,E):new FormData(g),ku(a,{pending:!0,data:b,method:g.method,action:y},y,b))},currentTarget:g}]})}}for(var vc=0;vc<eu.length;vc++){var Tc=eu[vc],dE=Tc.toLowerCase(),hE=Tc[0].toUpperCase()+Tc.slice(1);hn(dE,"on"+hE)}hn(vh,"onAnimationEnd"),hn(Th,"onAnimationIteration"),hn(xh,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(RS,"onTransitionRun"),hn(NS,"onTransitionStart"),hn(DS,"onTransitionCancel"),hn(Sh,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(na));function zp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var r=n[a],g=r.event;r=r.listeners;e:{var y=void 0;if(i)for(var E=r.length-1;0<=E;E--){var A=r[E],b=A.instance,H=A.currentTarget;if(A=A.listener,b!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=H;try{y(g)}catch(Y){Ja(Y)}g.currentTarget=null,y=b}else for(E=0;E<r.length;E++){if(A=r[E],b=A.instance,H=A.currentTarget,A=A.listener,b!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=H;try{y(g)}catch(Y){Ja(Y)}g.currentTarget=null,y=b}}}}function Ae(n,i){var a=i[Ir];a===void 0&&(a=i[Ir]=new Set);var r=n+"__bubble";a.has(r)||(Op(i,n,2,!1),a.add(r))}function xc(n,i,a){var r=0;i&&(r|=4),Op(a,n,r,i)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Sc(n){if(!n[Il]){n[Il]=!0,Vd.forEach(function(a){a!=="selectionchange"&&(mE.has(a)||xc(a,!1,n),xc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Il]||(i[Il]=!0,xc("selectionchange",!1,i))}}function Op(n,i,a,r){switch(vg(i)){case 2:var g=zE;break;case 8:g=OE;break;default:g=Vc}a=g.bind(null,i,a,n),g=void 0,!qr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),r?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Ec(n,i,a,r,g){var y=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var A=r.stateNode.containerInfo;if(A===g)break;if(E===4)for(E=r.return;E!==null;){var b=E.tag;if((b===3||b===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;A!==null;){if(E=po(A),E===null)return;if(b=E.tag,b===5||b===6||b===26||b===27){r=y=E;continue e}A=A.parentNode}}r=r.return}Xd(function(){var H=y,Y=Gr(a),Q=[];e:{var q=Eh.get(n);if(q!==void 0){var z=Oa,se=n;switch(n){case"keypress":if(qa(a)===0)break e;case"keydown":case"keyup":z=lS;break;case"focusin":se="focus",z=Yr;break;case"focusout":se="blur",z=Yr;break;case"beforeblur":case"afterblur":z=Yr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=cS;break;case vh:case Th:case xh:z=Wx;break;case Sh:z=dS;break;case"scroll":case"scrollend":z=Kx;break;case"wheel":z=mS;break;case"copy":case"cut":case"paste":z=eS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=jd;break;case"toggle":case"beforetoggle":z=gS}var fe=(i&4)!==0,Ge=!fe&&(n==="scroll"||n==="scrollend"),I=fe?q!==null?q+"Capture":null:q;fe=[];for(var N=H,G;N!==null;){var K=N;if(G=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||G===null||I===null||(K=As(N,I),K!=null&&fe.push(ia(N,K,G))),Ge)break;N=N.return}0<fe.length&&(q=new z(q,se,null,a,Y),Q.push({event:q,listeners:fe}))}}if((i&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",q&&a!==Br&&(se=a.relatedTarget||a.fromElement)&&(po(se)||se[mo]))break e;if((z||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,z?(se=a.relatedTarget||a.toElement,z=H,se=se?po(se):null,se!==null&&(Ge=u(se),fe=se.tag,se!==Ge||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(z=null,se=H),z!==se)){if(fe=$d,K="onMouseLeave",I="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(fe=jd,K="onPointerLeave",I="onPointerEnter",N="pointer"),Ge=z==null?q:Cs(z),G=se==null?q:Cs(se),q=new fe(K,N+"leave",z,a,Y),q.target=Ge,q.relatedTarget=G,K=null,po(Y)===H&&(fe=new fe(I,N+"enter",se,a,Y),fe.target=G,fe.relatedTarget=Ge,K=fe),Ge=K,z&&se)t:{for(fe=pE,I=z,N=se,G=0,K=I;K;K=fe(K))G++;K=0;for(var ce=N;ce;ce=fe(ce))K++;for(;0<G-K;)I=fe(I),G--;for(;0<K-G;)N=fe(N),K--;for(;G--;){if(I===N||N!==null&&I===N.alternate){fe=I;break t}I=fe(I),N=fe(N)}fe=null}else fe=null;z!==null&&Fp(Q,q,z,fe,!1),se!==null&&Ge!==null&&Fp(Q,Ge,se,fe,!0)}}e:{if(q=H?Cs(H):window,z=q.nodeName&&q.nodeName.toLowerCase(),z==="select"||z==="input"&&q.type==="file")var Me=lh;else if(sh(q))if(rh)Me=_S;else{Me=AS;var re=CS}else z=q.nodeName,!z||z.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&kr(H.elementType)&&(Me=lh):Me=wS;if(Me&&(Me=Me(n,H))){ah(Q,Me,a,Y);break e}re&&re(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Vr(q,"number",q.value)}switch(re=H?Cs(H):window,n){case"focusin":(sh(re)||re.contentEditable==="true")&&(Ao=re,$r=H,Is=null);break;case"focusout":Is=$r=Ao=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":Wr=!1,gh(Q,a,Y);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":gh(Q,a,Y)}var xe;if(Kr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Co?ih(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(eh&&a.locale!=="ko"&&(Co||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Co&&(xe=Qd()):(ti=Y,zr="value"in ti?ti.value:ti.textContent,Co=!0)),re=Ul(H,_e),0<re.length&&(_e=new Wd(_e,n,null,a,Y),Q.push({event:_e,listeners:re}),xe?_e.data=xe:(xe=oh(a),xe!==null&&(_e.data=xe)))),(xe=vS?TS(n,a):xS(n,a))&&(_e=Ul(H,"onBeforeInput"),0<_e.length&&(re=new Wd("onBeforeInput","beforeinput",null,a,Y),Q.push({event:re,listeners:_e}),re.data=xe)),fE(Q,n,H,a,Y)}zp(Q,i)})}function ia(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ul(n,i){for(var a=i+"Capture",r=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=As(n,a),g!=null&&r.unshift(ia(n,g,y)),g=As(n,i),g!=null&&r.push(ia(n,g,y))),n.tag===3)return r;n=n.return}return[]}function pE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Fp(n,i,a,r,g){for(var y=i._reactName,E=[];a!==null&&a!==r;){var A=a,b=A.alternate,H=A.stateNode;if(A=A.tag,b!==null&&b===r)break;A!==5&&A!==26&&A!==27||H===null||(b=H,g?(H=As(a,y),H!=null&&E.unshift(ia(a,H,b))):g||(H=As(a,y),H!=null&&E.push(ia(a,H,b)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var gE=/\r\n?/g,yE=/\u0000|\uFFFD/g;function Yp(n){return(typeof n=="string"?n:""+n).replace(gE,`
`).replace(yE,"")}function Jp(n,i){return i=Yp(i),Yp(n)===i}function Be(n,i,a,r,g,y){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||xo(n,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&xo(n,""+r);break;case"className":ka(n,"class",r);break;case"tabIndex":ka(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ka(n,a,r);break;case"style":Jd(n,r,y);break;case"data":if(i!=="object"){ka(n,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=Ga(""+r),n.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&Be(n,i,"name",g.name,g,null),Be(n,i,"formEncType",g.formEncType,g,null),Be(n,i,"formMethod",g.formMethod,g,null),Be(n,i,"formTarget",g.formTarget,g,null)):(Be(n,i,"encType",g.encType,g,null),Be(n,i,"method",g.method,g,null),Be(n,i,"target",g.target,g,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=Ga(""+r),n.setAttribute(a,r);break;case"onClick":r!=null&&(n.onclick=Nn);break;case"onScroll":r!=null&&Ae("scroll",n);break;case"onScrollEnd":r!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}a=Ga(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""+r):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":r===!0?n.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,r):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(a,r):n.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(a):n.setAttribute(a,r);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),Va(n,"popover",r);break;case"xlinkActuate":Rn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Rn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Rn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Rn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Rn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Rn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Rn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Rn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Rn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Va(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yx.get(a)||a,Va(n,a,r))}}function Cc(n,i,a,r,g,y){switch(a){case"style":Jd(n,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof r=="string"?xo(n,r):(typeof r=="number"||typeof r=="bigint")&&xo(n,""+r);break;case"onScroll":r!=null&&Ae("scroll",n);break;case"onScrollEnd":r!=null&&Ae("scrollend",n);break;case"onClick":r!=null&&(n.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),y=n[Mt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,g),typeof r=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,r,g);break e}a in n?n[a]=r:r===!0?n.setAttribute(a,""):Va(n,a,r)}}}function Tt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var r=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":r=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Be(n,i,y,E,a,null)}}g&&Be(n,i,"srcSet",a.srcSet,a,null),r&&Be(n,i,"src",a.src,a,null);return;case"input":Ae("invalid",n);var A=y=E=g=null,b=null,H=null;for(r in a)if(a.hasOwnProperty(r)){var Y=a[r];if(Y!=null)switch(r){case"name":g=Y;break;case"type":E=Y;break;case"checked":b=Y;break;case"defaultChecked":H=Y;break;case"value":y=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Be(n,i,r,Y,a,null)}}zd(n,y,A,b,H,E,g,!1);return;case"select":Ae("invalid",n),r=E=y=null;for(g in a)if(a.hasOwnProperty(g)&&(A=a[g],A!=null))switch(g){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":r=A;default:Be(n,i,g,A,a,null)}i=y,a=E,n.multiple=!!r,i!=null?To(n,!!r,i,!1):a!=null&&To(n,!!r,a,!0);return;case"textarea":Ae("invalid",n),y=g=r=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":r=A;break;case"defaultValue":g=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Be(n,i,E,A,a,null)}Fd(n,r,g,y);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(r=a[b],r!=null))switch(b){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Be(n,i,b,r,a,null)}return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(r=0;r<na.length;r++)Ae(na[r],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(r=a[H],r!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Be(n,i,H,r,a,null)}return;default:if(kr(i)){for(Y in a)a.hasOwnProperty(Y)&&(r=a[Y],r!==void 0&&Cc(n,i,Y,r,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(r=a[A],r!=null&&Be(n,i,A,r,a,null))}function vE(n,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,A=null,b=null,H=null,Y=null;for(z in a){var Q=a[z];if(a.hasOwnProperty(z)&&Q!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=Q;default:r.hasOwnProperty(z)||Be(n,i,z,null,r,Q)}}for(var q in r){var z=r[q];if(Q=a[q],r.hasOwnProperty(q)&&(z!=null||Q!=null))switch(q){case"type":y=z;break;case"name":g=z;break;case"checked":H=z;break;case"defaultChecked":Y=z;break;case"value":E=z;break;case"defaultValue":A=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:z!==Q&&Be(n,i,q,z,r,Q)}}Lr(n,E,A,b,H,Y,y,g);return;case"select":z=E=A=q=null;for(y in a)if(b=a[y],a.hasOwnProperty(y)&&b!=null)switch(y){case"value":break;case"multiple":z=b;default:r.hasOwnProperty(y)||Be(n,i,y,null,r,b)}for(g in r)if(y=r[g],b=a[g],r.hasOwnProperty(g)&&(y!=null||b!=null))switch(g){case"value":q=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==b&&Be(n,i,g,y,r,b)}i=A,a=E,r=z,q!=null?To(n,!!a,q,!1):!!r!=!!a&&(i!=null?To(n,!!a,i,!0):To(n,!!a,a?[]:"",!1));return;case"textarea":z=q=null;for(A in a)if(g=a[A],a.hasOwnProperty(A)&&g!=null&&!r.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Be(n,i,A,null,r,g)}for(E in r)if(g=r[E],y=a[E],r.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":q=g;break;case"defaultValue":z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&Be(n,i,E,g,r,y)}Od(n,q,z);return;case"option":for(var se in a)if(q=a[se],a.hasOwnProperty(se)&&q!=null&&!r.hasOwnProperty(se))switch(se){case"selected":n.selected=!1;break;default:Be(n,i,se,null,r,q)}for(b in r)if(q=r[b],z=a[b],r.hasOwnProperty(b)&&q!==z&&(q!=null||z!=null))switch(b){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Be(n,i,b,q,r,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!r.hasOwnProperty(fe)&&Be(n,i,fe,null,r,q);for(H in r)if(q=r[H],z=a[H],r.hasOwnProperty(H)&&q!==z&&(q!=null||z!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Be(n,i,H,q,r,z)}return;default:if(kr(i)){for(var Ge in a)q=a[Ge],a.hasOwnProperty(Ge)&&q!==void 0&&!r.hasOwnProperty(Ge)&&Cc(n,i,Ge,void 0,r,q);for(Y in r)q=r[Y],z=a[Y],!r.hasOwnProperty(Y)||q===z||q===void 0&&z===void 0||Cc(n,i,Y,q,r,z);return}}for(var I in a)q=a[I],a.hasOwnProperty(I)&&q!=null&&!r.hasOwnProperty(I)&&Be(n,i,I,null,r,q);for(Q in r)q=r[Q],z=a[Q],!r.hasOwnProperty(Q)||q===z||q==null&&z==null||Be(n,i,Q,q,r,z)}function Kp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var g=a[r],y=g.transferSize,E=g.initiatorType,A=g.duration;if(y&&A&&Kp(E)){for(E=0,A=g.responseEnd,r+=1;r<a.length;r++){var b=a[r],H=b.startTime;if(H>A)break;var Y=b.transferSize,Q=b.initiatorType;Y&&Kp(Q)&&(b=b.responseEnd,E+=Y*(b<A?1:(A-H)/(b-H)))}if(--r,i+=8*(y+E)/(g.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ac=null,wc=null;function Pl(n){return n.nodeType===9?n:n.ownerDocument}function Xp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function _c(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bc=null;function xE(){var n=window.event;return n&&n.type==="popstate"?n===bc?!1:(bc=n,!0):(bc=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(n){return $p.resolve(null).then(n).catch(CE)}:Zp;function CE(n){setTimeout(function(){throw n})}function vi(n){return n==="head"}function Wp(n,i){var a=i,r=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(r===0){n.removeChild(g),$o(i);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")oa(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,oa(a);for(var y=a.firstChild;y;){var E=y.nextSibling,A=y.nodeName;y[Es]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&oa(n.ownerDocument.body);a=g}while(a);$o(i)}function jp(n,i){var a=n;n=0;do{var r=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=r}while(a)}function Mc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mc(a),Ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function AE(n,i,a,r){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Es])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=ln(n.nextSibling),n===null)break}return null}function wE(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ln(n.nextSibling),n===null))return null;return n}function eg(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=ln(n.nextSibling),n===null))return null;return n}function Rc(n){return n.data==="$?"||n.data==="$~"}function Nc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _E(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function ln(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Dc=null;function tg(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return ln(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function ng(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function ig(n,i,a){switch(i=Pl(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function oa(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ur(n)}var rn=new Map,og=new Set;function Ll(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Jn=W.d;W.d={f:bE,r:ME,D:RE,C:NE,L:DE,m:IE,X:PE,S:UE,M:LE};function bE(){var n=Jn.f(),i=_l();return n||i}function ME(n){var i=go(n);i!==null&&i.tag===5&&i.type==="form"?Sm(i):Jn.r(n)}var Xo=typeof document>"u"?null:document;function sg(n,i,a){var r=Xo;if(r&&typeof i=="string"&&i){var g=jt(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),og.has(g)||(og.add(g),n={rel:n,crossOrigin:a,href:i},r.querySelector(g)===null&&(i=r.createElement("link"),Tt(i,"link",n),ht(i),r.head.appendChild(i)))}}function RE(n){Jn.D(n),sg("dns-prefetch",n,null)}function NE(n,i){Jn.C(n,i),sg("preconnect",n,i)}function DE(n,i,a){Jn.L(n,i,a);var r=Xo;if(r&&n&&i){var g='link[rel="preload"][as="'+jt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+jt(a.imageSizes)+'"]')):g+='[href="'+jt(n)+'"]';var y=g;switch(i){case"style":y=Qo(n);break;case"script":y=Zo(n)}rn.has(y)||(n=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),rn.set(y,n),r.querySelector(g)!==null||i==="style"&&r.querySelector(sa(y))||i==="script"&&r.querySelector(aa(y))||(i=r.createElement("link"),Tt(i,"link",n),ht(i),r.head.appendChild(i)))}}function IE(n,i){Jn.m(n,i);var a=Xo;if(a&&n){var r=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+jt(r)+'"][href="'+jt(n)+'"]',y=g;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Zo(n)}if(!rn.has(y)&&(n=T({rel:"modulepreload",href:n},i),rn.set(y,n),a.querySelector(g)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(aa(y)))return}r=a.createElement("link"),Tt(r,"link",n),ht(r),a.head.appendChild(r)}}}function UE(n,i,a){Jn.S(n,i,a);var r=Xo;if(r&&n){var g=yo(r).hoistableStyles,y=Qo(n);i=i||"default";var E=g.get(y);if(!E){var A={loading:0,preload:null};if(E=r.querySelector(sa(y)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},a),(a=rn.get(y))&&Ic(n,a);var b=E=r.createElement("link");ht(b),Tt(b,"link",n),b._p=new Promise(function(H,Y){b.onload=H,b.onerror=Y}),b.addEventListener("load",function(){A.loading|=1}),b.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Vl(E,i,r)}E={type:"stylesheet",instance:E,count:1,state:A},g.set(y,E)}}}function PE(n,i){Jn.X(n,i);var a=Xo;if(a&&n){var r=yo(a).hoistableScripts,g=Zo(n),y=r.get(g);y||(y=a.querySelector(aa(g)),y||(n=T({src:n,async:!0},i),(i=rn.get(g))&&Uc(n,i),y=a.createElement("script"),ht(y),Tt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(g,y))}}function LE(n,i){Jn.M(n,i);var a=Xo;if(a&&n){var r=yo(a).hoistableScripts,g=Zo(n),y=r.get(g);y||(y=a.querySelector(aa(g)),y||(n=T({src:n,async:!0,type:"module"},i),(i=rn.get(g))&&Uc(n,i),y=a.createElement("script"),ht(y),Tt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(g,y))}}function ag(n,i,a,r){var g=(g=oe.current)?Ll(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qo(a.href),a=yo(g).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Qo(a.href);var y=yo(g).hoistableStyles,E=y.get(n);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=g.querySelector(sa(n)))&&!y._p&&(E.instance=y,E.state.loading=5),rn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rn.set(n,a),y||VE(g,n,a,E.state))),i&&r===null)throw Error(s(528,""));return E}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zo(a),a=yo(g).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Qo(n){return'href="'+jt(n)+'"'}function sa(n){return'link[rel="stylesheet"]['+n+"]"}function lg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function VE(n,i,a,r){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=n.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),Tt(i,"link",a),ht(i),n.head.appendChild(i))}function Zo(n){return'[src="'+jt(n)+'"]'}function aa(n){return"script[async]"+n}function rg(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=n.querySelector('style[data-href~="'+jt(a.href)+'"]');if(r)return i.instance=r,ht(r),r;var g=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),ht(r),Tt(r,"style",g),Vl(r,a.precedence,n),i.instance=r;case"stylesheet":g=Qo(a.href);var y=n.querySelector(sa(g));if(y)return i.state.loading|=4,i.instance=y,ht(y),y;r=lg(a),(g=rn.get(g))&&Ic(r,g),y=(n.ownerDocument||n).createElement("link"),ht(y);var E=y;return E._p=new Promise(function(A,b){E.onload=A,E.onerror=b}),Tt(y,"link",r),i.state.loading|=4,Vl(y,a.precedence,n),i.instance=y;case"script":return y=Zo(a.src),(g=n.querySelector(aa(y)))?(i.instance=g,ht(g),g):(r=a,(g=rn.get(y))&&(r=T({},a),Uc(r,g)),n=n.ownerDocument||n,g=n.createElement("script"),ht(g),Tt(g,"link",r),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Vl(r,a.precedence,n));return i.instance}function Vl(n,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=r.length?r[r.length-1]:null,y=g,E=0;E<r.length;E++){var A=r[E];if(A.dataset.precedence===i)y=A;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Ic(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Uc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var kl=null;function ug(n,i,a){if(kl===null){var r=new Map,g=kl=new Map;g.set(a,r)}else g=kl,r=g.get(a),r||(r=new Map,g.set(a,r));if(r.has(n))return r;for(r.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var y=a[g];if(!(y[Es]||y[pt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var A=r.get(E);A?A.push(y):r.set(E,[y])}}return r}function cg(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function kE(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function BE(n,i,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Qo(r.href),y=i.querySelector(sa(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Bl.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=y,ht(y);return}y=i.ownerDocument||i,r=lg(r),(g=rn.get(g))&&Ic(r,g),y=y.createElement("link"),ht(y);var E=y;E._p=new Promise(function(A,b){E.onload=A,E.onerror=b}),Tt(y,"link",r),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Bl.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Pc=0;function GE(n,i){return n.stylesheets&&n.count===0&&Hl(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var r=setTimeout(function(){if(n.stylesheets&&Hl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+i);0<n.imgBytes&&Pc===0&&(Pc=62500*TE());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Hl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Pc?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(g)}}:null}function Bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gl=null;function Hl(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gl=new Map,i.forEach(HE,n),Gl=null,Bl.call(n))}function HE(n,i){if(!(i.state.loading&4)){var a=Gl.get(n);if(a)var r=a.get(null);else{a=new Map,Gl.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),r=E)}r&&a.set(null,r)}g=i.instance,E=g.getAttribute("data-precedence"),y=a.get(E)||r,y===r&&a.set(null,g),a.set(E,g),this.count++,r=Bl.bind(this),g.addEventListener("load",r),g.addEventListener("error",r),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var la={$$typeof:P,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function qE(n,i,a,r,g,y,E,A,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=r,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function dg(n,i,a,r,g,y,E,A,b,H,Y,Q){return n=new qE(n,i,a,E,b,H,Y,Q,A),i=1,y===!0&&(i|=24),y=Bt(3,null,null,i),n.current=y,y.stateNode=n,i=hu(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:r,isDehydrated:a,cache:i},yu(y),n}function hg(n){return n?(n=bo,n):bo}function mg(n,i,a,r,g,y){g=hg(g),r.context===null?r.context=g:r.pendingContext=g,r=li(i),r.payload={element:a},y=y===void 0?null:y,y!==null&&(r.callback=y),a=ri(n,r,i),a!==null&&(Pt(a,n,i),Gs(a,n,i))}function pg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Lc(n,i){pg(n,i),(n=n.alternate)&&pg(n,i)}function gg(n){if(n.tag===13||n.tag===31){var i=qi(n,67108864);i!==null&&Pt(i,n,67108864),Lc(n,67108864)}}function yg(n){if(n.tag===13||n.tag===31){var i=Ot();i=Nr(i);var a=qi(n,i);a!==null&&Pt(a,n,i),Lc(n,i)}}var ql=!0;function zE(n,i,a,r){var g=O.T;O.T=null;var y=W.p;try{W.p=2,Vc(n,i,a,r)}finally{W.p=y,O.T=g}}function OE(n,i,a,r){var g=O.T;O.T=null;var y=W.p;try{W.p=8,Vc(n,i,a,r)}finally{W.p=y,O.T=g}}function Vc(n,i,a,r){if(ql){var g=kc(r);if(g===null)Ec(n,i,r,zl,a),Tg(n,r);else if(YE(g,n,i,a,r))r.stopPropagation();else if(Tg(n,r),i&4&&-1<FE.indexOf(n)){for(;g!==null;){var y=go(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Mn(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var b=1<<31-ct(E);A.entanglements[1]|=b,E&=~b}wn(y),(De&6)===0&&(Al=ee()+500,ta(0))}}break;case 31:case 13:A=qi(y,2),A!==null&&Pt(A,y,2),_l(),Lc(y,2)}if(y=kc(r),y===null&&Ec(n,i,r,zl,a),y===g)break;g=y}g!==null&&r.stopPropagation()}else Ec(n,i,r,null,a)}}function kc(n){return n=Gr(n),Bc(n)}var zl=null;function Bc(n){if(zl=null,n=po(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return zl=n,null}function vg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case _t:return 2;case $e:return 8;case qe:case bt:return 32;case dn:return 268435456;default:return 32}default:return 32}}var Gc=!1,Ti=null,xi=null,Si=null,ra=new Map,ua=new Map,Ei=[],FE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tg(n,i){switch(n){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ra.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(i.pointerId)}}function ca(n,i,a,r,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:y,targetContainers:[g]},i!==null&&(i=go(i),i!==null&&gg(i)),n):(n.eventSystemFlags|=r,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function YE(n,i,a,r,g){switch(i){case"focusin":return Ti=ca(Ti,n,i,a,r,g),!0;case"dragenter":return xi=ca(xi,n,i,a,r,g),!0;case"mouseover":return Si=ca(Si,n,i,a,r,g),!0;case"pointerover":var y=g.pointerId;return ra.set(y,ca(ra.get(y)||null,n,i,a,r,g)),!0;case"gotpointercapture":return y=g.pointerId,ua.set(y,ca(ua.get(y)||null,n,i,a,r,g)),!0}return!1}function xg(n){var i=po(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,Pd(n.priority,function(){yg(a)});return}}else if(i===31){if(i=h(a),i!==null){n.blockedOn=i,Pd(n.priority,function(){yg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ol(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=kc(n.nativeEvent);if(a===null){a=n.nativeEvent;var r=new a.constructor(a.type,a);Br=r,a.target.dispatchEvent(r),Br=null}else return i=go(a),i!==null&&gg(i),n.blockedOn=a,!1;i.shift()}return!0}function Sg(n,i,a){Ol(n)&&a.delete(i)}function JE(){Gc=!1,Ti!==null&&Ol(Ti)&&(Ti=null),xi!==null&&Ol(xi)&&(xi=null),Si!==null&&Ol(Si)&&(Si=null),ra.forEach(Sg),ua.forEach(Sg)}function Fl(n,i){n.blockedOn===i&&(n.blockedOn=null,Gc||(Gc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JE)))}var Yl=null;function Eg(n){Yl!==n&&(Yl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yl===n&&(Yl=null);for(var i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],g=n[i+2];if(typeof r!="function"){if(Bc(r||a)===null)continue;break}var y=go(a);y!==null&&(n.splice(i,3),i-=3,ku(y,{pending:!0,data:g,method:a.method,action:r},r,g))}}))}function $o(n){function i(b){return Fl(b,n)}Ti!==null&&Fl(Ti,n),xi!==null&&Fl(xi,n),Si!==null&&Fl(Si,n),ra.forEach(i),ua.forEach(i);for(var a=0;a<Ei.length;a++){var r=Ei[a];r.blockedOn===n&&(r.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)xg(a),a.blockedOn===null&&Ei.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var g=a[r],y=a[r+1],E=g[Mt]||null;if(typeof y=="function")E||Eg(a);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[Mt]||null)A=E.formAction;else if(Bc(g)!==null)continue}else A=E.action;typeof A=="function"?a[r+1]=A:(a.splice(r,3),r-=3),Eg(a)}}}function Cg(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function Hc(n){this._internalRoot=n}Jl.prototype.render=Hc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,r=Ot();mg(a,r,n,i,null,null)},Jl.prototype.unmount=Hc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;mg(n.current,2,null,n,null,null),_l(),i[mo]=null}};function Jl(n){this._internalRoot=n}Jl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ud();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ei.length&&i!==0&&i<Ei[a].priority;a++);Ei.splice(a,0,n),a===0&&xg(n)}};var Ag=e.version;if(Ag!=="19.2.0")throw Error(s(527,Ag,"19.2.0"));W.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var KE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Vi=Kl.inject(KE),Ie=Kl}catch{}}return da.createRoot=function(n,i){if(!l(n))throw Error(s(299));var a=!1,r="",g=Dm,y=Im,E=Um;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=dg(n,1,!1,null,null,a,r,null,g,y,E,Cg),n[mo]=i.current,Sc(n),new Hc(i)},da.hydrateRoot=function(n,i,a){if(!l(n))throw Error(s(299));var r=!1,g="",y=Dm,E=Im,A=Um,b=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),i=dg(n,1,!0,i,a??null,r,g,b,y,E,A,Cg),i.context=hg(null),a=i.current,r=Ot(),r=Nr(r),g=li(r),g.callback=null,ri(a,g,r),a=r,i.current.lanes=a,Ss(i,a),wn(i),n[mo]=i.current,Sc(n),new Jl(i)},da.version="19.2.0",da}var Pg;function iC(){if(Pg)return Oc.exports;Pg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Oc.exports=nC(),Oc.exports}var oC=iC();const sC=Nv(oC),Bf=L.createContext({});function gr(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const yr=L.createContext(null),Gf=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class aC extends L.Component{getSnapshotBeforeUpdate(e){const o=this.props.childRef.current;if(o&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=o.offsetHeight||0,s.width=o.offsetWidth||0,s.top=o.offsetTop,s.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lC({children:t,isPresent:e}){const o=L.useId(),s=L.useRef(null),l=L.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=L.useContext(Gf);return L.useInsertionEffect(()=>{const{width:c,height:h,top:m,left:d}=l.current;if(e||!s.current||!c||!h)return;s.current.dataset.motionPopId=o;const v=document.createElement("style");return u&&(v.nonce=u),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            top: ${m}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),S.jsx(aC,{isPresent:e,childRef:s,sizeRef:l,children:L.cloneElement(t,{ref:s})})}const rC=({children:t,initial:e,isPresent:o,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c})=>{const h=gr(uC),m=L.useId(),d=L.useCallback(T=>{h.set(T,!0);for(const x of h.values())if(!x)return;s&&s()},[h,s]),v=L.useMemo(()=>({id:m,initial:e,isPresent:o,custom:l,onExitComplete:d,register:T=>(h.set(T,!1),()=>h.delete(T))}),u?[Math.random(),d]:[o,d]);return L.useMemo(()=>{h.forEach((T,x)=>h.set(x,!1))},[o]),L.useEffect(()=>{!o&&!h.size&&s&&s()},[o]),c==="popLayout"&&(t=S.jsx(lC,{isPresent:o,children:t})),S.jsx(yr.Provider,{value:v,children:t})};function uC(){return new Map}function Dv(t=!0){const e=L.useContext(yr);if(e===null)return[!0,null];const{isPresent:o,onExitComplete:s,register:l}=e,u=L.useId();L.useEffect(()=>{t&&l(u)},[t]);const c=L.useCallback(()=>t&&s&&s(u),[u,s,t]);return!o&&s?[!1,c]:[!0]}const Xl=t=>t.key||"";function Lg(t){const e=[];return L.Children.forEach(t,o=>{L.isValidElement(o)&&e.push(o)}),e}const Hf=typeof window<"u",qf=Hf?L.useLayoutEffect:L.useEffect,or=({children:t,custom:e,initial:o=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1})=>{const[h,m]=Dv(c),d=L.useMemo(()=>Lg(t),[t]),v=c&&!h?[]:d.map(Xl),T=L.useRef(!0),x=L.useRef(d),C=gr(()=>new Map),[w,_]=L.useState(d),[R,D]=L.useState(d);qf(()=>{T.current=!1,x.current=d;for(let k=0;k<R.length;k++){const U=Xl(R[k]);v.includes(U)?C.delete(U):C.get(U)!==!0&&C.set(U,!1)}},[R,v.length,v.join("-")]);const V=[];if(d!==w){let k=[...d];for(let U=0;U<R.length;U++){const J=R[U],B=Xl(J);v.includes(B)||(k.splice(U,0,J),V.push(J))}u==="wait"&&V.length&&(k=V),D(Lg(k)),_(d);return}const{forceRender:P}=L.useContext(Bf);return S.jsx(S.Fragment,{children:R.map(k=>{const U=Xl(k),J=c&&!h?!1:d===R||v.includes(U),B=()=>{if(C.has(U))C.set(U,!0);else return;let $=!0;C.forEach(j=>{j||($=!1)}),$&&(P==null||P(),D(x.current),c&&(m==null||m()),s&&s())};return S.jsx(rC,{isPresent:J,initial:!T.current||o?void 0:!1,custom:J?void 0:e,presenceAffectsLayout:l,mode:u,onExitComplete:J?void 0:B,children:k},U)})})},Yt=t=>t;let Iv=Yt;function zf(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=(t,e,o)=>{const s=e-t;return s===0?1:(o-t)/s},Kn=t=>t*1e3,Xn=t=>t/1e3,cC={useManualTiming:!1};function fC(t){let e=new Set,o=new Set,s=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(d){u.has(d)&&(m.schedule(d),t()),d(c)}const m={schedule:(d,v=!1,T=!1)=>{const C=T&&s?e:o;return v&&u.add(d),C.has(d)||C.add(d),d},cancel:d=>{o.delete(d),u.delete(d)},process:d=>{if(c=d,s){l=!0;return}s=!0,[e,o]=[o,e],e.forEach(h),e.clear(),s=!1,l&&(l=!1,m.process(d))}};return m}const Ql=["read","resolveKeyframes","update","preRender","render","postRender"],dC=40;function Uv(t,e){let o=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>o=!0,c=Ql.reduce((D,V)=>(D[V]=fC(u),D),{}),{read:h,resolveKeyframes:m,update:d,preRender:v,render:T,postRender:x}=c,C=()=>{const D=performance.now();o=!1,l.delta=s?1e3/60:Math.max(Math.min(D-l.timestamp,dC),1),l.timestamp=D,l.isProcessing=!0,h.process(l),m.process(l),d.process(l),v.process(l),T.process(l),x.process(l),l.isProcessing=!1,o&&e&&(s=!1,t(C))},w=()=>{o=!0,s=!0,l.isProcessing||t(C)};return{schedule:Ql.reduce((D,V)=>{const P=c[V];return D[V]=(k,U=!1,J=!1)=>(o||w(),P.schedule(k,U,J)),D},{}),cancel:D=>{for(let V=0;V<Ql.length;V++)c[Ql[V]].cancel(D)},state:l,steps:c}}const{schedule:Je,cancel:bi,state:xt,steps:Kc}=Uv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),Pv=L.createContext({strict:!1}),Vg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fs={};for(const t in Vg)fs[t]={isEnabled:e=>Vg[t].some(o=>!!e[o])};function hC(t){for(const e in t)fs[e]={...fs[e],...t[e]}}const mC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sr(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mC.has(t)}let Lv=t=>!sr(t);function pC(t){t&&(Lv=e=>e.startsWith("on")?!sr(e):t(e))}try{pC(require("@emotion/is-prop-valid").default)}catch{}function gC(t,e,o){const s={};for(const l in t)l==="values"&&typeof t.values=="object"||(Lv(l)||o===!0&&sr(l)||!e&&!sr(l)||t.draggable&&l.startsWith("onDrag"))&&(s[l]=t[l]);return s}function yC(t){if(typeof Proxy>"u")return t;const e=new Map,o=(...s)=>t(...s);return new Proxy(o,{get:(s,l)=>l==="create"?t:(e.has(l)||e.set(l,t(l)),e.get(l))})}const vr=L.createContext({});function Aa(t){return typeof t=="string"||Array.isArray(t)}function Tr(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Of=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ff=["initial",...Of];function xr(t){return Tr(t.animate)||Ff.some(e=>Aa(t[e]))}function Vv(t){return!!(xr(t)||t.variants)}function vC(t,e){if(xr(t)){const{initial:o,animate:s}=t;return{initial:o===!1||Aa(o)?o:void 0,animate:Aa(s)?s:void 0}}return t.inherit!==!1?e:{}}function TC(t){const{initial:e,animate:o}=vC(t,L.useContext(vr));return L.useMemo(()=>({initial:e,animate:o}),[kg(e),kg(o)])}function kg(t){return Array.isArray(t)?t.join(" "):t}const xC=Symbol.for("motionComponentSymbol");function ts(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SC(t,e,o){return L.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),o&&(typeof o=="function"?o(s):ts(o)&&(o.current=s))},[e])}const Yf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EC="framerAppearId",kv="data-"+Yf(EC),{schedule:Jf}=Uv(queueMicrotask,!1),Bv=L.createContext({});function CC(t,e,o,s,l){var u,c;const{visualElement:h}=L.useContext(vr),m=L.useContext(Pv),d=L.useContext(yr),v=L.useContext(Gf).reducedMotion,T=L.useRef(null);s=s||m.renderer,!T.current&&s&&(T.current=s(t,{visualState:e,parent:h,props:o,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:v}));const x=T.current,C=L.useContext(Bv);x&&!x.projection&&l&&(x.type==="html"||x.type==="svg")&&AC(T.current,o,l,C);const w=L.useRef(!1);L.useInsertionEffect(()=>{x&&w.current&&x.update(o,d)});const _=o[kv],R=L.useRef(!!_&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,_))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,_)));return qf(()=>{x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Jf.render(x.render),R.current&&x.animationState&&x.animationState.animateChanges())}),L.useEffect(()=>{x&&(!R.current&&x.animationState&&x.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,_)}),R.current=!1))}),x}function AC(t,e,o,s){const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:d}=e;t.projection=new o(t.latestValues,e["data-framer-portal-id"]?void 0:Gv(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&ts(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:d})}function Gv(t){if(t)return t.options.allowProjection!==!1?t.projection:Gv(t.parent)}function wC({preloadedFeatures:t,createVisualElement:e,useRender:o,useVisualState:s,Component:l}){var u,c;t&&hC(t);function h(d,v){let T;const x={...L.useContext(Gf),...d,layoutId:_C(d)},{isStatic:C}=x,w=TC(d),_=s(d,C);if(!C&&Hf){bC();const R=MC(x);T=R.MeasureLayout,w.visualElement=CC(l,_,x,e,R.ProjectionNode)}return S.jsxs(vr.Provider,{value:w,children:[T&&w.visualElement?S.jsx(T,{visualElement:w.visualElement,...x}):null,o(l,d,SC(_,w.visualElement,v),_,C,w.visualElement)]})}h.displayName=`motion.${typeof l=="string"?l:`create(${(c=(u=l.displayName)!==null&&u!==void 0?u:l.name)!==null&&c!==void 0?c:""})`}`;const m=L.forwardRef(h);return m[xC]=l,m}function _C({layoutId:t}){const e=L.useContext(Bf).id;return e&&t!==void 0?e+"-"+t:t}function bC(t,e){L.useContext(Pv).strict}function MC(t){const{drag:e,layout:o}=fs;if(!e&&!o)return{};const s={...e,...o};return{MeasureLayout:e!=null&&e.isEnabled(t)||o!=null&&o.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const RC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kf(t){return typeof t!="string"||t.includes("-")?!1:!!(RC.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bg(t){const e=[{},{}];return t==null||t.values.forEach((o,s)=>{e[0][s]=o.get(),e[1][s]=o.getVelocity()}),e}function Xf(t,e,o,s){if(typeof e=="function"){const[l,u]=Bg(s);e=e(o!==void 0?o:t.custom,l,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[l,u]=Bg(s);e=e(o!==void 0?o:t.custom,l,u)}return e}const ff=t=>Array.isArray(t),NC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),DC=t=>ff(t)?t[t.length-1]||0:t,Ct=t=>!!(t&&t.getVelocity);function jl(t){const e=Ct(t)?t.get():t;return NC(e)?e.toValue():e}function IC({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:o},s,l,u){const c={latestValues:UC(s,l,u,t),renderState:e()};return o&&(c.onMount=h=>o({props:s,current:h,...c}),c.onUpdate=h=>o(h)),c}const Hv=t=>(e,o)=>{const s=L.useContext(vr),l=L.useContext(yr),u=()=>IC(t,e,s,l);return o?u():gr(u)};function UC(t,e,o,s){const l={},u=s(t,{});for(const x in u)l[x]=jl(u[x]);let{initial:c,animate:h}=t;const m=xr(t),d=Vv(t);e&&d&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=o?o.initial===!1:!1;v=v||c===!1;const T=v?h:c;if(T&&typeof T!="boolean"&&!Tr(T)){const x=Array.isArray(T)?T:[T];for(let C=0;C<x.length;C++){const w=Xf(t,x[C]);if(w){const{transitionEnd:_,transition:R,...D}=w;for(const V in D){let P=D[V];if(Array.isArray(P)){const k=v?P.length-1:0;P=P[k]}P!==null&&(l[V]=P)}for(const V in _)l[V]=_[V]}}}return l}const ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=new Set(ms),qv=t=>e=>typeof e=="string"&&e.startsWith(t),zv=qv("--"),PC=qv("var(--"),Qf=t=>PC(t)?LC.test(t.split("/*")[0].trim()):!1,LC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ov=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qn=(t,e,o)=>o>e?e:o<t?t:o,ps={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wa={...ps,transform:t=>Qn(0,1,t)},Zl={...ps,default:1},Da=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wi=Da("deg"),_n=Da("%"),de=Da("px"),VC=Da("vh"),kC=Da("vw"),Gg={..._n,parse:t=>_n.parse(t)/100,transform:t=>_n.transform(t*100)},BC={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},GC={rotate:wi,rotateX:wi,rotateY:wi,rotateZ:wi,scale:Zl,scaleX:Zl,scaleY:Zl,scaleZ:Zl,skew:wi,skewX:wi,skewY:wi,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:wa,originX:Gg,originY:Gg,originZ:de},Hg={...ps,transform:Math.round},Zf={...BC,...GC,zIndex:Hg,size:de,fillOpacity:wa,strokeOpacity:wa,numOctaves:Hg},HC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qC=ms.length;function zC(t,e,o){let s="",l=!0;for(let u=0;u<qC;u++){const c=ms[u],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(c.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||o){const d=Ov(h,Zf[c]);if(!m){l=!1;const v=HC[c]||c;s+=`${v}(${d}) `}o&&(e[c]=d)}}return s=s.trim(),o?s=o(e,l?"":s):l&&(s="none"),s}function $f(t,e,o){const{style:s,vars:l,transformOrigin:u}=t;let c=!1,h=!1;for(const m in e){const d=e[m];if(ao.has(m)){c=!0;continue}else if(zv(m)){l[m]=d;continue}else{const v=Ov(d,Zf[m]);m.startsWith("origin")?(h=!0,u[m]=v):s[m]=v}}if(e.transform||(c||o?s.transform=zC(e,t.transform,o):s.transform&&(s.transform="none")),h){const{originX:m="50%",originY:d="50%",originZ:v=0}=u;s.transformOrigin=`${m} ${d} ${v}`}}const OC={offset:"stroke-dashoffset",array:"stroke-dasharray"},FC={offset:"strokeDashoffset",array:"strokeDasharray"};function YC(t,e,o=1,s=0,l=!0){t.pathLength=1;const u=l?OC:FC;t[u.offset]=de.transform(-s);const c=de.transform(e),h=de.transform(o);t[u.array]=`${c} ${h}`}function qg(t,e,o){return typeof t=="string"?t:de.transform(e+o*t)}function JC(t,e,o){const s=qg(e,t.x,t.width),l=qg(o,t.y,t.height);return`${s} ${l}`}function Wf(t,{attrX:e,attrY:o,attrScale:s,originX:l,originY:u,pathLength:c,pathSpacing:h=1,pathOffset:m=0,...d},v,T){if($f(t,d,T),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:C,dimensions:w}=t;x.transform&&(w&&(C.transform=x.transform),delete x.transform),w&&(l!==void 0||u!==void 0||C.transform)&&(C.transformOrigin=JC(w,l!==void 0?l:.5,u!==void 0?u:.5)),e!==void 0&&(x.x=e),o!==void 0&&(x.y=o),s!==void 0&&(x.scale=s),c!==void 0&&YC(x,c,h,m,!1)}const jf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fv=()=>({...jf(),attrs:{}}),ed=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yv(t,{style:e,vars:o},s,l){Object.assign(t.style,e,l&&l.getProjectionStyles(s));for(const u in o)t.style.setProperty(u,o[u])}const Jv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kv(t,e,o,s){Yv(t,e,void 0,s);for(const l in e.attrs)t.setAttribute(Jv.has(l)?l:Yf(l),e.attrs[l])}const ar={};function KC(t){Object.assign(ar,t)}function Xv(t,{layout:e,layoutId:o}){return ao.has(t)||t.startsWith("origin")||(e||o!==void 0)&&(!!ar[t]||t==="opacity")}function td(t,e,o){var s;const{style:l}=t,u={};for(const c in l)(Ct(l[c])||e.style&&Ct(e.style[c])||Xv(c,t)||((s=o==null?void 0:o.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[c]=l[c]);return u}function Qv(t,e,o){const s=td(t,e,o);for(const l in t)if(Ct(t[l])||Ct(e[l])){const u=ms.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=t[l]}return s}function XC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const zg=["x","y","width","height","cx","cy","r"],QC={useVisualState:Hv({scrapeMotionValuesFromProps:Qv,createRenderState:Fv,onUpdate:({props:t,prevProps:e,current:o,renderState:s,latestValues:l})=>{if(!o)return;let u=!!t.drag;if(!u){for(const h in l)if(ao.has(h)){u=!0;break}}if(!u)return;let c=!e;if(e)for(let h=0;h<zg.length;h++){const m=zg[h];t[m]!==e[m]&&(c=!0)}c&&Je.read(()=>{XC(o,s),Je.render(()=>{Wf(s,l,ed(o.tagName),t.transformTemplate),Kv(o,s)})})}})},ZC={useVisualState:Hv({scrapeMotionValuesFromProps:td,createRenderState:jf})};function Zv(t,e,o){for(const s in e)!Ct(e[s])&&!Xv(s,o)&&(t[s]=e[s])}function $C({transformTemplate:t},e){return L.useMemo(()=>{const o=jf();return $f(o,e,t),Object.assign({},o.vars,o.style)},[e])}function WC(t,e){const o=t.style||{},s={};return Zv(s,o,t),Object.assign(s,$C(t,e)),s}function jC(t,e){const o={},s=WC(t,e);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=s,o}function eA(t,e,o,s){const l=L.useMemo(()=>{const u=Fv();return Wf(u,e,ed(s),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};Zv(u,t.style,t),l.style={...u,...l.style}}return l}function tA(t=!1){return(o,s,l,{latestValues:u},c)=>{const m=(Kf(o)?eA:jC)(s,u,c,o),d=gC(s,typeof o=="string",t),v=o!==L.Fragment?{...d,...m,ref:l}:{},{children:T}=s,x=L.useMemo(()=>Ct(T)?T.get():T,[T]);return L.createElement(o,{...v,children:x})}}function nA(t,e){return function(s,{forwardMotionProps:l}={forwardMotionProps:!1}){const c={...Kf(s)?QC:ZC,preloadedFeatures:t,useRender:tA(l),createVisualElement:e,Component:s};return wC(c)}}function $v(t,e){if(!Array.isArray(e))return!1;const o=e.length;if(o!==t.length)return!1;for(let s=0;s<o;s++)if(e[s]!==t[s])return!1;return!0}function Sr(t,e,o){const s=t.getProps();return Xf(s,e,o!==void 0?o:s.custom,t)}const iA=zf(()=>window.ScrollTimeline!==void 0);class oA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,o){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=o}attachTimeline(e,o){const s=this.animations.map(l=>{if(iA()&&l.attachTimeline)return l.attachTimeline(e);if(typeof o=="function")return o(l)});return()=>{s.forEach((l,u)=>{l&&l(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let o=0;o<this.animations.length;o++)e=Math.max(e,this.animations[o].duration);return e}runAll(e){this.animations.forEach(o=>o[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sA extends oA{then(e,o){return Promise.all(this.animations).then(e).catch(o)}}function nd(t,e){return t?t[e]||t.default||t:void 0}const df=2e4;function Wv(t){let e=0;const o=50;let s=t.next(e);for(;!s.done&&e<df;)e+=o,s=t.next(e);return e>=df?1/0:e}function id(t){return typeof t=="function"}function Og(t,e){t.timeline=e,t.onfinish=null}const od=t=>Array.isArray(t)&&typeof t[0]=="number",aA={linearEasing:void 0};function lA(t,e){const o=zf(t);return()=>{var s;return(s=aA[e])!==null&&s!==void 0?s:o()}}const lr=lA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jv=(t,e,o=10)=>{let s="";const l=Math.max(Math.round(e/o),2);for(let u=0;u<l;u++)s+=t(cs(0,l-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function eT(t){return!!(typeof t=="function"&&lr()||!t||typeof t=="string"&&(t in hf||lr())||od(t)||Array.isArray(t)&&t.every(eT))}const ga=([t,e,o,s])=>`cubic-bezier(${t}, ${e}, ${o}, ${s})`,hf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function tT(t,e){if(t)return typeof t=="function"&&lr()?jv(t,e):od(t)?ga(t):Array.isArray(t)?t.map(o=>tT(o,e)||hf.easeOut):hf[t]}const yn={x:!1,y:!1};function nT(){return yn.x||yn.y}function rA(t,e,o){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let l=document;const u=(s=void 0)!==null&&s!==void 0?s:l.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function iT(t,e){const o=rA(t),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[o,l,()=>s.abort()]}function Fg(t){return e=>{e.pointerType==="touch"||nT()||t(e)}}function uA(t,e,o={}){const[s,l,u]=iT(t,o),c=Fg(h=>{const{target:m}=h,d=e(h);if(typeof d!="function"||!m)return;const v=Fg(T=>{d(T),m.removeEventListener("pointerleave",v)});m.addEventListener("pointerleave",v,l)});return s.forEach(h=>{h.addEventListener("pointerenter",c,l)}),u}const oT=(t,e)=>e?t===e?!0:oT(t,e.parentElement):!1,sd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fA(t){return cA.has(t.tagName)||t.tabIndex!==-1}const ya=new WeakSet;function Yg(t){return e=>{e.key==="Enter"&&t(e)}}function Xc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dA=(t,e)=>{const o=t.currentTarget;if(!o)return;const s=Yg(()=>{if(ya.has(o))return;Xc(o,"down");const l=Yg(()=>{Xc(o,"up")}),u=()=>Xc(o,"cancel");o.addEventListener("keyup",l,e),o.addEventListener("blur",u,e)});o.addEventListener("keydown",s,e),o.addEventListener("blur",()=>o.removeEventListener("keydown",s),e)};function Jg(t){return sd(t)&&!nT()}function hA(t,e,o={}){const[s,l,u]=iT(t,o),c=h=>{const m=h.currentTarget;if(!Jg(h)||ya.has(m))return;ya.add(m);const d=e(h),v=(C,w)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),!(!Jg(C)||!ya.has(m))&&(ya.delete(m),typeof d=="function"&&d(C,{success:w}))},T=C=>{v(C,o.useGlobalTarget||oT(m,C.target))},x=C=>{v(C,!1)};window.addEventListener("pointerup",T,l),window.addEventListener("pointercancel",x,l)};return s.forEach(h=>{!fA(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(o.useGlobalTarget?window:h).addEventListener("pointerdown",c,l),h.addEventListener("focus",d=>dA(d,l),l)}),u}function mA(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const sT=new Set(["width","height","top","left","right","bottom",...ms]);let er;function pA(){er=void 0}const bn={now:()=>(er===void 0&&bn.set(xt.isProcessing||cC.useManualTiming?xt.timestamp:performance.now()),er),set:t=>{er=t,queueMicrotask(pA)}};function ad(t,e){t.indexOf(e)===-1&&t.push(e)}function ld(t,e){const o=t.indexOf(e);o>-1&&t.splice(o,1)}class rd{constructor(){this.subscriptions=[]}add(e){return ad(this.subscriptions,e),()=>ld(this.subscriptions,e)}notify(e,o,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,o,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,o,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aT(t,e){return e?t*(1e3/e):0}const Kg=30,gA=t=>!isNaN(parseFloat(t));class yA{constructor(e,o={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,l=!0)=>{const u=bn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=o.owner}setCurrent(e){this.current=e,this.updatedAt=bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,o){this.events[e]||(this.events[e]=new rd);const s=this.events[e].add(o);return e==="change"?()=>{s(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,o){this.passiveEffect=e,this.stopPassiveEffect=o}set(e,o=!0){!o||!this.passiveEffect?this.updateAndNotify(e,o):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,o,s){this.set(o),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,o=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Kg)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,Kg);return aT(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(e){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=e(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _a(t,e){return new yA(t,e)}function vA(t,e,o){t.hasValue(e)?t.getValue(e).set(o):t.addValue(e,_a(o))}function ud(t,e){const o=Sr(t,e);let{transitionEnd:s={},transition:l={},...u}=o||{};u={...u,...s};for(const c in u){const h=DC(u[c]);vA(t,c,h)}}function TA(t){return!!(Ct(t)&&t.add)}function mf(t,e){const o=t.getValue("willChange");if(TA(o))return o.add(e)}function lT(t){return t.props[kv]}const rT=(t,e,o)=>(((1-3*o+3*e)*t+(3*o-6*e))*t+3*e)*t,xA=1e-7,SA=12;function EA(t,e,o,s,l){let u,c,h=0;do c=e+(o-e)/2,u=rT(c,s,l)-t,u>0?o=c:e=c;while(Math.abs(u)>xA&&++h<SA);return c}function Ia(t,e,o,s){if(t===e&&o===s)return Yt;const l=u=>EA(u,0,1,t,o);return u=>u===0||u===1?u:rT(l(u),e,s)}const uT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cT=t=>e=>1-t(1-e),fT=Ia(.33,1.53,.69,.99),cd=cT(fT),dT=uT(cd),hT=t=>(t*=2)<1?.5*cd(t):.5*(2-Math.pow(2,-10*(t-1))),fd=t=>1-Math.sin(Math.acos(t)),mT=cT(fd),pT=uT(fd),gT=t=>/^0[^.\s]+$/u.test(t);function CA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gT(t):!0}const Ta=t=>Math.round(t*1e5)/1e5,dd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AA(t){return t==null}const wA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hd=(t,e)=>o=>!!(typeof o=="string"&&wA.test(o)&&o.startsWith(t)||e&&!AA(o)&&Object.prototype.hasOwnProperty.call(o,e)),yT=(t,e,o)=>s=>{if(typeof s!="string")return s;const[l,u,c,h]=s.match(dd);return{[t]:parseFloat(l),[e]:parseFloat(u),[o]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},_A=t=>Qn(0,255,t),Qc={...ps,transform:t=>Math.round(_A(t))},io={test:hd("rgb","red"),parse:yT("red","green","blue"),transform:({red:t,green:e,blue:o,alpha:s=1})=>"rgba("+Qc.transform(t)+", "+Qc.transform(e)+", "+Qc.transform(o)+", "+Ta(wa.transform(s))+")"};function bA(t){let e="",o="",s="",l="";return t.length>5?(e=t.substring(1,3),o=t.substring(3,5),s=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),o=t.substring(2,3),s=t.substring(3,4),l=t.substring(4,5),e+=e,o+=o,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(o,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const pf={test:hd("#"),parse:bA,transform:io.transform},ns={test:hd("hsl","hue"),parse:yT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:o,alpha:s=1})=>"hsla("+Math.round(t)+", "+_n.transform(Ta(e))+", "+_n.transform(Ta(o))+", "+Ta(wa.transform(s))+")"},Et={test:t=>io.test(t)||pf.test(t)||ns.test(t),parse:t=>io.test(t)?io.parse(t):ns.test(t)?ns.parse(t):pf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?io.transform(t):ns.transform(t)},MA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RA(t){var e,o;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dd))===null||e===void 0?void 0:e.length)||0)+(((o=t.match(MA))===null||o===void 0?void 0:o.length)||0)>0}const vT="number",TT="color",NA="var",DA="var(",Xg="${}",IA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ba(t){const e=t.toString(),o=[],s={color:[],number:[],var:[]},l=[];let u=0;const h=e.replace(IA,m=>(Et.test(m)?(s.color.push(u),l.push(TT),o.push(Et.parse(m))):m.startsWith(DA)?(s.var.push(u),l.push(NA),o.push(m)):(s.number.push(u),l.push(vT),o.push(parseFloat(m))),++u,Xg)).split(Xg);return{values:o,split:h,indexes:s,types:l}}function xT(t){return ba(t).values}function ST(t){const{split:e,types:o}=ba(t),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const h=o[c];h===vT?u+=Ta(l[c]):h===TT?u+=Et.transform(l[c]):u+=l[c]}return u}}const UA=t=>typeof t=="number"?0:t;function PA(t){const e=xT(t);return ST(t)(e.map(UA))}const Mi={test:RA,parse:xT,createTransformer:ST,getAnimatableNone:PA},LA=new Set(["brightness","contrast","saturate","opacity"]);function VA(t){const[e,o]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=o.match(dd)||[];if(!s)return t;const l=o.replace(s,"");let u=LA.has(e)?1:0;return s!==o&&(u*=100),e+"("+u+l+")"}const kA=/\b([a-z-]*)\(.*?\)/gu,gf={...Mi,getAnimatableNone:t=>{const e=t.match(kA);return e?e.map(VA).join(" "):t}},BA={...Zf,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:gf,WebkitFilter:gf},md=t=>BA[t];function ET(t,e){let o=md(t);return o!==gf&&(o=Mi),o.getAnimatableNone?o.getAnimatableNone(e):void 0}const GA=new Set(["auto","none","0"]);function HA(t,e,o){let s=0,l;for(;s<t.length&&!l;){const u=t[s];typeof u=="string"&&!GA.has(u)&&ba(u).values.length&&(l=t[s]),s++}if(l&&o)for(const u of e)t[u]=ET(o,l)}const Qg=t=>t===ps||t===de,Zg=(t,e)=>parseFloat(t.split(", ")[e]),$g=(t,e)=>(o,{transform:s})=>{if(s==="none"||!s)return 0;const l=s.match(/^matrix3d\((.+)\)$/u);if(l)return Zg(l[1],e);{const u=s.match(/^matrix\((.+)\)$/u);return u?Zg(u[1],t):0}},qA=new Set(["x","y","z"]),zA=ms.filter(t=>!qA.has(t));function OA(t){const e=[];return zA.forEach(o=>{const s=t.getValue(o);s!==void 0&&(e.push([o,s.get()]),s.set(o.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:o="0"})=>t.max-t.min-parseFloat(e)-parseFloat(o),height:({y:t},{paddingTop:e="0",paddingBottom:o="0"})=>t.max-t.min-parseFloat(e)-parseFloat(o),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$g(4,13),y:$g(5,14)};ds.translateX=ds.x;ds.translateY=ds.y;const oo=new Set;let yf=!1,vf=!1;function CT(){if(vf){const t=Array.from(oo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),o=new Map;e.forEach(s=>{const l=OA(s);l.length&&(o.set(s,l),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=o.get(s);l&&l.forEach(([u,c])=>{var h;(h=s.getValue(u))===null||h===void 0||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vf=!1,yf=!1,oo.forEach(t=>t.complete()),oo.clear()}function AT(){oo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vf=!0)})}function FA(){AT(),CT()}class pd{constructor(e,o,s,l,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=o,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(oo.add(this),yf||(yf=!0,Je.read(AT),Je.resolveKeyframes(CT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:o,element:s,motionValue:l}=this;for(let u=0;u<e.length;u++)if(e[u]===null)if(u===0){const c=l==null?void 0:l.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&o){const m=s.readValue(o,h);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=h),l&&c===void 0&&l.set(e[0])}else e[u]=e[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),oo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,oo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),YA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JA(t){const e=YA.exec(t);if(!e)return[,];const[,o,s,l]=e;return[`--${o??s}`,l]}function _T(t,e,o=1){const[s,l]=JA(t);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return wT(c)?parseFloat(c):c}return Qf(l)?_T(l,e,o+1):l}const bT=t=>e=>e.test(t),KA={test:t=>t==="auto",parse:t=>t},MT=[ps,de,_n,wi,kC,VC,KA],Wg=t=>MT.find(bT(t));class RT extends pd{constructor(e,o,s,l,u){super(e,o,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:o,name:s}=this;if(!o||!o.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let d=e[m];if(typeof d=="string"&&(d=d.trim(),Qf(d))){const v=_T(d,o.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!sT.has(s)||e.length!==2)return;const[l,u]=e,c=Wg(l),h=Wg(u);if(c!==h)if(Qg(c)&&Qg(h))for(let m=0;m<e.length;m++){const d=e[m];typeof d=="string"&&(e[m]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:o}=this,s=[];for(let l=0;l<e.length;l++)CA(e[l])&&s.push(l);s.length&&HA(e,s,o)}measureInitialState(){const{element:e,unresolvedKeyframes:o,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o[0]=this.measuredOrigin;const l=o[o.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var e;const{element:o,name:s,unresolvedKeyframes:l}=this;if(!o||!o.current)return;const u=o.getValue(s);u&&u.jump(this.measuredOrigin,!1);const c=l.length-1,h=l[c];l[c]=ds[s](o.measureViewportBox(),window.getComputedStyle(o.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([m,d])=>{o.getValue(m).set(d)}),this.resolveNoneKeyframes()}}const jg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mi.test(t)||t==="0")&&!t.startsWith("url("));function XA(t){const e=t[0];if(t.length===1)return!0;for(let o=0;o<t.length;o++)if(t[o]!==e)return!0}function QA(t,e,o,s){const l=t[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=jg(l,e),h=jg(u,e);return!c||!h?!1:XA(t)||(o==="spring"||id(o))&&s}const ZA=t=>t!==null;function Er(t,{repeat:e,repeatType:o="loop"},s){const l=t.filter(ZA),u=e&&o!=="loop"&&e%2===1?0:l.length-1;return!u||s===void 0?l[u]:s}const $A=40;class NT{constructor({autoplay:e=!0,delay:o=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bn.now(),this.options={autoplay:e,delay:o,type:s,repeat:l,repeatDelay:u,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$A?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&FA(),this._resolved}onKeyframesResolved(e,o){this.resolvedAt=bn.now(),this.hasAttemptedResolve=!0;const{name:s,type:l,velocity:u,delay:c,onComplete:h,onUpdate:m,isGenerator:d}=this.options;if(!d&&!QA(e,s,l,u))if(c)this.options.duration=0;else{m&&m(Er(e,this.options,o)),h&&h(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,o);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:o,...v},this.onPostResolved())}onPostResolved(){}then(e,o){return this.currentFinishedPromise.then(e,o)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ze=(t,e,o)=>t+(e-t)*o;function Zc(t,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+(e-t)*6*o:o<1/2?e:o<2/3?t+(e-t)*(2/3-o)*6:t}function WA({hue:t,saturation:e,lightness:o,alpha:s}){t/=360,e/=100,o/=100;let l=0,u=0,c=0;if(!e)l=u=c=o;else{const h=o<.5?o*(1+e):o+e-o*e,m=2*o-h;l=Zc(m,h,t+1/3),u=Zc(m,h,t),c=Zc(m,h,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function rr(t,e){return o=>o>0?e:t}const $c=(t,e,o)=>{const s=t*t,l=o*(e*e-s)+s;return l<0?0:Math.sqrt(l)},jA=[pf,io,ns],ew=t=>jA.find(e=>e.test(t));function ey(t){const e=ew(t);if(!e)return!1;let o=e.parse(t);return e===ns&&(o=WA(o)),o}const ty=(t,e)=>{const o=ey(t),s=ey(e);if(!o||!s)return rr(t,e);const l={...o};return u=>(l.red=$c(o.red,s.red,u),l.green=$c(o.green,s.green,u),l.blue=$c(o.blue,s.blue,u),l.alpha=Ze(o.alpha,s.alpha,u),io.transform(l))},tw=(t,e)=>o=>e(t(o)),Ua=(...t)=>t.reduce(tw),Tf=new Set(["none","hidden"]);function nw(t,e){return Tf.has(t)?o=>o<=0?t:e:o=>o>=1?e:t}function iw(t,e){return o=>Ze(t,e,o)}function gd(t){return typeof t=="number"?iw:typeof t=="string"?Qf(t)?rr:Et.test(t)?ty:aw:Array.isArray(t)?DT:typeof t=="object"?Et.test(t)?ty:ow:rr}function DT(t,e){const o=[...t],s=o.length,l=t.map((u,c)=>gd(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)o[c]=l[c](u);return o}}function ow(t,e){const o={...t,...e},s={};for(const l in o)t[l]!==void 0&&e[l]!==void 0&&(s[l]=gd(t[l])(t[l],e[l]));return l=>{for(const u in s)o[u]=s[u](l);return o}}function sw(t,e){var o;const s=[],l={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const c=e.types[u],h=t.indexes[c][l[c]],m=(o=t.values[h])!==null&&o!==void 0?o:0;s[u]=m,l[c]++}return s}const aw=(t,e)=>{const o=Mi.createTransformer(e),s=ba(t),l=ba(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?Tf.has(t)&&!l.values.length||Tf.has(e)&&!s.values.length?nw(t,e):Ua(DT(sw(s,l),l.values),o):rr(t,e)};function IT(t,e,o){return typeof t=="number"&&typeof e=="number"&&typeof o=="number"?Ze(t,e,o):gd(t)(t,e)}const lw=5;function UT(t,e,o){const s=Math.max(e-lw,0);return aT(o-t(s),e-s)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wc=.001;function rw({duration:t=et.duration,bounce:e=et.bounce,velocity:o=et.velocity,mass:s=et.mass}){let l,u,c=1-e;c=Qn(et.minDamping,et.maxDamping,c),t=Qn(et.minDuration,et.maxDuration,Xn(t)),c<1?(l=d=>{const v=d*c,T=v*t,x=v-o,C=xf(d,c),w=Math.exp(-T);return Wc-x/C*w},u=d=>{const T=d*c*t,x=T*o+o,C=Math.pow(c,2)*Math.pow(d,2)*t,w=Math.exp(-T),_=xf(Math.pow(d,2),c);return(-l(d)+Wc>0?-1:1)*((x-C)*w)/_}):(l=d=>{const v=Math.exp(-d*t),T=(d-o)*t+1;return-Wc+v*T},u=d=>{const v=Math.exp(-d*t),T=(o-d)*(t*t);return v*T});const h=5/t,m=cw(l,u,h);if(t=Kn(t),isNaN(m))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const d=Math.pow(m,2)*s;return{stiffness:d,damping:c*2*Math.sqrt(s*d),duration:t}}}const uw=12;function cw(t,e,o){let s=o;for(let l=1;l<uw;l++)s=s-t(s)/e(s);return s}function xf(t,e){return t*Math.sqrt(1-e*e)}const fw=["duration","bounce"],dw=["stiffness","damping","mass"];function ny(t,e){return e.some(o=>t[o]!==void 0)}function hw(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!ny(t,dw)&&ny(t,fw))if(t.visualDuration){const o=t.visualDuration,s=2*Math.PI/(o*1.2),l=s*s,u=2*Qn(.05,1,1-(t.bounce||0))*Math.sqrt(l);e={...e,mass:et.mass,stiffness:l,damping:u}}else{const o=rw(t);e={...e,...o,mass:et.mass},e.isResolvedFromDuration=!0}return e}function PT(t=et.visualDuration,e=et.bounce){const o=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:l}=o;const u=o.keyframes[0],c=o.keyframes[o.keyframes.length-1],h={done:!1,value:u},{stiffness:m,damping:d,mass:v,duration:T,velocity:x,isResolvedFromDuration:C}=hw({...o,velocity:-Xn(o.velocity||0)}),w=x||0,_=d/(2*Math.sqrt(m*v)),R=c-u,D=Xn(Math.sqrt(m/v)),V=Math.abs(R)<5;s||(s=V?et.restSpeed.granular:et.restSpeed.default),l||(l=V?et.restDelta.granular:et.restDelta.default);let P;if(_<1){const U=xf(D,_);P=J=>{const B=Math.exp(-_*D*J);return c-B*((w+_*D*R)/U*Math.sin(U*J)+R*Math.cos(U*J))}}else if(_===1)P=U=>c-Math.exp(-D*U)*(R+(w+D*R)*U);else{const U=D*Math.sqrt(_*_-1);P=J=>{const B=Math.exp(-_*D*J),$=Math.min(U*J,300);return c-B*((w+_*D*R)*Math.sinh($)+U*R*Math.cosh($))/U}}const k={calculatedDuration:C&&T||null,next:U=>{const J=P(U);if(C)h.done=U>=T;else{let B=0;_<1&&(B=U===0?Kn(w):UT(P,U,J));const $=Math.abs(B)<=s,j=Math.abs(c-J)<=l;h.done=$&&j}return h.value=h.done?c:J,h},toString:()=>{const U=Math.min(Wv(k),df),J=jv(B=>k.next(U*B).value,U,30);return U+"ms "+J}};return k}function iy({keyframes:t,velocity:e=0,power:o=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:m,restDelta:d=.5,restSpeed:v}){const T=t[0],x={done:!1,value:T},C=$=>h!==void 0&&$<h||m!==void 0&&$>m,w=$=>h===void 0?m:m===void 0||Math.abs(h-$)<Math.abs(m-$)?h:m;let _=o*e;const R=T+_,D=c===void 0?R:c(R);D!==R&&(_=D-T);const V=$=>-_*Math.exp(-$/s),P=$=>D+V($),k=$=>{const j=V($),te=P($);x.done=Math.abs(j)<=d,x.value=x.done?D:te};let U,J;const B=$=>{C(x.value)&&(U=$,J=PT({keyframes:[x.value,w(x.value)],velocity:UT(P,$,x.value),damping:l,stiffness:u,restDelta:d,restSpeed:v}))};return B(0),{calculatedDuration:null,next:$=>{let j=!1;return!J&&U===void 0&&(j=!0,k($),B($)),U!==void 0&&$>=U?J.next($-U):(!j&&k($),x)}}}const mw=Ia(.42,0,1,1),pw=Ia(0,0,.58,1),LT=Ia(.42,0,.58,1),gw=t=>Array.isArray(t)&&typeof t[0]!="number",yw={linear:Yt,easeIn:mw,easeInOut:LT,easeOut:pw,circIn:fd,circInOut:pT,circOut:mT,backIn:cd,backInOut:dT,backOut:fT,anticipate:hT},oy=t=>{if(od(t)){Iv(t.length===4);const[e,o,s,l]=t;return Ia(e,o,s,l)}else if(typeof t=="string")return yw[t];return t};function vw(t,e,o){const s=[],l=o||IT,u=t.length-1;for(let c=0;c<u;c++){let h=l(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Yt:e;h=Ua(m,h)}s.push(h)}return s}function Tw(t,e,{clamp:o=!0,ease:s,mixer:l}={}){const u=t.length;if(Iv(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=vw(e,s,l),m=h.length,d=v=>{if(c&&v<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const x=cs(t[T],t[T+1],v);return h[T](x)};return o?v=>d(Qn(t[0],t[u-1],v)):d}function xw(t,e){const o=t[t.length-1];for(let s=1;s<=e;s++){const l=cs(0,e,s);t.push(Ze(o,1,l))}}function Sw(t){const e=[0];return xw(e,t.length-1),e}function Ew(t,e){return t.map(o=>o*e)}function Cw(t,e){return t.map(()=>e||LT).splice(0,t.length-1)}function ur({duration:t=300,keyframes:e,times:o,ease:s="easeInOut"}){const l=gw(s)?s.map(oy):oy(s),u={done:!1,value:e[0]},c=Ew(o&&o.length===e.length?o:Sw(e),t),h=Tw(c,e,{ease:Array.isArray(l)?l:Cw(e,l)});return{calculatedDuration:t,next:m=>(u.value=h(m),u.done=m>=t,u)}}const Aw=t=>{const e=({timestamp:o})=>t(o);return{start:()=>Je.update(e,!0),stop:()=>bi(e),now:()=>xt.isProcessing?xt.timestamp:bn.now()}},ww={decay:iy,inertia:iy,tween:ur,keyframes:ur,spring:PT},_w=t=>t/100;class yd extends NT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:o,motionValue:s,element:l,keyframes:u}=this.options,c=(l==null?void 0:l.KeyframeResolver)||pd,h=(m,d)=>this.onKeyframesResolved(m,d);this.resolver=new c(u,h,o,s,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:o="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=this.options,h=id(o)?o:ww[o]||ur;let m,d;h!==ur&&typeof e[0]!="number"&&(m=Ua(_w,IT(e[0],e[1])),e=[0,100]);const v=h({...this.options,keyframes:e});u==="mirror"&&(d=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Wv(v));const{calculatedDuration:T}=v,x=T+l,C=x*(s+1)-l;return{generator:v,mirroredGenerator:d,mapPercentToKeyframes:m,calculatedDuration:T,resolvedDuration:x,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,o=!1){const{resolved:s}=this;if(!s){const{keyframes:$}=this.options;return{done:!0,value:$[$.length-1]}}const{finalKeyframe:l,generator:u,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:m,calculatedDuration:d,totalDuration:v,resolvedDuration:T}=s;if(this.startTime===null)return u.next(0);const{delay:x,repeat:C,repeatType:w,repeatDelay:_,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),o?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-x*(this.speed>=0?1:-1),V=this.speed>=0?D<0:D>v;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let P=this.currentTime,k=u;if(C){const $=Math.min(this.currentTime,v)/T;let j=Math.floor($),te=$%1;!te&&$>=1&&(te=1),te===1&&j--,j=Math.min(j,C+1),!!(j%2)&&(w==="reverse"?(te=1-te,_&&(te-=_/T)):w==="mirror"&&(k=c)),P=Qn(0,1,te)*T}const U=V?{done:!1,value:m[0]}:k.next(P);h&&(U.value=h(U.value));let{done:J}=U;!V&&d!==null&&(J=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return B&&l!==void 0&&(U.value=Er(m,this.options,l)),R&&R(U.value),B&&this.finish(),U}get duration(){const{resolved:e}=this;return e?Xn(e.calculatedDuration):0}get time(){return Xn(this.currentTime)}set time(e){e=Kn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const o=this.playbackSpeed!==e;this.playbackSpeed=e,o&&(this.time=Xn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Aw,onPlay:o,startTime:s}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),o&&o();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const bw=new Set(["opacity","clipPath","filter","transform"]);function Mw(t,e,o,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:h="easeInOut",times:m}={}){const d={[e]:o};m&&(d.offset=m);const v=tT(h,l);return Array.isArray(v)&&(d.easing=v),t.animate(d,{delay:s,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}const Rw=zf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cr=10,Nw=2e4;function Dw(t){return id(t.type)||t.type==="spring"||!eT(t.ease)}function Iw(t,e){const o=new yd({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const l=[];let u=0;for(;!s.done&&u<Nw;)s=o.sample(u),l.push(s.value),u+=cr;return{times:void 0,keyframes:l,duration:u-cr,ease:"linear"}}const VT={anticipate:hT,backInOut:dT,circInOut:pT};function Uw(t){return t in VT}class sy extends NT{constructor(e){super(e);const{name:o,motionValue:s,element:l,keyframes:u}=this.options;this.resolver=new RT(u,(c,h)=>this.onKeyframesResolved(c,h),o,s,l),this.resolver.scheduleResolve()}initPlayback(e,o){let{duration:s=300,times:l,ease:u,type:c,motionValue:h,name:m,startTime:d}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof u=="string"&&lr()&&Uw(u)&&(u=VT[u]),Dw(this.options)){const{onComplete:T,onUpdate:x,motionValue:C,element:w,..._}=this.options,R=Iw(e,_);e=R.keyframes,e.length===1&&(e[1]=e[0]),s=R.duration,l=R.times,u=R.ease,c="keyframes"}const v=Mw(h.owner.current,m,e,{...this.options,duration:s,times:l,ease:u});return v.startTime=d??this.calcStartTime(),this.pendingTimeline?(Og(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:T}=this.options;h.set(Er(e,this.options,o)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:s,times:l,type:c,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:o}=e;return Xn(o)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:o}=e;return Xn(o.currentTime||0)}set time(e){const{resolved:o}=this;if(!o)return;const{animation:s}=o;s.currentTime=Kn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:o}=e;return o.playbackRate}set speed(e){const{resolved:o}=this;if(!o)return;const{animation:s}=o;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:o}=e;return o.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:o}=e;return o.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:o}=this;if(!o)return Yt;const{animation:s}=o;Og(s,e)}return Yt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:o}=e;o.playState==="finished"&&this.updateFinishedPromise(),o.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:o}=e;o.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:o,keyframes:s,duration:l,type:u,ease:c,times:h}=e;if(o.playState==="idle"||o.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:v,onComplete:T,element:x,...C}=this.options,w=new yd({...C,keyframes:s,duration:l,type:u,ease:c,times:h,isGenerator:!0}),_=Kn(this.time);d.setWithVelocity(w.sample(_-cr).value,w.sample(_).value,cr)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:o,name:s,repeatDelay:l,repeatType:u,damping:c,type:h}=e;if(!o||!o.owner||!(o.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:d}=o.owner.getProps();return Rw()&&s&&bw.has(s)&&!m&&!d&&!l&&u!=="mirror"&&c!==0&&h!=="inertia"}}const Pw={type:"spring",stiffness:500,damping:25,restSpeed:10},Lw=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Vw={type:"keyframes",duration:.8},kw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bw=(t,{keyframes:e})=>e.length>2?Vw:ao.has(t)?t.startsWith("scale")?Lw(e[1]):Pw:kw;function Gw({when:t,delay:e,delayChildren:o,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:h,from:m,elapsed:d,...v}){return!!Object.keys(v).length}const vd=(t,e,o,s={},l,u)=>c=>{const h=nd(s,t)||{},m=h.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Kn(m);let v={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:l};Gw(h)||(v={...v,...Bw(t,v)}),v.duration&&(v.duration=Kn(v.duration)),v.repeatDelay&&(v.repeatDelay=Kn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(T=!0)),T&&!u&&e.get()!==void 0){const x=Er(v.keyframes,h);if(x!==void 0)return Je.update(()=>{v.onUpdate(x),v.onComplete()}),new sA([])}return!u&&sy.supports(v)?new sy(v):new yd(v)};function Hw({protectedKeys:t,needsAnimating:e},o){const s=t.hasOwnProperty(o)&&e[o]!==!0;return e[o]=!1,s}function kT(t,e,{delay:o=0,transitionOverride:s,type:l}={}){var u;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...m}=e;s&&(c=s);const d=[],v=l&&t.animationState&&t.animationState.getState()[l];for(const T in m){const x=t.getValue(T,(u=t.latestValues[T])!==null&&u!==void 0?u:null),C=m[T];if(C===void 0||v&&Hw(v,T))continue;const w={delay:o,...nd(c||{},T)};let _=!1;if(window.MotionHandoffAnimation){const D=lT(t);if(D){const V=window.MotionHandoffAnimation(D,T,Je);V!==null&&(w.startTime=V,_=!0)}}mf(t,T),x.start(vd(T,x,C,t.shouldReduceMotion&&sT.has(T)?{type:!1}:w,t,_));const R=x.animation;R&&d.push(R)}return h&&Promise.all(d).then(()=>{Je.update(()=>{h&&ud(t,h)})}),d}function Sf(t,e,o={}){var s;const l=Sr(t,e,o.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=l||{};o.transitionOverride&&(u=o.transitionOverride);const c=l?()=>Promise.all(kT(t,l,o)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:x}=u;return qw(t,e,v+d,T,x,o)}:()=>Promise.resolve(),{when:m}=u;if(m){const[d,v]=m==="beforeChildren"?[c,h]:[h,c];return d().then(()=>v())}else return Promise.all([c(),h(o.delay)])}function qw(t,e,o=0,s=0,l=1,u){const c=[],h=(t.variantChildren.size-1)*s,m=l===1?(d=0)=>d*s:(d=0)=>h-d*s;return Array.from(t.variantChildren).sort(zw).forEach((d,v)=>{d.notify("AnimationStart",e),c.push(Sf(d,e,{...u,delay:o+m(v)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(c)}function zw(t,e){return t.sortNodePosition(e)}function BT(t,e,o={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>Sf(t,u,o));s=Promise.all(l)}else if(typeof e=="string")s=Sf(t,e,o);else{const l=typeof e=="function"?Sr(t,e,o.custom):e;s=Promise.all(kT(t,l,o))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Ow=Ff.length;function GT(t){if(!t)return;if(!t.isControllingVariants){const o=t.parent?GT(t.parent)||{}:{};return t.props.initial!==void 0&&(o.initial=t.props.initial),o}const e={};for(let o=0;o<Ow;o++){const s=Ff[o],l=t.props[s];(Aa(l)||l===!1)&&(e[s]=l)}return e}const Fw=[...Of].reverse(),Yw=Of.length;function Jw(t){return e=>Promise.all(e.map(({animation:o,options:s})=>BT(t,o,s)))}function Kw(t){let e=Jw(t),o=ay(),s=!0;const l=m=>(d,v)=>{var T;const x=Sr(t,v,m==="exit"?(T=t.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(x){const{transition:C,transitionEnd:w,..._}=x;d={...d,..._,...w}}return d};function u(m){e=m(t)}function c(m){const{props:d}=t,v=GT(t.parent)||{},T=[],x=new Set;let C={},w=1/0;for(let R=0;R<Yw;R++){const D=Fw[R],V=o[D],P=d[D]!==void 0?d[D]:v[D],k=Aa(P),U=D===m?V.isActive:null;U===!1&&(w=R);let J=P===v[D]&&P!==d[D]&&k;if(J&&s&&t.manuallyAnimateOnMount&&(J=!1),V.protectedKeys={...C},!V.isActive&&U===null||!P&&!V.prevProp||Tr(P)||typeof P=="boolean")continue;const B=Xw(V.prevProp,P);let $=B||D===m&&V.isActive&&!J&&k||R>w&&k,j=!1;const te=Array.isArray(P)?P:[P];let he=te.reduce(l(D),{});U===!1&&(he={});const{prevResolvedValues:le={}}=V,ye={...le,...he},ze=W=>{$=!0,x.has(W)&&(j=!0,x.delete(W)),V.needsAnimating[W]=!0;const ne=t.getValue(W);ne&&(ne.liveStyle=!1)};for(const W in ye){const ne=he[W],ve=le[W];if(C.hasOwnProperty(W))continue;let Se=!1;ff(ne)&&ff(ve)?Se=!$v(ne,ve):Se=ne!==ve,Se?ne!=null?ze(W):x.add(W):ne!==void 0&&x.has(W)?ze(W):V.protectedKeys[W]=!0}V.prevProp=P,V.prevResolvedValues=he,V.isActive&&(C={...C,...he}),s&&t.blockInitialAnimation&&($=!1),$&&(!(J&&B)||j)&&T.push(...te.map(W=>({animation:W,options:{type:D}})))}if(x.size){const R={};x.forEach(D=>{const V=t.getBaseTarget(D),P=t.getValue(D);P&&(P.liveStyle=!0),R[D]=V??null}),T.push({animation:R})}let _=!!T.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(T):Promise.resolve()}function h(m,d){var v;if(o[m].isActive===d)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(x=>{var C;return(C=x.animationState)===null||C===void 0?void 0:C.setActive(m,d)}),o[m].isActive=d;const T=c(m);for(const x in o)o[x].protectedKeys={};return T}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>o,reset:()=>{o=ay(),s=!0}}}function Xw(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$v(e,t):!1}function eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ay(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qw extends Ri{constructor(e){super(e),e.animationState||(e.animationState=Kw(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:o}=this.node.prevProps||{};e!==o&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Zw=0;class $w extends Ri{constructor(){super(...arguments),this.id=Zw++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:o}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);o&&!e&&l.then(()=>o(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ww={animation:{Feature:Qw},exit:{Feature:$w}};function Ma(t,e,o,s={passive:!0}){return t.addEventListener(e,o,s),()=>t.removeEventListener(e,o)}function Pa(t){return{point:{x:t.pageX,y:t.pageY}}}const jw=t=>e=>sd(e)&&t(e,Pa(e));function xa(t,e,o,s){return Ma(t,e,jw(o),s)}const ly=(t,e)=>Math.abs(t-e);function e_(t,e){const o=ly(t.x,e.x),s=ly(t.y,e.y);return Math.sqrt(o**2+s**2)}class HT{constructor(e,o,{transformPagePoint:s,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ef(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,C=e_(T.offset,{x:0,y:0})>=3;if(!x&&!C)return;const{point:w}=T,{timestamp:_}=xt;this.history.push({...w,timestamp:_});const{onStart:R,onMove:D}=this.handlers;x||(R&&R(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,T)},this.handlePointerMove=(T,x)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=jc(x,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(T,x)=>{this.end();const{onEnd:C,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=ef(T.type==="pointercancel"?this.lastMoveEventInfo:jc(x,this.transformPagePoint),this.history);this.startEvent&&C&&C(T,R),w&&w(T,R)},!sd(e))return;this.dragSnapToOrigin=u,this.handlers=o,this.transformPagePoint=s,this.contextWindow=l||window;const c=Pa(e),h=jc(c,this.transformPagePoint),{point:m}=h,{timestamp:d}=xt;this.history=[{...m,timestamp:d}];const{onSessionStart:v}=o;v&&v(e,ef(h,this.history)),this.removeListeners=Ua(xa(this.contextWindow,"pointermove",this.handlePointerMove),xa(this.contextWindow,"pointerup",this.handlePointerUp),xa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bi(this.updatePoint)}}function jc(t,e){return e?{point:e(t.point)}:t}function ry(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ef({point:t},e){return{point:t,delta:ry(t,qT(e)),offset:ry(t,t_(e)),velocity:n_(e,.1)}}function t_(t){return t[0]}function qT(t){return t[t.length-1]}function n_(t,e){if(t.length<2)return{x:0,y:0};let o=t.length-1,s=null;const l=qT(t);for(;o>=0&&(s=t[o],!(l.timestamp-s.timestamp>Kn(e)));)o--;if(!s)return{x:0,y:0};const u=Xn(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const zT=1e-4,i_=1-zT,o_=1+zT,OT=.01,s_=0-OT,a_=0+OT;function Jt(t){return t.max-t.min}function l_(t,e,o){return Math.abs(t-e)<=o}function uy(t,e,o,s=.5){t.origin=s,t.originPoint=Ze(e.min,e.max,t.origin),t.scale=Jt(o)/Jt(e),t.translate=Ze(o.min,o.max,t.origin)-t.originPoint,(t.scale>=i_&&t.scale<=o_||isNaN(t.scale))&&(t.scale=1),(t.translate>=s_&&t.translate<=a_||isNaN(t.translate))&&(t.translate=0)}function Sa(t,e,o,s){uy(t.x,e.x,o.x,s?s.originX:void 0),uy(t.y,e.y,o.y,s?s.originY:void 0)}function cy(t,e,o){t.min=o.min+e.min,t.max=t.min+Jt(e)}function r_(t,e,o){cy(t.x,e.x,o.x),cy(t.y,e.y,o.y)}function fy(t,e,o){t.min=e.min-o.min,t.max=t.min+Jt(e)}function Ea(t,e,o){fy(t.x,e.x,o.x),fy(t.y,e.y,o.y)}function u_(t,{min:e,max:o},s){return e!==void 0&&t<e?t=s?Ze(e,t,s.min):Math.max(t,e):o!==void 0&&t>o&&(t=s?Ze(o,t,s.max):Math.min(t,o)),t}function dy(t,e,o){return{min:e!==void 0?t.min+e:void 0,max:o!==void 0?t.max+o-(t.max-t.min):void 0}}function c_(t,{top:e,left:o,bottom:s,right:l}){return{x:dy(t.x,o,l),y:dy(t.y,e,s)}}function hy(t,e){let o=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([o,s]=[s,o]),{min:o,max:s}}function f_(t,e){return{x:hy(t.x,e.x),y:hy(t.y,e.y)}}function d_(t,e){let o=.5;const s=Jt(t),l=Jt(e);return l>s?o=cs(e.min,e.max-s,t.min):s>l&&(o=cs(t.min,t.max-l,e.min)),Qn(0,1,o)}function h_(t,e){const o={};return e.min!==void 0&&(o.min=e.min-t.min),e.max!==void 0&&(o.max=e.max-t.min),o}const Ef=.35;function m_(t=Ef){return t===!1?t=0:t===!0&&(t=Ef),{x:my(t,"left","right"),y:my(t,"top","bottom")}}function my(t,e,o){return{min:py(t,e),max:py(t,o)}}function py(t,e){return typeof t=="number"?t:t[e]||0}const gy=()=>({translate:0,scale:1,origin:0,originPoint:0}),is=()=>({x:gy(),y:gy()}),yy=()=>({min:0,max:0}),it=()=>({x:yy(),y:yy()});function cn(t){return[t("x"),t("y")]}function FT({top:t,left:e,right:o,bottom:s}){return{x:{min:e,max:o},y:{min:t,max:s}}}function p_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g_(t,e){if(!e)return t;const o=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:o.y,left:o.x,bottom:s.y,right:s.x}}function tf(t){return t===void 0||t===1}function Cf({scale:t,scaleX:e,scaleY:o}){return!tf(t)||!tf(e)||!tf(o)}function to(t){return Cf(t)||YT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YT(t){return vy(t.x)||vy(t.y)}function vy(t){return t&&t!=="0%"}function fr(t,e,o){const s=t-o,l=e*s;return o+l}function Ty(t,e,o,s,l){return l!==void 0&&(t=fr(t,l,s)),fr(t,o,s)+e}function Af(t,e=0,o=1,s,l){t.min=Ty(t.min,e,o,s,l),t.max=Ty(t.max,e,o,s,l)}function JT(t,{x:e,y:o}){Af(t.x,e.translate,e.scale,e.originPoint),Af(t.y,o.translate,o.scale,o.originPoint)}const xy=.999999999999,Sy=1.0000000000001;function y_(t,e,o,s=!1){const l=o.length;if(!l)return;e.x=e.y=1;let u,c;for(let h=0;h<l;h++){u=o[h],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ss(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,JT(t,c)),s&&to(u.latestValues)&&ss(t,u.latestValues))}e.x<Sy&&e.x>xy&&(e.x=1),e.y<Sy&&e.y>xy&&(e.y=1)}function os(t,e){t.min=t.min+e,t.max=t.max+e}function Ey(t,e,o,s,l=.5){const u=Ze(t.min,t.max,l);Af(t,e,o,u,s)}function ss(t,e){Ey(t.x,e.x,e.scaleX,e.scale,e.originX),Ey(t.y,e.y,e.scaleY,e.scale,e.originY)}function KT(t,e){return FT(g_(t.getBoundingClientRect(),e))}function v_(t,e,o){const s=KT(t,o),{scroll:l}=e;return l&&(os(s.x,l.offset.x),os(s.y,l.offset.y)),s}const XT=({current:t})=>t?t.ownerDocument.defaultView:null,T_=new WeakMap;class x_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:o=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(Pa(v).point)},u=(v,T)=>{const{drag:x,dragPropagation:C,onDragStart:w}=this.getProps();if(x&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mA(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(R=>{let D=this.getAxisMotionValue(R).get()||0;if(_n.test(D)){const{projection:V}=this.visualElement;if(V&&V.layout){const P=V.layout.layoutBox[R];P&&(D=Jt(P)*(parseFloat(D)/100))}}this.originPoint[R]=D}),w&&Je.postRender(()=>w(v,T)),mf(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(v,T)=>{const{dragPropagation:x,dragDirectionLock:C,onDirectionLock:w,onDrag:_}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:R}=T;if(C&&this.currentDirection===null){this.currentDirection=S_(R),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",T.point,R),this.updateAxis("y",T.point,R),this.visualElement.render(),_&&_(v,T)},h=(v,T)=>this.stop(v,T),m=()=>cn(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new HT(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:XT(this.visualElement)})}stop(e,o){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Je.postRender(()=>u(e,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:o}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(e,o,s){const{drag:l}=this.getProps();if(!s||!$l(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=u_(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var e;const{dragConstraints:o,dragElastic:s}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;o&&ts(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&l?this.constraints=c_(l.layoutBox,o):this.constraints=!1,this.elastic=m_(s),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&cn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=h_(l.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:o}=this.getProps();if(!e||!ts(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=v_(s,l.root,this.visualElement.getTransformPagePoint());let c=f_(l.layout.layoutBox,u);if(o){const h=o(p_(c));this.hasMutatedConstraints=!!h,h&&(c=FT(h))}return c}startAnimation(e){const{drag:o,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},d=cn(v=>{if(!$l(v,o,this.currentDirection))return;let T=m&&m[v]||{};c&&(T={min:0,max:0});const x=l?200:1e6,C=l?40:1e7,w={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,w)});return Promise.all(d).then(h)}startAxisValueAnimation(e,o){const s=this.getAxisMotionValue(e);return mf(this.visualElement,e),s.start(vd(e,s,0,o,this.visualElement,!1))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cn(e=>{var o;return(o=this.getAxisMotionValue(e).animation)===null||o===void 0?void 0:o.pause()})}getAnimationState(e){var o;return(o=this.getAxisMotionValue(e).animation)===null||o===void 0?void 0:o.state}getAxisMotionValue(e){const o=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[o];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){cn(o=>{const{drag:s}=this.getProps();if(!$l(o,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(o);if(l&&l.layout){const{min:c,max:h}=l.layout.layoutBox[o];u.set(e[o]-Ze(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:o}=this.getProps(),{projection:s}=this.visualElement;if(!ts(o)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};cn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();l[c]=d_({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),cn(c=>{if(!$l(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:d}=this.constraints[c];h.set(Ze(m,d,l[c]))})}addListeners(){if(!this.visualElement.current)return;T_.set(this.visualElement,this);const e=this.visualElement.current,o=xa(e,"pointerdown",m=>{const{drag:d,dragListener:v=!0}=this.getProps();d&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();ts(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Je.read(s);const c=Ma(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:d})=>{this.isDragging&&d&&(cn(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=m[v].translate,T.set(T.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),o(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=Ef,dragMomentum:h=!0}=e;return{...e,drag:o,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function $l(t,e,o){return(e===!0||e===t)&&(o===null||o===t)}function S_(t,e=10){let o=null;return Math.abs(t.y)>e?o="y":Math.abs(t.x)>e&&(o="x"),o}class E_ extends Ri{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new x_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cy=t=>(e,o)=>{t&&Je.postRender(()=>t(e,o))};class C_ extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new HT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:o,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Cy(e),onStart:Cy(o),onMove:s,onEnd:(u,c)=>{delete this.session,l&&Je.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=xa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ay(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ha={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const o=Ay(t,e.target.x),s=Ay(t,e.target.y);return`${o}% ${s}%`}},A_={correct:(t,{treeScale:e,projectionDelta:o})=>{const s=t,l=Mi.parse(t);if(l.length>5)return s;const u=Mi.createTransformer(t),c=typeof l[0]!="number"?1:0,h=o.x.scale*e.x,m=o.y.scale*e.y;l[0+c]/=h,l[1+c]/=m;const d=Ze(h,m,.5);return typeof l[2+c]=="number"&&(l[2+c]/=d),typeof l[3+c]=="number"&&(l[3+c]/=d),u(l)}};class w_ extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:o,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;KC(__),u&&(o.group&&o.group.add(u),s&&s.register&&l&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),tr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:o,visualElement:s,drag:l,isPresent:u}=this.props,c=s.projection;return c&&(c.isPresent=u,l||e.layoutDependency!==o||o===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Je.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:o,switchLayoutGroup:s}=this.props,{projection:l}=e;l&&(l.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QT(t){const[e,o]=Dv(),s=L.useContext(Bf);return S.jsx(w_,{...t,layoutGroup:s,switchLayoutGroup:L.useContext(Bv),isPresent:e,safeToRemove:o})}const __={borderRadius:{...ha,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ha,borderTopRightRadius:ha,borderBottomLeftRadius:ha,borderBottomRightRadius:ha,boxShadow:A_};function b_(t,e,o){const s=Ct(t)?t:_a(t);return s.start(vd("",s,e,o)),s.animation}function M_(t){return t instanceof SVGElement&&t.tagName!=="svg"}const R_=(t,e)=>t.depth-e.depth;class N_{constructor(){this.children=[],this.isDirty=!1}add(e){ad(this.children,e),this.isDirty=!0}remove(e){ld(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(R_),this.isDirty=!1,this.children.forEach(e)}}function D_(t,e){const o=bn.now(),s=({timestamp:l})=>{const u=l-o;u>=e&&(bi(s),t(u-e))};return Je.read(s,!0),()=>bi(s)}const ZT=["TopLeft","TopRight","BottomLeft","BottomRight"],I_=ZT.length,wy=t=>typeof t=="string"?parseFloat(t):t,_y=t=>typeof t=="number"||de.test(t);function U_(t,e,o,s,l,u){l?(t.opacity=Ze(0,o.opacity!==void 0?o.opacity:1,P_(s)),t.opacityExit=Ze(e.opacity!==void 0?e.opacity:1,0,L_(s))):u&&(t.opacity=Ze(e.opacity!==void 0?e.opacity:1,o.opacity!==void 0?o.opacity:1,s));for(let c=0;c<I_;c++){const h=`border${ZT[c]}Radius`;let m=by(e,h),d=by(o,h);if(m===void 0&&d===void 0)continue;m||(m=0),d||(d=0),m===0||d===0||_y(m)===_y(d)?(t[h]=Math.max(Ze(wy(m),wy(d),s),0),(_n.test(d)||_n.test(m))&&(t[h]+="%")):t[h]=d}(e.rotate||o.rotate)&&(t.rotate=Ze(e.rotate||0,o.rotate||0,s))}function by(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const P_=$T(0,.5,mT),L_=$T(.5,.95,Yt);function $T(t,e,o){return s=>s<t?0:s>e?1:o(cs(t,e,s))}function My(t,e){t.min=e.min,t.max=e.max}function un(t,e){My(t.x,e.x),My(t.y,e.y)}function Ry(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ny(t,e,o,s,l){return t-=e,t=fr(t,1/o,s),l!==void 0&&(t=fr(t,1/l,s)),t}function V_(t,e=0,o=1,s=.5,l,u=t,c=t){if(_n.test(e)&&(e=parseFloat(e),e=Ze(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ze(u.min,u.max,s);t===u&&(h-=e),t.min=Ny(t.min,e,o,h,l),t.max=Ny(t.max,e,o,h,l)}function Dy(t,e,[o,s,l],u,c){V_(t,e[o],e[s],e[l],e.scale,u,c)}const k_=["x","scaleX","originX"],B_=["y","scaleY","originY"];function Iy(t,e,o,s){Dy(t.x,e,k_,o?o.x:void 0,s?s.x:void 0),Dy(t.y,e,B_,o?o.y:void 0,s?s.y:void 0)}function Uy(t){return t.translate===0&&t.scale===1}function WT(t){return Uy(t.x)&&Uy(t.y)}function Py(t,e){return t.min===e.min&&t.max===e.max}function G_(t,e){return Py(t.x,e.x)&&Py(t.y,e.y)}function Ly(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jT(t,e){return Ly(t.x,e.x)&&Ly(t.y,e.y)}function Vy(t){return Jt(t.x)/Jt(t.y)}function ky(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class H_{constructor(){this.members=[]}add(e){ad(this.members,e),e.scheduleRender()}remove(e){if(ld(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(e){const o=this.members.findIndex(l=>e===l);if(o===0)return!1;let s;for(let l=o;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,o){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,o&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:o,resumingFrom:s}=e;o.onExitComplete&&o.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q_(t,e,o){let s="";const l=t.x.translate/e.x,u=t.y.translate/e.y,c=(o==null?void 0:o.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),o){const{transformPerspective:d,rotate:v,rotateX:T,rotateY:x,skewX:C,skewY:w}=o;d&&(s=`perspective(${d}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),C&&(s+=`skewX(${C}deg) `),w&&(s+=`skewY(${w}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(s+=`scale(${h}, ${m})`),s||"none"}const no={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},va=typeof window<"u"&&window.MotionDebug!==void 0,nf=["","X","Y","Z"],z_={visibility:"hidden"},By=1e3;let O_=0;function of(t,e,o,s){const{latestValues:l}=e;l[t]&&(o[t]=l[t],e.setStaticValue(t,0),s&&(s[t]=0))}function ex(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const o=lT(e);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(o,"transform",Je,!(l||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&ex(s)}function tx({attachResizeListener:t,defaultParent:e,measureScroll:o,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},h=e==null?void 0:e()){this.id=O_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,va&&(no.totalNodes=no.resolvedTargetDeltas=no.recalculatedProjection=0),this.nodes.forEach(J_),this.nodes.forEach($_),this.nodes.forEach(W_),this.nodes.forEach(K_),va&&window.MotionDebug.record(no)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new N_)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new rd),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M_(c),this.instance=c;const{layoutId:m,layout:d,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(d||m)&&(this.isLayoutDirty=!0),t){let T;const x=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=D_(x,250),tr.hasAnimatedSinceResize&&(tr.hasAnimatedSinceResize=!1,this.nodes.forEach(Hy))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||d)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:x,hasRelativeTargetChanged:C,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||v.getDefaultTransition()||ib,{onLayoutAnimationStart:R,onLayoutAnimationComplete:D}=v.getProps(),V=!this.targetLayout||!jT(this.targetLayout,w)||C,P=!x&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||x&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,P);const k={...nd(_,"layout"),onPlay:R,onComplete:D};(v.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else x||Hy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j_),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ex(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gy);return}this.isUpdating||this.nodes.forEach(Q_),this.isUpdating=!1,this.nodes.forEach(Z_),this.nodes.forEach(F_),this.nodes.forEach(Y_),this.clearAllSnapshots();const h=bn.now();xt.delta=Qn(0,1e3/60,h-xt.timestamp),xt.timestamp=h,xt.isProcessing=!0,Kc.update.process(xt),Kc.preRender.process(xt),Kc.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X_),this.sharedNodes.forEach(eb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!WT(this.projectionDelta),m=this.getTransformTemplate(),d=m?m(this.latestValues,""):void 0,v=d!==this.prevTransformTemplateValue;c&&(h||to(this.latestValues)||v)&&(l(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),ob(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return it();const m=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(sb))){const{scroll:v}=this.root;v&&(os(m.x,v.offset.x),os(m.y,v.offset.y))}return m}removeElementScroll(c){var h;const m=it();if(un(m,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return m;for(let d=0;d<this.path.length;d++){const v=this.path[d],{scroll:T,options:x}=v;v!==this.root&&T&&x.layoutScroll&&(T.wasRoot&&un(m,c),os(m.x,T.offset.x),os(m.y,T.offset.y))}return m}applyTransform(c,h=!1){const m=it();un(m,c);for(let d=0;d<this.path.length;d++){const v=this.path[d];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ss(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),to(v.latestValues)&&ss(m,v.latestValues)}return to(this.latestValues)&&ss(m,this.latestValues),m}removeTransform(c){const h=it();un(h,c);for(let m=0;m<this.path.length;m++){const d=this.path[m];if(!d.instance||!to(d.latestValues))continue;Cf(d.latestValues)&&d.updateSnapshot();const v=it(),T=d.measurePageBox();un(v,T),Iy(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,v)}return to(this.latestValues)&&Iy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==m;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:x}=this.options;if(!(!this.layout||!(T||x))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Ea(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),JT(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Ea(this.relativeTargetOrigin,this.target,C.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}va&&no.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cf(this.parent.latestValues)||YT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),m=!!this.resumingFrom||this!==h;let d=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(d=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(d=!1),d)return;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;un(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,C=this.treeScale.y;y_(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=it());const{target:w}=h;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ry(this.prevProjectionDelta.x,this.projectionDelta.x),Ry(this.prevProjectionDelta.y,this.projectionDelta.y)),Sa(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==C||!ky(this.projectionDelta.x,this.prevProjectionDelta.x)||!ky(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),va&&no.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=is(),this.projectionDelta=is(),this.projectionDeltaWithTransform=is()}setAnimationOrigin(c,h=!1){const m=this.snapshot,d=m?m.latestValues:{},v={...this.latestValues},T=is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=it(),C=m?m.source:void 0,w=this.layout?this.layout.source:void 0,_=C!==w,R=this.getStack(),D=!R||R.members.length<=1,V=!!(_&&!D&&this.options.crossfade===!0&&!this.path.some(nb));this.animationProgress=0;let P;this.mixTargetDelta=k=>{const U=k/1e3;qy(T.x,c.x,U),qy(T.y,c.y,U),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ea(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tb(this.relativeTarget,this.relativeTargetOrigin,x,U),P&&G_(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=it()),un(P,this.relativeTarget)),_&&(this.animationValues=v,U_(v,d,this.latestValues,U,V,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{tr.hasAnimatedSinceResize=!0,this.currentAnimation=b_(0,By,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(By),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:d,latestValues:v}=c;if(!(!h||!m||!d)){if(this!==c&&this.layout&&d&&nx(this.options.animationType,this.layout.layoutBox,d.layoutBox)){m=this.target||it();const T=Jt(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const x=Jt(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}un(h,m),ss(h,v),Sa(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new H_),this.sharedNodes.get(c).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const d=this.getStack();d&&d.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const d={};m.z&&of("z",c,d,this.animationValues);for(let v=0;v<nf.length;v++)of(`rotate${nf[v]}`,c,d,this.animationValues),of(`skew${nf[v]}`,c,d,this.animationValues);c.render();for(const v in d)c.setStaticValue(v,d[v]),this.animationValues&&(this.animationValues[v]=d[v]);c.scheduleRender()}getProjectionStyles(c){var h,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return z_;const d={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=jl(c==null?void 0:c.pointerEvents)||"",d.transform=v?v(this.latestValues,""):"none",d;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=jl(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!to(this.latestValues)&&(_.transform=v?v({},""):"none",this.hasProjected=!1),_}const x=T.animationValues||T.latestValues;this.applyTransformsToTarget(),d.transform=q_(this.projectionDeltaWithTransform,this.treeScale,x),v&&(d.transform=v(x,d.transform));const{x:C,y:w}=this.projectionDelta;d.transformOrigin=`${C.origin*100}% ${w.origin*100}% 0`,T.animationValues?d.opacity=T===this?(m=(h=x.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=T===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const _ in ar){if(x[_]===void 0)continue;const{correct:R,applyTo:D}=ar[_],V=d.transform==="none"?x[_]:R(x[_],T);if(D){const P=D.length;for(let k=0;k<P;k++)d[D[k]]=V}else d[_]=V}return this.options.layoutId&&(d.pointerEvents=T===this?jl(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Gy),this.root.sharedNodes.clear()}}}function F_(t){t.updateLayout()}function Y_(t){var e;const o=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&o&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=t.layout,{animationType:u}=t.options,c=o.source!==t.layout.source;u==="size"?cn(T=>{const x=c?o.measuredBox[T]:o.layoutBox[T],C=Jt(x);x.min=s[T].min,x.max=x.min+C}):nx(u,o.layoutBox,s)&&cn(T=>{const x=c?o.measuredBox[T]:o.layoutBox[T],C=Jt(s[T]);x.max=x.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+C)});const h=is();Sa(h,s,o.layoutBox);const m=is();c?Sa(m,t.applyTransform(l,!0),o.measuredBox):Sa(m,s,o.layoutBox);const d=!WT(h);let v=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:x,layout:C}=T;if(x&&C){const w=it();Ea(w,o.layoutBox,x.layoutBox);const _=it();Ea(_,s,C.layoutBox),jT(w,_)||(v=!0),T.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:m,layoutDelta:h,hasLayoutChanged:d,hasRelativeTargetChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function J_(t){va&&no.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K_(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function X_(t){t.clearSnapshot()}function Gy(t){t.clearMeasurements()}function Q_(t){t.isLayoutDirty=!1}function Z_(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $_(t){t.resolveTargetDelta()}function W_(t){t.calcProjection()}function j_(t){t.resetSkewAndRotation()}function eb(t){t.removeLeadSnapshot()}function qy(t,e,o){t.translate=Ze(e.translate,0,o),t.scale=Ze(e.scale,1,o),t.origin=e.origin,t.originPoint=e.originPoint}function zy(t,e,o,s){t.min=Ze(e.min,o.min,s),t.max=Ze(e.max,o.max,s)}function tb(t,e,o,s){zy(t.x,e.x,o.x,s),zy(t.y,e.y,o.y,s)}function nb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ib={duration:.45,ease:[.4,0,.1,1]},Oy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fy=Oy("applewebkit/")&&!Oy("chrome/")?Math.round:Yt;function Yy(t){t.min=Fy(t.min),t.max=Fy(t.max)}function ob(t){Yy(t.x),Yy(t.y)}function nx(t,e,o){return t==="position"||t==="preserve-aspect"&&!l_(Vy(e),Vy(o),.2)}function sb(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ab=tx({attachResizeListener:(t,e)=>Ma(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sf={current:void 0},ix=tx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sf.current){const t=new ab({});t.mount(window),t.setOptions({layoutScroll:!0}),sf.current=t}return sf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lb={pan:{Feature:C_},drag:{Feature:E_,ProjectionNode:ix,MeasureLayout:QT}};function Jy(t,e,o){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",o==="Start");const l="onHover"+o,u=s[l];u&&Je.postRender(()=>u(e,Pa(e)))}class rb extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=uA(e,o=>(Jy(this.node,o,"Start"),s=>Jy(this.node,s,"End"))))}unmount(){}}class ub extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ua(Ma(this.node.current,"focus",()=>this.onFocus()),Ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ky(t,e,o){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",o==="Start");const l="onTap"+(o==="End"?"":o),u=s[l];u&&Je.postRender(()=>u(e,Pa(e)))}class cb extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=hA(e,o=>(Ky(this.node,o,"Start"),(s,{success:l})=>Ky(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wf=new WeakMap,af=new WeakMap,fb=t=>{const e=wf.get(t.target);e&&e(t)},db=t=>{t.forEach(fb)};function hb({root:t,...e}){const o=t||document;af.has(o)||af.set(o,{});const s=af.get(o),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(db,{root:t,...e})),s[l]}function mb(t,e,o){const s=hb(e);return wf.set(t,o),s.observe(t),()=>{wf.delete(t),s.unobserve(t)}}const pb={some:0,all:1};class gb extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:o,margin:s,amount:l="some",once:u}=e,c={root:o?o.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:pb[l]},h=m=>{const{isIntersecting:d}=m;if(this.isInView===d||(this.isInView=d,u&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),x=d?v:T;x&&x(m)};return mb(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:o}=this.node;["amount","margin","root"].some(yb(e,o))&&this.startObserver()}unmount(){}}function yb({viewport:t={}},{viewport:e={}}={}){return o=>t[o]!==e[o]}const vb={inView:{Feature:gb},tap:{Feature:cb},focus:{Feature:ub},hover:{Feature:rb}},Tb={layout:{ProjectionNode:ix,MeasureLayout:QT}},_f={current:null},ox={current:!1};function xb(){if(ox.current=!0,!!Hf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_f.current=t.matches;t.addListener(e),e()}else _f.current=!1}const Sb=[...MT,Et,Mi],Eb=t=>Sb.find(bT(t)),Xy=new WeakMap;function Cb(t,e,o){for(const s in e){const l=e[s],u=o[s];if(Ct(l))t.addValue(s,l);else if(Ct(u))t.addValue(s,_a(l,{owner:t}));else if(u!==l)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=t.getStaticValue(s);t.addValue(s,_a(c!==void 0?c:l,{owner:t}))}}for(const s in o)e[s]===void 0&&t.removeValue(s);return e}const Qy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ab{scrapeMotionValuesFromProps(e,o,s){return{}}constructor({parent:e,props:o,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=bn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Je.render(this.render,!1,!0))};const{latestValues:m,renderState:d,onUpdate:v}=c;this.onUpdate=v,this.latestValues=m,this.baseTarget={...m},this.initialValues=o.initial?{...m}:{},this.renderState=d,this.parent=e,this.props=o,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=xr(o),this.isVariantNode=Vv(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...x}=this.scrapeMotionValuesFromProps(o,{},this);for(const C in x){const w=x[C];m[C]!==void 0&&Ct(w)&&w.set(m[C],!1)}}mount(e){this.current=e,Xy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,s)=>this.bindToMotionValue(s,o)),ox.current||xb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_f.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xy.delete(this.current),this.projection&&this.projection.unmount(),bi(this.notifyUpdate),bi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const o=this.features[e];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(e,o){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ao.has(e),l=o.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Je.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=o.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,o)),this.valueSubscriptions.set(e,()=>{l(),u(),c&&c(),o.owner&&o.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fs){const o=fs[e];if(!o)continue;const{isEnabled:s,Feature:l}=o;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,o){this.latestValues[e]=o}update(e,o){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let s=0;s<Qy.length;s++){const l=Qy[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=Cb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(e),()=>o.variantChildren.delete(e)}addValue(e,o){const s=this.values.get(e);o!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,o),this.values.set(e,o),this.latestValues[e]=o.get())}removeValue(e){this.values.delete(e);const o=this.valueSubscriptions.get(e);o&&(o(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,o){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&o!==void 0&&(s=_a(o===null?void 0:o,{owner:this}),this.addValue(e,s)),s}readValue(e,o){var s;let l=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return l!=null&&(typeof l=="string"&&(wT(l)||gT(l))?l=parseFloat(l):!Eb(l)&&Mi.test(o)&&(l=ET(e,o)),this.setBaseTarget(e,Ct(l)?l.get():l)),Ct(l)?l.get():l}setBaseTarget(e,o){this.baseTarget[e]=o}getBaseTarget(e){var o;const{initial:s}=this.props;let l;if(typeof s=="string"||typeof s=="object"){const c=Xf(this.props,s,(o=this.presenceContext)===null||o===void 0?void 0:o.custom);c&&(l=c[e])}if(s&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!Ct(u)?u:this.initialValues[e]!==void 0&&l===void 0?void 0:this.baseTarget[e]}on(e,o){return this.events[e]||(this.events[e]=new rd),this.events[e].add(o)}notify(e,...o){this.events[e]&&this.events[e].notify(...o)}}class sx extends Ab{constructor(){super(...arguments),this.KeyframeResolver=RT}sortInstanceNodePosition(e,o){return e.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(e,o){return e.style?e.style[o]:void 0}removeValueFromRenderState(e,{vars:o,style:s}){delete o[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function wb(t){return window.getComputedStyle(t)}class _b extends sx{constructor(){super(...arguments),this.type="html",this.renderInstance=Yv}readValueFromInstance(e,o){if(ao.has(o)){const s=md(o);return s&&s.default||0}else{const s=wb(e),l=(zv(o)?s.getPropertyValue(o):s[o])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:o}){return KT(e,o)}build(e,o,s){$f(e,o,s.transformTemplate)}scrapeMotionValuesFromProps(e,o,s){return td(e,o,s)}}class bb extends sx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,o){return e[o]}readValueFromInstance(e,o){if(ao.has(o)){const s=md(o);return s&&s.default||0}return o=Jv.has(o)?o:Yf(o),e.getAttribute(o)}scrapeMotionValuesFromProps(e,o,s){return Qv(e,o,s)}build(e,o,s){Wf(e,o,this.isSVGTag,s.transformTemplate)}renderInstance(e,o,s,l){Kv(e,o,s,l)}mount(e){this.isSVGTag=ed(e.tagName),super.mount(e)}}const Mb=(t,e)=>Kf(t)?new bb(e):new _b(e,{allowProjection:t!==L.Fragment}),Rb=nA({...Ww,...vb,...lb,...Tb},Mb),Lt=yC(Rb);function Nb(t){t.values.forEach(e=>e.stop())}function bf(t,e){[...e].reverse().forEach(s=>{const l=t.getVariant(s);l&&ud(t,l),t.variantChildren&&t.variantChildren.forEach(u=>{bf(u,e)})})}function Db(t,e){if(Array.isArray(e))return bf(t,e);if(typeof e=="string")return bf(t,[e]);ud(t,e)}function Ib(){const t=new Set,e={subscribe(o){return t.add(o),()=>void t.delete(o)},start(o,s){const l=[];return t.forEach(u=>{l.push(BT(u,o,{transitionOverride:s}))}),Promise.all(l)},set(o){return t.forEach(s=>{Db(s,o)})},stop(){t.forEach(o=>{Nb(o)})},mount(){return()=>{e.stop()}}};return e}function Ub(){const t=gr(Ib);return qf(t.mount,[]),t}const Pb=Ub;var Lb=Object.defineProperty,Vb=(t,e,o)=>e in t?Lb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Xe=(t,e,o)=>Vb(t,typeof e!="symbol"?e+"":e,o);const dr={x:0,y:0,width:0,height:0,unit:"px"},Wo=(t,e,o)=>Math.min(Math.max(t,e),o),kb=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),Zy=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function jo(t,e,o){return t.unit==="%"?{...dr,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function Ai(t,e,o){return t.unit?t.unit==="px"?{...dr,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...dr,...t,unit:"px"}}function $y(t,e,o,s,l,u=0,c=0,h=s,m=l){const d={...t};let v=Math.min(u,s),T=Math.min(c,l),x=Math.min(h,s),C=Math.min(m,l);e&&(e>1?(v=c?c*e:v,T=v/e,x=h*e):(T=u?u/e:T,v=T*e,C=m/e)),d.y<0&&(d.height=Math.max(d.height+d.y,T),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,v),d.x=0);const w=s-(d.x+d.width);w<0&&(d.x=Math.min(d.x,s-v),d.width+=w);const _=l-(d.y+d.height);if(_<0&&(d.y=Math.min(d.y,l-T),d.height+=_),d.width<v&&((o==="sw"||o=="nw")&&(d.x-=v-d.width),d.width=v),d.height<T&&((o==="nw"||o=="ne")&&(d.y-=T-d.height),d.height=T),d.width>x&&((o==="sw"||o=="nw")&&(d.x-=x-d.width),d.width=x),d.height>C&&((o==="nw"||o=="ne")&&(d.y-=C-d.height),d.height=C),e){const R=d.width/d.height;if(R<e){const D=Math.max(d.width/e,T);(o==="nw"||o=="ne")&&(d.y-=D-d.height),d.height=D}else if(R>e){const D=Math.max(d.height*e,v);(o==="sw"||o=="nw")&&(d.x-=D-d.width),d.width=D}}return d}function Bb(t,e,o,s){const l={...t};return e==="ArrowLeft"?s==="nw"?(l.x-=o,l.y-=o,l.width+=o,l.height+=o):s==="w"?(l.x-=o,l.width+=o):s==="sw"?(l.x-=o,l.width+=o,l.height+=o):s==="ne"?(l.y+=o,l.width-=o,l.height-=o):s==="e"?l.width-=o:s==="se"&&(l.width-=o,l.height-=o):e==="ArrowRight"&&(s==="nw"?(l.x+=o,l.y+=o,l.width-=o,l.height-=o):s==="w"?(l.x+=o,l.width-=o):s==="sw"?(l.x+=o,l.width-=o,l.height-=o):s==="ne"?(l.y-=o,l.width+=o,l.height+=o):s==="e"?l.width+=o:s==="se"&&(l.width+=o,l.height+=o)),e==="ArrowUp"?s==="nw"?(l.x-=o,l.y-=o,l.width+=o,l.height+=o):s==="n"?(l.y-=o,l.height+=o):s==="ne"?(l.y-=o,l.width+=o,l.height+=o):s==="sw"?(l.x+=o,l.width-=o,l.height-=o):s==="s"?l.height-=o:s==="se"&&(l.width-=o,l.height-=o):e==="ArrowDown"&&(s==="nw"?(l.x+=o,l.y+=o,l.width-=o,l.height-=o):s==="n"?(l.y+=o,l.height-=o):s==="ne"?(l.y+=o,l.width-=o,l.height-=o):s==="sw"?(l.x-=o,l.width+=o,l.height+=o):s==="s"?l.height+=o:s==="se"&&(l.width+=o,l.height+=o)),l}const es={capture:!0,passive:!1};let Gb=0;const _i=class gn extends L.PureComponent{constructor(){super(...arguments),Xe(this,"docMoveBound",!1),Xe(this,"mouseDownOnCrop",!1),Xe(this,"dragStarted",!1),Xe(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Xe(this,"componentRef",L.createRef()),Xe(this,"mediaRef",L.createRef()),Xe(this,"resizeObserver"),Xe(this,"initChangeCalled",!1),Xe(this,"instanceId",`rc-${Gb++}`),Xe(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Xe(this,"onCropPointerDown",e=>{const{crop:o,disabled:s}=this.props,l=this.getBox();if(!o)return;const u=Ai(o,l.width,l.height);if(s)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.target.dataset.ord,h=!!c;let m=e.clientX,d=e.clientY,v=u.x,T=u.y;if(c){const x=e.clientX-l.x,C=e.clientY-l.y;let w=0,_=0;c==="ne"||c=="e"?(w=x-(u.x+u.width),_=C-u.y,v=u.x,T=u.y+u.height):c==="se"||c==="s"?(w=x-(u.x+u.width),_=C-(u.y+u.height),v=u.x,T=u.y):c==="sw"||c=="w"?(w=x-u.x,_=C-(u.y+u.height),v=u.x+u.width,T=u.y):(c==="nw"||c=="n")&&(w=x-u.x,_=C-u.y,v=u.x+u.width,T=u.y+u.height),m=v+l.x+w,d=T+l.y+_}this.evData={startClientX:m,startClientY:d,startCropX:v,startCropY:T,clientX:e.clientX,clientY:e.clientY,isResize:h,ord:c},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Xe(this,"onComponentPointerDown",e=>{const{crop:o,disabled:s,locked:l,keepSelection:u,onChange:c}=this.props,h=this.getBox();if(s||l||u&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=e.clientX-h.x,d=e.clientY-h.y,v={unit:"px",x:m,y:d,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:m,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,c(Ai(v,h.width,h.height),jo(v,h.width,h.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Xe(this,"onDocPointerMove",e=>{const{crop:o,disabled:s,onChange:l,onDragStart:u}=this.props,c=this.getBox();if(s||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,u&&u(e));const{evData:h}=this;h.clientX=e.clientX,h.clientY=e.clientY;let m;h.isResize?m=this.resizeCrop():m=this.dragCrop(),Zy(o,m)||l(Ai(m,c.width,c.height),jo(m,c.width,c.height))}),Xe(this,"onComponentKeyDown",e=>{const{crop:o,disabled:s,onChange:l,onComplete:u}=this.props;if(s)return;const c=e.key;let h=!1;if(!o)return;const m=this.getBox(),d=this.makePixelCrop(m),v=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?gn.nudgeStepLarge:e.shiftKey?gn.nudgeStepMedium:gn.nudgeStep;if(c==="ArrowLeft"?(d.x-=v,h=!0):c==="ArrowRight"?(d.x+=v,h=!0):c==="ArrowUp"?(d.y-=v,h=!0):c==="ArrowDown"&&(d.y+=v,h=!0),h){e.cancelable&&e.preventDefault(),d.x=Wo(d.x,0,m.width-d.width),d.y=Wo(d.y,0,m.height-d.height);const T=Ai(d,m.width,m.height),x=jo(d,m.width,m.height);l(T,x),u&&u(T,x)}}),Xe(this,"onHandlerKeyDown",(e,o)=>{const{aspect:s=0,crop:l,disabled:u,minWidth:c=0,minHeight:h=0,maxWidth:m,maxHeight:d,onChange:v,onComplete:T}=this.props,x=this.getBox();if(u||!l)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const C=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?gn.nudgeStepLarge:e.shiftKey?gn.nudgeStepMedium:gn.nudgeStep,w=Ai(l,x.width,x.height),_=Bb(w,e.key,C,o),R=$y(_,s,o,x.width,x.height,c,h,m,d);if(!Zy(l,R)){const D=jo(R,x.width,x.height);v(R,D),T&&T(R,D)}}),Xe(this,"onDocPointerDone",e=>{const{crop:o,disabled:s,onComplete:l,onDragEnd:u}=this.props,c=this.getBox();this.unbindDocMove(),!(s||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,u&&u(e),l&&l(Ai(o,c.width,c.height),jo(o,c.width,c.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Xe(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:o,y:s,width:l,height:u}=e.getBoundingClientRect();return{x:o,y:s,width:l,height:u}}componentDidUpdate(e){const{crop:o,onComplete:s}=this.props;if(s&&!e.crop&&o){const{width:l,height:u}=this.getBox();l&&u&&s(Ai(o,l,u),jo(o,l,u))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,es),this.document.addEventListener("pointerup",this.onDocPointerDone,es),this.document.addEventListener("pointercancel",this.onDocPointerDone,es),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,es),this.document.removeEventListener("pointerup",this.onDocPointerDone,es),this.document.removeEventListener("pointercancel",this.onDocPointerDone,es),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,o=this.getBox(),s=this.makePixelCrop(o),l=e.clientX-e.startClientX,u=e.clientY-e.startClientY;return s.x=Wo(e.startCropX+l,0,o.width-s.width),s.y=Wo(e.startCropY+u,0,o.height-s.height),s}getPointRegion(e,o,s,l){const{evData:u}=this,c=u.clientX-e.x,h=u.clientY-e.y;let m;l&&o?m=o==="nw"||o==="n"||o==="ne":m=h<u.startCropY;let d;return s&&o?d=o==="nw"||o==="w"||o==="sw":d=c<u.startCropX,d?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(e,o,s=0,l=0){const u=Math.min(s,e.width),c=Math.min(l,e.height);return!o||!u&&!c?[u,c]:o>1?u?[u,u/o]:[c*o,c]:c?[c*o,c]:[u,u/o]}resizeCrop(){const{evData:e}=this,{aspect:o=0,maxWidth:s,maxHeight:l}=this.props,u=this.getBox(),[c,h]=this.resolveMinDimensions(u,o,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(u);const d=this.getPointRegion(u,e.ord,c,h),v=e.ord||d;let T=e.clientX-e.startClientX,x=e.clientY-e.startClientY;(c&&v==="nw"||v==="w"||v==="sw")&&(T=Math.min(T,-c)),(h&&v==="nw"||v==="n"||v==="ne")&&(x=Math.min(x,-h));const C={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(C.x=e.startCropX,C.width=T,o?(C.height=C.width/o,C.y=e.startCropY-C.height):(C.height=Math.abs(x),C.y=e.startCropY-C.height)):d==="se"?(C.x=e.startCropX,C.y=e.startCropY,C.width=T,o?C.height=C.width/o:C.height=x):d==="sw"?(C.x=e.startCropX+T,C.y=e.startCropY,C.width=Math.abs(T),o?C.height=C.width/o:C.height=x):d==="nw"&&(C.x=e.startCropX+T,C.width=Math.abs(T),o?(C.height=C.width/o,C.y=e.startCropY-C.height):(C.height=Math.abs(x),C.y=e.startCropY+x));const w=$y(C,o,d,u.width,u.height,c,h,s,l);return o||gn.xyOrds.indexOf(v)>-1?m=w:gn.xOrds.indexOf(v)>-1?(m.x=w.x,m.width=w.width):gn.yOrds.indexOf(v)>-1&&(m.y=w.y,m.height=w.height),m.x=Wo(m.x,0,u.width-m.width),m.y=Wo(m.y,0,u.height-m.height),m}renderCropSelection(){const{ariaLabels:e=gn.defaultProps.ariaLabels,disabled:o,locked:s,renderSelectionAddon:l,ruleOfThirds:u,crop:c}=this.props,h=this.getCropStyle();if(c)return Le.createElement("div",{style:h,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!s&&Le.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Le.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Le.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Le.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Le.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),l&&Le.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},l(this.state)),u&&Le.createElement(Le.Fragment,null,Le.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Le.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const o={...dr,...this.props.crop||{}};return Ai(o,e.width,e.height)}render(){const{aspect:e,children:o,circularCrop:s,className:l,crop:u,disabled:c,locked:h,style:m,ruleOfThirds:d}=this.props,{cropIsActive:v,newCropIsBeingDrawn:T}=this.state,x=u?this.renderCropSelection():null,C=kb("ReactCrop",l,v&&"ReactCrop--active",c&&"ReactCrop--disabled",h&&"ReactCrop--locked",T&&"ReactCrop--new-crop",u&&e&&"ReactCrop--fixed-aspect",u&&s&&"ReactCrop--circular-crop",u&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&u&&!u.width&&!u.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return Le.createElement("div",{ref:this.componentRef,className:C,style:m},Le.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),u?Le.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Le.createElement("defs",null,Le.createElement("mask",{id:`hole-${this.instanceId}`},Le.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?Le.createElement("ellipse",{cx:`${u.x+u.width/2}${u.unit}`,cy:`${u.y+u.height/2}${u.unit}`,rx:`${u.width/2}${u.unit}`,ry:`${u.height/2}${u.unit}`,fill:"black"}):Le.createElement("rect",{x:`${u.x}${u.unit}`,y:`${u.y}${u.unit}`,width:`${u.width}${u.unit}`,height:`${u.height}${u.unit}`,fill:"black"}))),Le.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,x)}};Xe(_i,"xOrds",["e","w"]),Xe(_i,"yOrds",["n","s"]),Xe(_i,"xyOrds",["nw","ne","se","sw"]),Xe(_i,"nudgeStep",1),Xe(_i,"nudgeStepMedium",10),Xe(_i,"nudgeStepLarge",100),Xe(_i,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Hb=_i;

let qb,zb;function Ob(){return{geminiUrl:qb,vertexUrl:zb}}function Fb(t,e,o,s){var l,u;if(!(t!=null&&t.baseUrl)){const c=Ob();return e?(l=c.vertexUrl)!==null&&l!==void 0?l:o:(u=c.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}

class lo{}function ae(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function p(t,e,o){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(o))t[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const m=t[h];if(Array.isArray(o))for(let d=0;d<m.length;d++){const v=m[d];p(v,e.slice(u+1),o[d])}else for(const d of m)p(d,e.slice(u+1),o)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const m=t[h];p(m[0],e.slice(u+1),o);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],l=t[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(t,o):t[s]=o}function f(t,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return o;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(h=>f(h,e.slice(s+1),o)):o}else return o}else t=t[l]}return t}catch(s){if(s instanceof TypeError)return o;throw s}}function Yb(t,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),u=s.split("."),c=new Set;let h=-1;for(let m=0;m<l.length;m++)if(l[m]==="*"){h=m;break}if(h!==-1&&u.length>h)for(let m=h;m<u.length;m++){const d=u[m];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&c.add(d)}Mf(t,l,u,0,c)}}function Mf(t,e,o,s,l){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const c=u.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const m of h[c])Mf(m,e,o,s+1,l)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(d=>!d.startsWith("_")&&!l.has(d)),m={};for(const d of h)m[d]=c[d];for(const[d,v]of Object.entries(m)){const T=[];for(const x of o.slice(s))x==="*"?T.push(d):T.push(x);p(c,T,v)}for(const d of h)delete c[d]}}else{const c=t;u in c&&Mf(c[u],e,o,s+1,l)}}

function Td(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}

function Jb(t){const e={},o=f(t,["operationName"]);o!=null&&p(e,["operationName"],o);const s=f(t,["resourceName"]);return s!=null&&p(e,["_url","resourceName"],s),e}function Kb(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const l=f(t,["done"]);l!=null&&p(e,["done"],l);const u=f(t,["error"]);u!=null&&p(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&p(e,["response"],Qb(c)),e}function Xb(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const l=f(t,["done"]);l!=null&&p(e,["done"],l);const u=f(t,["error"]);u!=null&&p(e,["error"],u);const c=f(t,["response"]);return c!=null&&p(e,["response"],Zb(c)),e}function Qb(t){const e={},o=f(t,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>$b(c))),p(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function Zb(t){const e={},o=f(t,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Wb(c))),p(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function $b(t){const e={},o=f(t,["video"]);return o!=null&&p(e,["video"],t1(o)),e}function Wb(t){const e={},o=f(t,["_self"]);return o!=null&&p(e,["video"],n1(o)),e}function jb(t){const e={},o=f(t,["operationName"]);return o!=null&&p(e,["_url","operationName"],o),e}function e1(t){const e={},o=f(t,["operationName"]);return o!=null&&p(e,["_url","operationName"],o),e}function t1(t){const e={},o=f(t,["uri"]);o!=null&&p(e,["uri"],o);const s=f(t,["encodedVideo"]);s!=null&&p(e,["videoBytes"],Td(s));const l=f(t,["encoding"]);return l!=null&&p(e,["mimeType"],l),e}function n1(t){const e={},o=f(t,["gcsUri"]);o!=null&&p(e,["uri"],o);const s=f(t,["bytesBase64Encoded"]);s!=null&&p(e,["videoBytes"],Td(s));const l=f(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}

var Wy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wy||(Wy={}));var jy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jy||(jy={}));var e0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(e0||(e0={}));var Ft;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ft||(Ft={}));var t0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(t0||(t0={}));var n0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(n0||(n0={}));var i0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(i0||(i0={}));var o0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(o0||(o0={}));var s0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(s0||(s0={}));var a0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(a0||(a0={}));var l0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(l0||(l0={}));var r0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(r0||(r0={}));var u0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(u0||(u0={}));var c0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(c0||(c0={}));var f0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(f0||(f0={}));var d0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(d0||(d0={}));var hs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(hs||(hs={}));var h0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(h0||(h0={}));var m0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(m0||(m0={}));var p0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(p0||(p0={}));var Rf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Rf||(Rf={}));var g0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(g0||(g0={}));var y0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(y0||(y0={}));var v0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(v0||(v0={}));var T0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(T0||(T0={}));var x0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(x0||(x0={}));var S0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(S0||(S0={}));var E0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(E0||(E0={}));var C0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(C0||(C0={}));var A0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(A0||(A0={}));var w0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w0||(w0={}));var _0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_0||(_0={}));var b0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(b0||(b0={}));var M0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(M0||(M0={}));var R0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(R0||(R0={}));var N0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(N0||(N0={}));var D0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(D0||(D0={}));var I0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(I0||(I0={}));var U0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(U0||(U0={}));var P0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(P0||(P0={}));var L0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(L0||(L0={}));var V0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(V0||(V0={}));var k0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(k0||(k0={}));var B0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(B0||(B0={}));var G0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(G0||(G0={}));var H0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(H0||(H0={}));var q0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(q0||(q0={}));var z0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(z0||(z0={}));var O0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(O0||(O0={}));var as;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(as||(as={}));class Nf{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class ma{get text(){var e,o,s,l,u,c,h,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",v=!1;const T=[];for(const x of(m=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[C,w]of Object.entries(x))C!=="text"&&C!=="thought"&&(w!==null||w!==void 0)&&T.push(C);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,d+=x.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?d:void 0}get data(){var e,o,s,l,u,c,h,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const v=[];for(const T of(m=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[x,C]of Object.entries(T))x!=="inlineData"&&(C!==null||C!==void 0)&&v.push(x);T.inlineData&&typeof T.inlineData.data=="string"&&(d+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,o,s,l,u,c,h,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(m=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,o,s,l,u,c,h,m,d;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(m=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(d=v==null?void 0:v[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,o,s,l,u,c,h,m,d;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(m=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(d=v==null?void 0:v[0])===null||d===void 0?void 0:d.output}}class F0{}class Y0{}class i1{}class o1{}class s1{}class a1{}class J0{}class K0{}class X0{}class l1{}class hr{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const s=new hr;let l;const u=e;return o?l=Xb(u):l=Kb(u),Object.assign(s,l),s}}class Q0{}class Z0{}class $0{}class r1{}class u1{}class c1{}class W0{}class f1{get text(){var e,o,s;let l="",u=!1;const c=[];for(const h of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[m,d]of Object.entries(h))m!=="text"&&m!=="thought"&&d!==null&&c.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,o,s;let l="";const u=[];for(const c of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,m]of Object.entries(c))h!=="inlineData"&&m!==null&&u.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class d1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}

function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ax(t,e){const o=Ne(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function lx(t){return Array.isArray(t)?t.map(e=>mr(e)):[mr(t)]}function mr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function rx(t){const e=mr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ux(t){const e=mr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function j0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function cx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>j0(e)):[j0(t)]}function Df(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ev(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function tv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function At(t){if(t==null)throw new Error("ContentUnion is required");return Df(t)?t:{role:"user",parts:cx(t)}}function xd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=At(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const o=At(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>At(o)):[At(e)]}function fn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ev(t)||tv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(t)]}const e=[],o=[],s=Df(t[0]);for(const l of t){const u=Df(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(ev(l)||tv(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:cx(o)}),e}function h1(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(Ft).includes(o[0].toUpperCase())?o[0].toUpperCase():Ft.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(Ft).includes(s.toUpperCase())?s.toUpperCase():Ft.TYPE_UNSPECIFIED})}}function ls(t){const e={},o=["items"],s=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&h1(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Ft).includes(h.toUpperCase())?h.toUpperCase():Ft.TYPE_UNSPECIFIED}else if(o.includes(c))e[c]=ls(h);else if(s.includes(c)){const m=[];for(const d of h){if(d.type=="null"){e.nullable=!0;continue}m.push(ls(d))}e[c]=m}else if(l.includes(c)){const m={};for(const[d,v]of Object.entries(h))m[d]=ls(v);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Sd(t){return ls(t)}function Ed(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Cd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function gs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ls(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ls(e.response));return t}function ys(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function m1(t,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function $n(t,e){if(typeof e!="string")throw new Error("name must be a string");return m1(t,e,"cachedContents")}function fx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ni(t){return Td(t)}function p1(t){return t!=null&&typeof t=="object"&&"name"in t}function g1(t){return t!=null&&typeof t=="object"&&"video"in t}function y1(t){return t!=null&&typeof t=="object"&&"uri"in t}function dx(t){var e;let o;if(p1(t)&&(o=t.name),!(y1(t)&&(o=t.uri,o===void 0))&&!(g1(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function hx(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function mx(t){for(const e of["models","tunedModels","publisherModels"])if(v1(t,e))return t[e];return[]}function v1(t,e){return t!==null&&typeof t=="object"&&e in t}function T1(t,e={}){const o=t,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function x1(t,e={}){const o=[],s=new Set;for(const l of t){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const c=T1(l,e);c.functionDeclarations&&o.push(...c.functionDeclarations)}return{functionDeclarations:o}}function px(t,e){let o;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function S1(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gx(t){if(typeof t!="object"||t===null)return{};const e=t,o=e.inlinedResponses;if(typeof o!="object"||o===null)return t;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let u=!1;for(const c of l){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vs(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function yx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}

function E1(t){const e={},o=f(t,["responsesFile"]);o!=null&&p(e,["fileName"],o);const s=f(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>j1(c))),p(e,["inlinedResponses"],u)}const l=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["inlinedEmbedContentResponses"],u)}return e}function C1(t){const e={},o=f(t,["predictionsFormat"]);o!=null&&p(e,["format"],o);const s=f(t,["gcsDestination","outputUriPrefix"]);s!=null&&p(e,["gcsUri"],s);const l=f(t,["bigqueryDestination","outputUri"]);return l!=null&&p(e,["bigqueryUri"],l),e}function A1(t){const e={},o=f(t,["format"]);o!=null&&p(e,["predictionsFormat"],o);const s=f(t,["gcsUri"]);s!=null&&p(e,["gcsDestination","outputUriPrefix"],s);const l=f(t,["bigqueryUri"]);if(l!=null&&p(e,["bigqueryDestination","outputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nr(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["metadata","displayName"]);s!=null&&p(e,["displayName"],s);const l=f(t,["metadata","state"]);l!=null&&p(e,["state"],yx(l));const u=f(t,["metadata","createTime"]);u!=null&&p(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&p(e,["endTime"],c);const h=f(t,["metadata","updateTime"]);h!=null&&p(e,["updateTime"],h);const m=f(t,["metadata","model"]);m!=null&&p(e,["model"],m);const d=f(t,["metadata","output"]);return d!=null&&p(e,["dest"],E1(gx(d))),e}function If(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["displayName"]);s!=null&&p(e,["displayName"],s);const l=f(t,["state"]);l!=null&&p(e,["state"],yx(l));const u=f(t,["error"]);u!=null&&p(e,["error"],u);const c=f(t,["createTime"]);c!=null&&p(e,["createTime"],c);const h=f(t,["startTime"]);h!=null&&p(e,["startTime"],h);const m=f(t,["endTime"]);m!=null&&p(e,["endTime"],m);const d=f(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const v=f(t,["model"]);v!=null&&p(e,["model"],v);const T=f(t,["inputConfig"]);T!=null&&p(e,["src"],w1(T));const x=f(t,["outputConfig"]);return x!=null&&p(e,["dest"],C1(gx(x))),e}function w1(t){const e={},o=f(t,["instancesFormat"]);o!=null&&p(e,["format"],o);const s=f(t,["gcsSource","uris"]);s!=null&&p(e,["gcsUri"],s);const l=f(t,["bigquerySource","inputUri"]);return l!=null&&p(e,["bigqueryUri"],l),e}function _1(t,e){const o={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&p(o,["fileName"],s);const l=f(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>W1(t,c))),p(o,["requests","requests"],u)}return o}function b1(t){const e={},o=f(t,["format"]);o!=null&&p(e,["instancesFormat"],o);const s=f(t,["gcsUri"]);s!=null&&p(e,["gcsSource","uris"],s);const l=f(t,["bigqueryUri"]);if(l!=null&&p(e,["bigquerySource","inputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function M1(t){const e={},o=f(t,["data"]);if(o!=null&&p(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function R1(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],vs(t,s)),o}function N1(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],vs(t,s)),o}function D1(t){const e={},o=f(t,["content"]);o!=null&&p(e,["content"],o);const s=f(t,["citationMetadata"]);s!=null&&p(e,["citationMetadata"],I1(s));const l=f(t,["tokenCount"]);l!=null&&p(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&p(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&p(e,["groundingMetadata"],h);const m=f(t,["index"]);m!=null&&p(e,["index"],m);const d=f(t,["logprobsResult"]);d!=null&&p(e,["logprobsResult"],d);const v=f(t,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(C=>C)),p(e,["safetyRatings"],x)}const T=f(t,["urlContextMetadata"]);return T!=null&&p(e,["urlContextMetadata"],T),e}function I1(t){const e={},o=f(t,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["citations"],s)}return e}function vx(t){const e={},o=f(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>aM(u))),p(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function U1(t,e){const o={},s=f(t,["displayName"]);if(e!==void 0&&s!=null&&p(e,["batch","displayName"],s),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function P1(t,e){const o={},s=f(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const l=f(t,["dest"]);return e!==void 0&&l!=null&&p(e,["outputConfig"],A1(S1(l))),o}function nv(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["src"]);l!=null&&p(o,["batch","inputConfig"],_1(t,px(t,l)));const u=f(e,["config"]);return u!=null&&U1(u,o),o}function L1(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["model"],Ne(t,s));const l=f(e,["src"]);l!=null&&p(o,["inputConfig"],b1(px(t,l)));const u=f(e,["config"]);return u!=null&&P1(u,o),o}function V1(t,e){const o={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&p(e,["batch","displayName"],s),o}function k1(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["src"]);l!=null&&p(o,["batch","inputConfig"],F1(t,l));const u=f(e,["config"]);return u!=null&&V1(u,o),o}function B1(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],vs(t,s)),o}function G1(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],vs(t,s)),o}function H1(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const l=f(t,["done"]);l!=null&&p(e,["done"],l);const u=f(t,["error"]);return u!=null&&p(e,["error"],u),e}function q1(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const l=f(t,["done"]);l!=null&&p(e,["done"],l);const u=f(t,["error"]);return u!=null&&p(e,["error"],u),e}function z1(t,e){const o={},s=f(e,["contents"]);if(s!=null){let u=xd(t,s);Array.isArray(u)&&(u=u.map(c=>c)),p(o,["requests[]","request","content"],u)}const l=f(e,["config"]);return l!=null&&(p(o,["_self"],O1(l,o)),Yb(o,{"requests[].*":"requests[].request.*"})),o}function O1(t,e){const o={},s=f(t,["taskType"]);e!==void 0&&s!=null&&p(e,["requests[]","taskType"],s);const l=f(t,["title"]);e!==void 0&&l!=null&&p(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&p(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function F1(t,e){const o={},s=f(e,["fileName"]);s!=null&&p(o,["file_name"],s);const l=f(e,["inlinedRequests"]);return l!=null&&p(o,["requests"],z1(t,l)),o}function Y1(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&p(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function J1(t,e,o){const s={},l=f(e,["systemInstruction"]);o!==void 0&&l!=null&&p(o,["systemInstruction"],vx(At(l)));const u=f(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&p(s,["topP"],c);const h=f(e,["topK"]);h!=null&&p(s,["topK"],h);const m=f(e,["candidateCount"]);m!=null&&p(s,["candidateCount"],m);const d=f(e,["maxOutputTokens"]);d!=null&&p(s,["maxOutputTokens"],d);const v=f(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&p(s,["responseLogprobs"],T);const x=f(e,["logprobs"]);x!=null&&p(s,["logprobs"],x);const C=f(e,["presencePenalty"]);C!=null&&p(s,["presencePenalty"],C);const w=f(e,["frequencyPenalty"]);w!=null&&p(s,["frequencyPenalty"],w);const _=f(e,["seed"]);_!=null&&p(s,["seed"],_);const R=f(e,["responseMimeType"]);R!=null&&p(s,["responseMimeType"],R);const D=f(e,["responseSchema"]);D!=null&&p(s,["responseSchema"],Sd(D));const V=f(e,["responseJsonSchema"]);if(V!=null&&p(s,["responseJsonSchema"],V),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(o!==void 0&&P!=null){let le=P;Array.isArray(le)&&(le=le.map(ye=>lM(ye))),p(o,["safetySettings"],le)}const k=f(e,["tools"]);if(o!==void 0&&k!=null){let le=ys(k);Array.isArray(le)&&(le=le.map(ye=>rM(gs(ye)))),p(o,["tools"],le)}const U=f(e,["toolConfig"]);if(o!==void 0&&U!=null&&p(o,["toolConfig"],U),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=f(e,["cachedContent"]);o!==void 0&&J!=null&&p(o,["cachedContent"],$n(t,J));const B=f(e,["responseModalities"]);B!=null&&p(s,["responseModalities"],B);const $=f(e,["mediaResolution"]);$!=null&&p(s,["mediaResolution"],$);const j=f(e,["speechConfig"]);if(j!=null&&p(s,["speechConfig"],Ed(j)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=f(e,["thinkingConfig"]);te!=null&&p(s,["thinkingConfig"],te);const he=f(e,["imageConfig"]);return he!=null&&p(s,["imageConfig"],he),s}function K1(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(d=>D1(d))),p(e,["candidates"],m)}const l=f(t,["modelVersion"]);l!=null&&p(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&p(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function X1(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],vs(t,s)),o}function Q1(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],vs(t,s)),o}function Z1(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function $1(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function W1(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["request","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let h=fn(l);Array.isArray(h)&&(h=h.map(m=>vx(m))),p(o,["request","contents"],h)}const u=f(e,["metadata"]);u!=null&&p(o,["metadata"],u);const c=f(e,["config"]);return c!=null&&p(o,["request","generationConfig"],J1(t,c,f(o,["request"],{}))),o}function j1(t){const e={},o=f(t,["response"]);o!=null&&p(e,["response"],K1(o));const s=f(t,["error"]);return s!=null&&p(e,["error"],s),e}function eM(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);if(e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function tM(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),o}function nM(t){const e={},o=f(t,["config"]);return o!=null&&eM(o,e),e}function iM(t){const e={},o=f(t,["config"]);return o!=null&&tM(o,e),e}function oM(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>nr(c))),p(e,["batchJobs"],u)}return e}function sM(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>If(c))),p(e,["batchJobs"],u)}return e}function aM(t){const e={},o=f(t,["functionCall"]);o!=null&&p(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&p(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&p(e,["fileData"],Y1(u));const c=f(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],M1(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const d=f(t,["thought"]);d!=null&&p(e,["thought"],d);const v=f(t,["thoughtSignature"]);v!=null&&p(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&p(e,["videoMetadata"],T),e}function lM(t){const e={},o=f(t,["category"]);if(o!=null&&p(e,["category"],o),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function rM(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(v=>v)),p(e,["functionDeclarations"],d)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],Z1(l));const u=f(t,["computerUse"]);u!=null&&p(e,["computerUse"],u);const c=f(t,["codeExecution"]);if(c!=null&&p(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],$1(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}

var so;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_RAG_STORES="ragStores",t.PAGED_ITEM_DOCUMENTS="documents"})(so||(so={}));class La{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=o.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}

class uM extends lo{constructor(e){super(),this.apiClient=e,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new La(so.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=nv(this.apiClient,e),s=o._url,l=ae("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,m=h.requests,d=[];for(const v of m){const T=Object.assign({},v);if(T.systemInstruction){const x=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=x,T.request=C}d.push(T)}return h.requests=d,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(c)s.dest=`${c}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=L1(this.apiClient,e);return h=ae("batchPredictionJobs",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>If(v))}else{const d=nv(this.apiClient,e);return h=ae("{model}:batchGenerateContent",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>nr(v))}}async createEmbeddingsInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=k1(this.apiClient,e);return u=ae("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>nr(m))}}async get(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=Q1(this.apiClient,e);return h=ae("batchPredictionJobs/{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>If(v))}else{const d=X1(this.apiClient,e);return h=ae("batches/{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>nr(v))}}async cancel(e){var o,s,l,u;let c="",h={};if(this.apiClient.isVertexAI()){const m=N1(this.apiClient,e);c=ae("batchPredictionJobs/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const m=R1(this.apiClient,e);c=ae("batches/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=iM(e);return h=ae("batchPredictionJobs",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=sM(v),x=new W0;return Object.assign(x,T),x})}else{const d=nM(e);return h=ae("batches",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=oM(v),x=new W0;return Object.assign(x,T),x})}}async delete(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=G1(this.apiClient,e);return h=ae("batchPredictionJobs/{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>q1(v))}else{const d=B1(this.apiClient,e);return h=ae("batches/{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>H1(v))}}}

function cM(t){const e={},o=f(t,["data"]);if(o!=null&&p(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function iv(t){const e={},o=f(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>DM(u))),p(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function fM(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&p(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&p(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let v=fn(c);Array.isArray(v)&&(v=v.map(T=>iv(T))),p(e,["contents"],v)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&p(e,["systemInstruction"],iv(At(h)));const m=f(t,["tools"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(T=>IM(T))),p(e,["tools"],v)}const d=f(t,["toolConfig"]);if(e!==void 0&&d!=null&&p(e,["toolConfig"],d),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function dM(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&p(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&p(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=fn(c);Array.isArray(T)&&(T=T.map(x=>x)),p(e,["contents"],T)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&p(e,["systemInstruction"],At(h));const m=f(t,["tools"]);if(e!==void 0&&m!=null){let T=m;Array.isArray(T)&&(T=T.map(x=>UM(x))),p(e,["tools"],T)}const d=f(t,["toolConfig"]);e!==void 0&&d!=null&&p(e,["toolConfig"],d);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&p(e,["encryption_spec","kmsKeyName"],v),o}function hM(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["model"],ax(t,s));const l=f(e,["config"]);return l!=null&&fM(l,o),o}function mM(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["model"],ax(t,s));const l=f(e,["config"]);return l!=null&&dM(l,o),o}function pM(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],$n(t,s)),o}function gM(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],$n(t,s)),o}function yM(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function vM(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function TM(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&p(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function xM(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(t,["description"]);o!=null&&p(e,["description"],o);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const l=f(t,["parameters"]);l!=null&&p(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&p(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function SM(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],$n(t,s)),o}function EM(t,e){const o={},s=f(e,["name"]);return s!=null&&p(o,["_url","name"],$n(t,s)),o}function CM(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function AM(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function wM(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function _M(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function bM(t){const e={},o=f(t,["config"]);return o!=null&&wM(o,e),e}function MM(t){const e={},o=f(t,["config"]);return o!=null&&_M(o,e),e}function RM(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["cachedContents"],u)}return e}function NM(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["cachedContents"],u)}return e}function DM(t){const e={},o=f(t,["functionCall"]);o!=null&&p(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&p(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&p(e,["fileData"],TM(u));const c=f(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],cM(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const d=f(t,["thought"]);d!=null&&p(e,["thought"],d);const v=f(t,["thoughtSignature"]);v!=null&&p(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&p(e,["videoMetadata"],T),e}function IM(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(v=>v)),p(e,["functionDeclarations"],d)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],CM(l));const u=f(t,["computerUse"]);u!=null&&p(e,["computerUse"],u);const c=f(t,["codeExecution"]);if(c!=null&&p(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],AM(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function UM(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>xM(x))),p(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&p(e,["retrieval"],s);const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],u);const c=f(t,["computerUse"]);c!=null&&p(e,["computerUse"],c);const h=f(t,["codeExecution"]);h!=null&&p(e,["codeExecution"],h);const m=f(t,["enterpriseWebSearch"]);m!=null&&p(e,["enterpriseWebSearch"],m);const d=f(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],d);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function PM(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&p(e,["expireTime"],l),o}function LM(t,e){const o={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&p(e,["expireTime"],l),o}function VM(t,e){const o={},s=f(e,["name"]);s!=null&&p(o,["_url","name"],$n(t,s));const l=f(e,["config"]);return l!=null&&PM(l,o),o}function kM(t,e){const o={},s=f(e,["name"]);s!=null&&p(o,["_url","name"],$n(t,s));const l=f(e,["config"]);return l!=null&&LM(l,o),o}

class BM extends lo{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new La(so.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=mM(this.apiClient,e);return h=ae("cachedContents",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const d=hM(this.apiClient,e);return h=ae("cachedContents",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=EM(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const d=SM(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=gM(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=vM(v),x=new Z0;return Object.assign(x,T),x})}else{const d=pM(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=yM(v),x=new Z0;return Object.assign(x,T),x})}}async update(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=kM(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const d=VM(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=MM(e);return h=ae("cachedContents",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=NM(v),x=new $0;return Object.assign(x,T),x})}else{const d=bM(e);return h=ae("cachedContents",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=RM(v),x=new $0;return Object.assign(x,T),x})}}}function ov(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],s=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function rs(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(t,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(w){return Promise.resolve(w).then(C,T)}}function h(C,w){s[C]&&(l[C]=function(_){return new Promise(function(R,D){u.push([C,_,R,D])>1||m(C,_)})},w&&(l[C]=w(l[C])))}function m(C,w){try{d(s[C](w))}catch(_){x(u[0][3],_)}}function d(C){C.value instanceof Ye?Promise.resolve(C.value.v).then(v,T):x(u[0][2],C)}function v(C){m("next",C)}function T(C){m("throw",C)}function x(C,w){C(w),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Ca(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof ov=="function"?ov(t):t[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=t[u]&&function(c){return new Promise(function(h,m){c=t[u](c),l(h,m,c.done,c.value)})}}function l(u,c,h,m){Promise.resolve(m).then(function(d){u({value:d,done:h})},c)}}

function GM(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Tx(o)}function Tx(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function HM(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function sv(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let s=0;for(;s<o;)if(t[s].role==="user")e.push(t[s]),s++;else{const l=[];let u=!0;for(;s<o&&t[s].role==="model";)l.push(t[s]),u&&!Tx(t[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class qM{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new zM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zM{constructor(e,o,s,l={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),HM(u)}async sendMessage(e){var o;await this.sendPromise;const s=At(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,c,h;const m=await l,d=(c=(u=m.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,v=m.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let x=[];v!=null&&(x=(h=v.slice(T))!==null&&h!==void 0?h:[]);const C=d?[d]:[];this.recordHistory(s,C,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=At(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?sv(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var s,l;return rs(this,arguments,function*(){var c,h,m,d;const v=[];try{for(var T=!0,x=Ca(e),C;C=yield Ye(x.next()),c=C.done,!c;T=!0){d=C.value,T=!1;const w=d;if(GM(w)){const _=(l=(s=w.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;_!==void 0&&v.push(_)}yield yield Ye(w)}}catch(w){h={error:w}}finally{try{!T&&!c&&(m=x.return)&&(yield Ye(m.call(x)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(u=>u.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...sv(s)):this.history.push(e),this.history.push(...l)}}

class Cr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Cr.prototype)}}

function OM(t){const e={},o=f(t,["file"]);return o!=null&&p(e,["file"],o),e}function FM(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function YM(t){const e={},o=f(t,["name"]);return o!=null&&p(e,["_url","file"],dx(o)),e}function JM(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function KM(t){const e={},o=f(t,["name"]);return o!=null&&p(e,["_url","file"],dx(o)),e}function XM(t,e){const o={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function QM(t){const e={},o=f(t,["config"]);return o!=null&&XM(o,e),e}function ZM(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["files"],u)}return e}

class $M extends lo{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new La(so.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QM(e);return u=ae("files",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const d=ZM(m),v=new r1;return Object.assign(v,d),v})}}async createInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OM(e);return u=ae("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>{const d=FM(m),v=new u1;return Object.assign(v,d),v})}}async get(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KM(e);return u=ae("files/{file}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YM(e);return u=ae("files/{file}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const d=JM(m),v=new c1;return Object.assign(v,d),v})}}}

function ir(t){const e={},o=f(t,["data"]);if(o!=null&&p(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function WM(t){const e={},o=f(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>hR(u))),p(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function jM(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&p(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function eR(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(t,["description"]);o!=null&&p(e,["description"],o);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const l=f(t,["parameters"]);l!=null&&p(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&p(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function tR(t){const e={},o=f(t,["modelSelectionConfig"]);o!=null&&p(e,["modelConfig"],o);const s=f(t,["audioTimestamp"]);s!=null&&p(e,["audioTimestamp"],s);const l=f(t,["candidateCount"]);l!=null&&p(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const c=f(t,["frequencyPenalty"]);c!=null&&p(e,["frequencyPenalty"],c);const h=f(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=f(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const d=f(t,["mediaResolution"]);d!=null&&p(e,["mediaResolution"],d);const v=f(t,["presencePenalty"]);v!=null&&p(e,["presencePenalty"],v);const T=f(t,["responseJsonSchema"]);T!=null&&p(e,["responseJsonSchema"],T);const x=f(t,["responseLogprobs"]);x!=null&&p(e,["responseLogprobs"],x);const C=f(t,["responseMimeType"]);C!=null&&p(e,["responseMimeType"],C);const w=f(t,["responseModalities"]);w!=null&&p(e,["responseModalities"],w);const _=f(t,["responseSchema"]);_!=null&&p(e,["responseSchema"],_);const R=f(t,["routingConfig"]);R!=null&&p(e,["routingConfig"],R);const D=f(t,["seed"]);D!=null&&p(e,["seed"],D);const V=f(t,["speechConfig"]);V!=null&&p(e,["speechConfig"],xx(V));const P=f(t,["stopSequences"]);P!=null&&p(e,["stopSequences"],P);const k=f(t,["temperature"]);k!=null&&p(e,["temperature"],k);const U=f(t,["thinkingConfig"]);U!=null&&p(e,["thinkingConfig"],U);const J=f(t,["topK"]);J!=null&&p(e,["topK"],J);const B=f(t,["topP"]);if(B!=null&&p(e,["topP"],B),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nR(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function iR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function oR(t,e){const o={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],s);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","topK"],h);const m=f(t,["maxOutputTokens"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","maxOutputTokens"],m);const d=f(t,["mediaResolution"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","mediaResolution"],d);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","speechConfig"],Cd(T));const x=f(t,["thinkingConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","thinkingConfig"],x);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],C);const w=f(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],WM(At(w)));const _=f(t,["tools"]);if(e!==void 0&&_!=null){let J=ys(_);Array.isArray(J)&&(J=J.map(B=>pR(gs(B)))),p(e,["setup","tools"],J)}const R=f(t,["sessionResumption"]);e!==void 0&&R!=null&&p(e,["setup","sessionResumption"],mR(R));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],D);const V=f(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&p(e,["setup","outputAudioTranscription"],V);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&p(e,["setup","realtimeInputConfig"],P);const k=f(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],k);const U=f(t,["proactivity"]);return e!==void 0&&U!=null&&p(e,["setup","proactivity"],U),o}function sR(t,e){const o={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],tR(s));const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","topK"],h);const m=f(t,["maxOutputTokens"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","maxOutputTokens"],m);const d=f(t,["mediaResolution"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","mediaResolution"],d);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","speechConfig"],xx(Cd(T)));const x=f(t,["thinkingConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","thinkingConfig"],x);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],C);const w=f(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],At(w));const _=f(t,["tools"]);if(e!==void 0&&_!=null){let J=ys(_);Array.isArray(J)&&(J=J.map(B=>gR(gs(B)))),p(e,["setup","tools"],J)}const R=f(t,["sessionResumption"]);e!==void 0&&R!=null&&p(e,["setup","sessionResumption"],R);const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],D);const V=f(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&p(e,["setup","outputAudioTranscription"],V);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&p(e,["setup","realtimeInputConfig"],P);const k=f(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],k);const U=f(t,["proactivity"]);return e!==void 0&&U!=null&&p(e,["setup","proactivity"],U),o}function aR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["setup","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&p(o,["config"],oR(l,o)),o}function lR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["setup","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&p(o,["config"],sR(l,o)),o}function rR(t){const e={},o=f(t,["musicGenerationConfig"]);return o!=null&&p(e,["musicGenerationConfig"],o),e}function uR(t){const e={},o=f(t,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["weightedPrompts"],s)}return e}function cR(t){const e={},o=f(t,["media"]);if(o!=null){let d=lx(o);Array.isArray(d)&&(d=d.map(v=>ir(v))),p(e,["mediaChunks"],d)}const s=f(t,["audio"]);s!=null&&p(e,["audio"],ir(ux(s)));const l=f(t,["audioStreamEnd"]);l!=null&&p(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&p(e,["video"],ir(rx(u)));const c=f(t,["text"]);c!=null&&p(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&p(e,["activityStart"],h);const m=f(t,["activityEnd"]);return m!=null&&p(e,["activityEnd"],m),e}function fR(t){const e={},o=f(t,["media"]);if(o!=null){let d=lx(o);Array.isArray(d)&&(d=d.map(v=>v)),p(e,["mediaChunks"],d)}const s=f(t,["audio"]);s!=null&&p(e,["audio"],ux(s));const l=f(t,["audioStreamEnd"]);l!=null&&p(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&p(e,["video"],rx(u));const c=f(t,["text"]);c!=null&&p(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&p(e,["activityStart"],h);const m=f(t,["activityEnd"]);return m!=null&&p(e,["activityEnd"],m),e}function dR(t){const e={},o=f(t,["setupComplete"]);o!=null&&p(e,["setupComplete"],o);const s=f(t,["serverContent"]);s!=null&&p(e,["serverContent"],s);const l=f(t,["toolCall"]);l!=null&&p(e,["toolCall"],l);const u=f(t,["toolCallCancellation"]);u!=null&&p(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&p(e,["usageMetadata"],yR(c));const h=f(t,["goAway"]);h!=null&&p(e,["goAway"],h);const m=f(t,["sessionResumptionUpdate"]);return m!=null&&p(e,["sessionResumptionUpdate"],m),e}function hR(t){const e={},o=f(t,["functionCall"]);o!=null&&p(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&p(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&p(e,["fileData"],jM(u));const c=f(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],ir(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const d=f(t,["thought"]);d!=null&&p(e,["thought"],d);const v=f(t,["thoughtSignature"]);v!=null&&p(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&p(e,["videoMetadata"],T),e}function mR(t){const e={},o=f(t,["handle"]);if(o!=null&&p(e,["handle"],o),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xx(t){const e={},o=f(t,["languageCode"]);o!=null&&p(e,["languageCode"],o);const s=f(t,["voiceConfig"]);if(s!=null&&p(e,["voiceConfig"],s),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pR(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(v=>v)),p(e,["functionDeclarations"],d)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],nR(l));const u=f(t,["computerUse"]);u!=null&&p(e,["computerUse"],u);const c=f(t,["codeExecution"]);if(c!=null&&p(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],iR(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function gR(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>eR(x))),p(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&p(e,["retrieval"],s);const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],u);const c=f(t,["computerUse"]);c!=null&&p(e,["computerUse"],c);const h=f(t,["codeExecution"]);h!=null&&p(e,["codeExecution"],h);const m=f(t,["enterpriseWebSearch"]);m!=null&&p(e,["enterpriseWebSearch"],m);const d=f(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],d);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function yR(t){const e={},o=f(t,["promptTokenCount"]);o!=null&&p(e,["promptTokenCount"],o);const s=f(t,["cachedContentTokenCount"]);s!=null&&p(e,["cachedContentTokenCount"],s);const l=f(t,["candidatesTokenCount"]);l!=null&&p(e,["responseTokenCount"],l);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&p(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&p(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&p(e,["totalTokenCount"],h);const m=f(t,["promptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(w=>w)),p(e,["promptTokensDetails"],C)}const d=f(t,["cacheTokensDetails"]);if(d!=null){let C=d;Array.isArray(C)&&(C=C.map(w=>w)),p(e,["cacheTokensDetails"],C)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),p(e,["responseTokensDetails"],C)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>w)),p(e,["toolUsePromptTokensDetails"],C)}const x=f(t,["trafficType"]);return x!=null&&p(e,["trafficType"],x),e}

function vR(t){const e={},o=f(t,["data"]);if(o!=null&&p(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function TR(t){const e={},o=f(t,["content"]);o!=null&&p(e,["content"],o);const s=f(t,["citationMetadata"]);s!=null&&p(e,["citationMetadata"],xR(s));const l=f(t,["tokenCount"]);l!=null&&p(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&p(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&p(e,["groundingMetadata"],h);const m=f(t,["index"]);m!=null&&p(e,["index"],m);const d=f(t,["logprobsResult"]);d!=null&&p(e,["logprobsResult"],d);const v=f(t,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(C=>C)),p(e,["safetyRatings"],x)}const T=f(t,["urlContextMetadata"]);return T!=null&&p(e,["urlContextMetadata"],T),e}function xR(t){const e={},o=f(t,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["citations"],s)}return e}function SR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let u=fn(l);Array.isArray(u)&&(u=u.map(c=>c)),p(o,["contents"],u)}return o}function ER(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["tokensInfo"],l)}return e}function CR(t){const e={},o=f(t,["values"]);o!=null&&p(e,["values"],o);const s=f(t,["statistics"]);return s!=null&&p(e,["statistics"],AR(s)),e}function AR(t){const e={},o=f(t,["truncated"]);o!=null&&p(e,["truncated"],o);const s=f(t,["token_count"]);return s!=null&&p(e,["tokenCount"],s),e}function Ar(t){const e={},o=f(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>RN(u))),p(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function wR(t){const e={},o=f(t,["controlType"]);o!=null&&p(e,["controlType"],o);const s=f(t,["enableControlImageComputation"]);return s!=null&&p(e,["computeControl"],s),e}function _R(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function bR(t,e){const o={},s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],At(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>wx(h))),p(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&p(e,["generationConfig"],gN(u)),o}function MR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=fn(l);Array.isArray(c)&&(c=c.map(h=>Ar(h))),p(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&_R(u),o}function RR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=fn(l);Array.isArray(c)&&(c=c.map(h=>h)),p(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&bR(u,o),o}function NR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["totalTokens"]);s!=null&&p(e,["totalTokens"],s);const l=f(t,["cachedContentTokenCount"]);return l!=null&&p(e,["cachedContentTokenCount"],l),e}function DR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["totalTokens"]);return s!=null&&p(e,["totalTokens"],s),e}function IR(t,e){const o={},s=f(e,["model"]);return s!=null&&p(o,["_url","name"],Ne(t,s)),o}function UR(t,e){const o={},s=f(e,["model"]);return s!=null&&p(o,["_url","name"],Ne(t,s)),o}function PR(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function LR(t){const e={},o=f(t,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function VR(t,e){const o={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&p(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&p(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&p(e,["parameters","guidanceScale"],h);const m=f(t,["seed"]);e!==void 0&&m!=null&&p(e,["parameters","seed"],m);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&p(e,["parameters","safetySetting"],d);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&p(e,["parameters","includeSafetyAttributes"],T);const x=f(t,["includeRaiReason"]);e!==void 0&&x!=null&&p(e,["parameters","includeRaiReason"],x);const C=f(t,["language"]);e!==void 0&&C!=null&&p(e,["parameters","language"],C);const w=f(t,["outputMimeType"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","mimeType"],w);const _=f(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","compressionQuality"],_);const R=f(t,["addWatermark"]);e!==void 0&&R!=null&&p(e,["parameters","addWatermark"],R);const D=f(t,["labels"]);e!==void 0&&D!=null&&p(e,["labels"],D);const V=f(t,["editMode"]);e!==void 0&&V!=null&&p(e,["parameters","editMode"],V);const P=f(t,["baseSteps"]);return e!==void 0&&P!=null&&p(e,["parameters","editConfig","baseSteps"],P),o}function kR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const u=f(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>LN(m))),p(o,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&VR(c,o),o}function BR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>wr(u))),p(e,["generatedImages"],l)}return e}function GR(t,e){const o={},s=f(t,["taskType"]);e!==void 0&&s!=null&&p(e,["requests[]","taskType"],s);const l=f(t,["title"]);e!==void 0&&l!=null&&p(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&p(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function HR(t,e){const o={},s=f(t,["taskType"]);e!==void 0&&s!=null&&p(e,["instances[]","task_type"],s);const l=f(t,["title"]);e!==void 0&&l!=null&&p(e,["instances[]","title"],l);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&p(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&p(e,["instances[]","mimeType"],c);const h=f(t,["autoTruncate"]);return e!==void 0&&h!=null&&p(e,["parameters","autoTruncate"],h),o}function qR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let h=xd(t,l);Array.isArray(h)&&(h=h.map(m=>m)),p(o,["requests[]","content"],h)}const u=f(e,["config"]);u!=null&&GR(u,o);const c=f(e,["model"]);return c!==void 0&&p(o,["requests[]","model"],Ne(t,c)),o}function zR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=xd(t,l);Array.isArray(c)&&(c=c.map(h=>h)),p(o,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&HR(u,o),o}function OR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&p(e,["metadata"],l),e}function FR(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>CR(c))),p(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&p(e,["metadata"],l),e}function YR(t){const e={},o=f(t,["endpoint"]);o!=null&&p(e,["name"],o);const s=f(t,["deployedModelId"]);return s!=null&&p(e,["deployedModelId"],s),e}function JR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&p(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function KR(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(t,["description"]);o!=null&&p(e,["description"],o);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const l=f(t,["parameters"]);l!=null&&p(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&p(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function XR(t,e,o){const s={},l=f(e,["systemInstruction"]);o!==void 0&&l!=null&&p(o,["systemInstruction"],Ar(At(l)));const u=f(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&p(s,["topP"],c);const h=f(e,["topK"]);h!=null&&p(s,["topK"],h);const m=f(e,["candidateCount"]);m!=null&&p(s,["candidateCount"],m);const d=f(e,["maxOutputTokens"]);d!=null&&p(s,["maxOutputTokens"],d);const v=f(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&p(s,["responseLogprobs"],T);const x=f(e,["logprobs"]);x!=null&&p(s,["logprobs"],x);const C=f(e,["presencePenalty"]);C!=null&&p(s,["presencePenalty"],C);const w=f(e,["frequencyPenalty"]);w!=null&&p(s,["frequencyPenalty"],w);const _=f(e,["seed"]);_!=null&&p(s,["seed"],_);const R=f(e,["responseMimeType"]);R!=null&&p(s,["responseMimeType"],R);const D=f(e,["responseSchema"]);D!=null&&p(s,["responseSchema"],Sd(D));const V=f(e,["responseJsonSchema"]);if(V!=null&&p(s,["responseJsonSchema"],V),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(o!==void 0&&P!=null){let le=P;Array.isArray(le)&&(le=le.map(ye=>VN(ye))),p(o,["safetySettings"],le)}const k=f(e,["tools"]);if(o!==void 0&&k!=null){let le=ys(k);Array.isArray(le)&&(le=le.map(ye=>zN(gs(ye)))),p(o,["tools"],le)}const U=f(e,["toolConfig"]);if(o!==void 0&&U!=null&&p(o,["toolConfig"],U),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=f(e,["cachedContent"]);o!==void 0&&J!=null&&p(o,["cachedContent"],$n(t,J));const B=f(e,["responseModalities"]);B!=null&&p(s,["responseModalities"],B);const $=f(e,["mediaResolution"]);$!=null&&p(s,["mediaResolution"],$);const j=f(e,["speechConfig"]);if(j!=null&&p(s,["speechConfig"],Ed(j)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=f(e,["thinkingConfig"]);te!=null&&p(s,["thinkingConfig"],te);const he=f(e,["imageConfig"]);return he!=null&&p(s,["imageConfig"],he),s}function QR(t,e,o){const s={},l=f(e,["systemInstruction"]);o!==void 0&&l!=null&&p(o,["systemInstruction"],At(l));const u=f(e,["temperature"]);u!=null&&p(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&p(s,["topP"],c);const h=f(e,["topK"]);h!=null&&p(s,["topK"],h);const m=f(e,["candidateCount"]);m!=null&&p(s,["candidateCount"],m);const d=f(e,["maxOutputTokens"]);d!=null&&p(s,["maxOutputTokens"],d);const v=f(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&p(s,["responseLogprobs"],T);const x=f(e,["logprobs"]);x!=null&&p(s,["logprobs"],x);const C=f(e,["presencePenalty"]);C!=null&&p(s,["presencePenalty"],C);const w=f(e,["frequencyPenalty"]);w!=null&&p(s,["frequencyPenalty"],w);const _=f(e,["seed"]);_!=null&&p(s,["seed"],_);const R=f(e,["responseMimeType"]);R!=null&&p(s,["responseMimeType"],R);const D=f(e,["responseSchema"]);D!=null&&p(s,["responseSchema"],Sd(D));const V=f(e,["responseJsonSchema"]);V!=null&&p(s,["responseJsonSchema"],V);const P=f(e,["routingConfig"]);P!=null&&p(s,["routingConfig"],P);const k=f(e,["modelSelectionConfig"]);k!=null&&p(s,["modelConfig"],k);const U=f(e,["safetySettings"]);if(o!==void 0&&U!=null){let O=U;Array.isArray(O)&&(O=O.map(W=>W)),p(o,["safetySettings"],O)}const J=f(e,["tools"]);if(o!==void 0&&J!=null){let O=ys(J);Array.isArray(O)&&(O=O.map(W=>wx(gs(W)))),p(o,["tools"],O)}const B=f(e,["toolConfig"]);o!==void 0&&B!=null&&p(o,["toolConfig"],B);const $=f(e,["labels"]);o!==void 0&&$!=null&&p(o,["labels"],$);const j=f(e,["cachedContent"]);o!==void 0&&j!=null&&p(o,["cachedContent"],$n(t,j));const te=f(e,["responseModalities"]);te!=null&&p(s,["responseModalities"],te);const he=f(e,["mediaResolution"]);he!=null&&p(s,["mediaResolution"],he);const le=f(e,["speechConfig"]);le!=null&&p(s,["speechConfig"],Ax(Ed(le)));const ye=f(e,["audioTimestamp"]);ye!=null&&p(s,["audioTimestamp"],ye);const ze=f(e,["thinkingConfig"]);ze!=null&&p(s,["thinkingConfig"],ze);const Qe=f(e,["imageConfig"]);return Qe!=null&&p(s,["imageConfig"],Qe),s}function av(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=fn(l);Array.isArray(c)&&(c=c.map(h=>Ar(h))),p(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&p(o,["generationConfig"],XR(t,u,o)),o}function lv(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=fn(l);Array.isArray(c)&&(c=c.map(h=>h)),p(o,["contents"],c)}const u=f(e,["config"]);return u!=null&&p(o,["generationConfig"],QR(t,u,o)),o}function rv(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(d=>TR(d))),p(e,["candidates"],m)}const l=f(t,["modelVersion"]);l!=null&&p(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&p(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function uv(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["candidates"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(v=>v)),p(e,["candidates"],d)}const l=f(t,["createTime"]);l!=null&&p(e,["createTime"],l);const u=f(t,["modelVersion"]);u!=null&&p(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&p(e,["promptFeedback"],c);const h=f(t,["responseId"]);h!=null&&p(e,["responseId"],h);const m=f(t,["usageMetadata"]);return m!=null&&p(e,["usageMetadata"],m),e}function ZR(t,e){const o={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&p(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const m=f(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&p(e,["parameters","includeSafetyAttributes"],m);const d=f(t,["includeRaiReason"]);e!==void 0&&d!=null&&p(e,["parameters","includeRaiReason"],d);const v=f(t,["language"]);e!==void 0&&v!=null&&p(e,["parameters","language"],v);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","mimeType"],T);const x=f(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&p(e,["parameters","outputOptions","compressionQuality"],x),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=f(t,["imageSize"]);if(e!==void 0&&C!=null&&p(e,["parameters","sampleImageSize"],C),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function $R(t,e){const o={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&p(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&p(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&p(e,["parameters","guidanceScale"],h);const m=f(t,["seed"]);e!==void 0&&m!=null&&p(e,["parameters","seed"],m);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&p(e,["parameters","safetySetting"],d);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&p(e,["parameters","includeSafetyAttributes"],T);const x=f(t,["includeRaiReason"]);e!==void 0&&x!=null&&p(e,["parameters","includeRaiReason"],x);const C=f(t,["language"]);e!==void 0&&C!=null&&p(e,["parameters","language"],C);const w=f(t,["outputMimeType"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","mimeType"],w);const _=f(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","compressionQuality"],_);const R=f(t,["addWatermark"]);e!==void 0&&R!=null&&p(e,["parameters","addWatermark"],R);const D=f(t,["labels"]);e!==void 0&&D!=null&&p(e,["labels"],D);const V=f(t,["imageSize"]);e!==void 0&&V!=null&&p(e,["parameters","sampleImageSize"],V);const P=f(t,["enhancePrompt"]);return e!==void 0&&P!=null&&p(e,["parameters","enhancePrompt"],P),o}function WR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&ZR(u,o),o}function jR(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&$R(u,o),o}function eN(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>dN(c))),p(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&p(e,["positivePromptSafetyAttributes"],Ex(l)),e}function tN(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>wr(c))),p(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&p(e,["positivePromptSafetyAttributes"],Cx(l)),e}function nN(t,e){const o={},s=f(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=f(t,["durationSeconds"]);if(e!==void 0&&l!=null&&p(e,["parameters","durationSeconds"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&p(e,["parameters","resolution"],c);const h=f(t,["personGeneration"]);if(e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=f(t,["negativePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","negativePrompt"],m);const d=f(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&p(e,["parameters","enhancePrompt"],d),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&p(e,["instances[0]","lastFrame"],_r(v));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let x=T;Array.isArray(x)&&(x=x.map(C=>t2(C))),p(e,["instances[0]","referenceImages"],x)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function iN(t,e){const o={},s=f(t,["numberOfVideos"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&p(e,["parameters","storageUri"],l);const u=f(t,["fps"]);e!==void 0&&u!=null&&p(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&p(e,["parameters","durationSeconds"],c);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["aspectRatio"]);e!==void 0&&m!=null&&p(e,["parameters","aspectRatio"],m);const d=f(t,["resolution"]);e!==void 0&&d!=null&&p(e,["parameters","resolution"],d);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&p(e,["parameters","pubsubTopic"],T);const x=f(t,["negativePrompt"]);e!==void 0&&x!=null&&p(e,["parameters","negativePrompt"],x);const C=f(t,["enhancePrompt"]);e!==void 0&&C!=null&&p(e,["parameters","enhancePrompt"],C);const w=f(t,["generateAudio"]);e!==void 0&&w!=null&&p(e,["parameters","generateAudio"],w);const _=f(t,["lastFrame"]);e!==void 0&&_!=null&&p(e,["instances[0]","lastFrame"],Tn(_));const R=f(t,["referenceImages"]);if(e!==void 0&&R!=null){let P=R;Array.isArray(P)&&(P=P.map(k=>n2(k))),p(e,["instances[0]","referenceImages"],P)}const D=f(t,["mask"]);e!==void 0&&D!=null&&p(e,["instances[0]","mask"],e2(D));const V=f(t,["compressionQuality"]);return e!==void 0&&V!=null&&p(e,["parameters","compressionQuality"],V),o}function oN(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const l=f(t,["done"]);l!=null&&p(e,["done"],l);const u=f(t,["error"]);u!=null&&p(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&p(e,["response"],rN(c)),e}function sN(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const l=f(t,["done"]);l!=null&&p(e,["done"],l);const u=f(t,["error"]);u!=null&&p(e,["error"],u);const c=f(t,["response"]);return c!=null&&p(e,["response"],uN(c)),e}function aN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&p(o,["instances[0]","image"],_r(u));const c=f(e,["video"]);c!=null&&p(o,["instances[0]","video"],_x(c));const h=f(e,["source"]);h!=null&&cN(h,o);const m=f(e,["config"]);return m!=null&&nN(m,o),o}function lN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&p(o,["instances[0]","image"],Tn(u));const c=f(e,["video"]);c!=null&&p(o,["instances[0]","video"],bx(c));const h=f(e,["source"]);h!=null&&fN(h,o);const m=f(e,["config"]);return m!=null&&iN(m,o),o}function rN(t){const e={},o=f(t,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>mN(c))),p(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function uN(t){const e={},o=f(t,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>pN(c))),p(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function cN(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const l=f(t,["image"]);e!==void 0&&l!=null&&p(e,["instances[0]","image"],_r(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&p(e,["instances[0]","video"],_x(u)),o}function fN(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const l=f(t,["image"]);e!==void 0&&l!=null&&p(e,["instances[0]","image"],Tn(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&p(e,["instances[0]","video"],bx(u)),o}function dN(t){const e={},o=f(t,["_self"]);o!=null&&p(e,["image"],SN(o));const s=f(t,["raiFilteredReason"]);s!=null&&p(e,["raiFilteredReason"],s);const l=f(t,["_self"]);return l!=null&&p(e,["safetyAttributes"],Ex(l)),e}function wr(t){const e={},o=f(t,["_self"]);o!=null&&p(e,["image"],Sx(o));const s=f(t,["raiFilteredReason"]);s!=null&&p(e,["raiFilteredReason"],s);const l=f(t,["_self"]);l!=null&&p(e,["safetyAttributes"],Cx(l));const u=f(t,["prompt"]);return u!=null&&p(e,["enhancedPrompt"],u),e}function hN(t){const e={},o=f(t,["_self"]);o!=null&&p(e,["mask"],Sx(o));const s=f(t,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["labels"],l)}return e}function mN(t){const e={},o=f(t,["video"]);return o!=null&&p(e,["video"],WN(o)),e}function pN(t){const e={},o=f(t,["_self"]);return o!=null&&p(e,["video"],jN(o)),e}function gN(t){const e={},o=f(t,["modelSelectionConfig"]);o!=null&&p(e,["modelConfig"],o);const s=f(t,["audioTimestamp"]);s!=null&&p(e,["audioTimestamp"],s);const l=f(t,["candidateCount"]);l!=null&&p(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const c=f(t,["frequencyPenalty"]);c!=null&&p(e,["frequencyPenalty"],c);const h=f(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=f(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const d=f(t,["mediaResolution"]);d!=null&&p(e,["mediaResolution"],d);const v=f(t,["presencePenalty"]);v!=null&&p(e,["presencePenalty"],v);const T=f(t,["responseJsonSchema"]);T!=null&&p(e,["responseJsonSchema"],T);const x=f(t,["responseLogprobs"]);x!=null&&p(e,["responseLogprobs"],x);const C=f(t,["responseMimeType"]);C!=null&&p(e,["responseMimeType"],C);const w=f(t,["responseModalities"]);w!=null&&p(e,["responseModalities"],w);const _=f(t,["responseSchema"]);_!=null&&p(e,["responseSchema"],_);const R=f(t,["routingConfig"]);R!=null&&p(e,["routingConfig"],R);const D=f(t,["seed"]);D!=null&&p(e,["seed"],D);const V=f(t,["speechConfig"]);V!=null&&p(e,["speechConfig"],Ax(V));const P=f(t,["stopSequences"]);P!=null&&p(e,["stopSequences"],P);const k=f(t,["temperature"]);k!=null&&p(e,["temperature"],k);const U=f(t,["thinkingConfig"]);U!=null&&p(e,["thinkingConfig"],U);const J=f(t,["topK"]);J!=null&&p(e,["topK"],J);const B=f(t,["topP"]);if(B!=null&&p(e,["topP"],B),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yN(t,e){const o={},s=f(e,["model"]);return s!=null&&p(o,["_url","name"],Ne(t,s)),o}function vN(t,e){const o={},s=f(e,["model"]);return s!=null&&p(o,["_url","name"],Ne(t,s)),o}function TN(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function xN(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function SN(t){const e={},o=f(t,["bytesBase64Encoded"]);o!=null&&p(e,["imageBytes"],Ni(o));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function Sx(t){const e={},o=f(t,["gcsUri"]);o!=null&&p(e,["gcsUri"],o);const s=f(t,["bytesBase64Encoded"]);s!=null&&p(e,["imageBytes"],Ni(s));const l=f(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function _r(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=f(t,["imageBytes"]);o!=null&&p(e,["bytesBase64Encoded"],Ni(o));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function Tn(t){const e={},o=f(t,["gcsUri"]);o!=null&&p(e,["gcsUri"],o);const s=f(t,["imageBytes"]);s!=null&&p(e,["bytesBase64Encoded"],Ni(s));const l=f(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function EN(t,e,o){const s={},l=f(e,["pageSize"]);o!==void 0&&l!=null&&p(o,["_query","pageSize"],l);const u=f(e,["pageToken"]);o!==void 0&&u!=null&&p(o,["_query","pageToken"],u);const c=f(e,["filter"]);o!==void 0&&c!=null&&p(o,["_query","filter"],c);const h=f(e,["queryBase"]);return o!==void 0&&h!=null&&p(o,["_url","models_url"],hx(t,h)),s}function CN(t,e,o){const s={},l=f(e,["pageSize"]);o!==void 0&&l!=null&&p(o,["_query","pageSize"],l);const u=f(e,["pageToken"]);o!==void 0&&u!=null&&p(o,["_query","pageToken"],u);const c=f(e,["filter"]);o!==void 0&&c!=null&&p(o,["_query","filter"],c);const h=f(e,["queryBase"]);return o!==void 0&&h!=null&&p(o,["_url","models_url"],hx(t,h)),s}function AN(t,e){const o={},s=f(e,["config"]);return s!=null&&EN(t,s,o),o}function wN(t,e){const o={},s=f(e,["config"]);return s!=null&&CN(t,s,o),o}function _N(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["_self"]);if(l!=null){let u=mx(l);Array.isArray(u)&&(u=u.map(c=>Uf(c))),p(e,["models"],u)}return e}function bN(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const l=f(t,["_self"]);if(l!=null){let u=mx(l);Array.isArray(u)&&(u=u.map(c=>Pf(c))),p(e,["models"],u)}return e}function MN(t){const e={},o=f(t,["maskMode"]);o!=null&&p(e,["maskMode"],o);const s=f(t,["segmentationClasses"]);s!=null&&p(e,["maskClasses"],s);const l=f(t,["maskDilation"]);return l!=null&&p(e,["dilation"],l),e}function Uf(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["displayName"]);s!=null&&p(e,["displayName"],s);const l=f(t,["description"]);l!=null&&p(e,["description"],l);const u=f(t,["version"]);u!=null&&p(e,["version"],u);const c=f(t,["_self"]);c!=null&&p(e,["tunedModelInfo"],ON(c));const h=f(t,["inputTokenLimit"]);h!=null&&p(e,["inputTokenLimit"],h);const m=f(t,["outputTokenLimit"]);m!=null&&p(e,["outputTokenLimit"],m);const d=f(t,["supportedGenerationMethods"]);return d!=null&&p(e,["supportedActions"],d),e}function Pf(t){const e={},o=f(t,["name"]);o!=null&&p(e,["name"],o);const s=f(t,["displayName"]);s!=null&&p(e,["displayName"],s);const l=f(t,["description"]);l!=null&&p(e,["description"],l);const u=f(t,["versionId"]);u!=null&&p(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(x=>YR(x))),p(e,["endpoints"],T)}const h=f(t,["labels"]);h!=null&&p(e,["labels"],h);const m=f(t,["_self"]);m!=null&&p(e,["tunedModelInfo"],FN(m));const d=f(t,["defaultCheckpointId"]);d!=null&&p(e,["defaultCheckpointId"],d);const v=f(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>x)),p(e,["checkpoints"],T)}return e}function RN(t){const e={},o=f(t,["functionCall"]);o!=null&&p(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&p(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&p(e,["fileData"],JR(u));const c=f(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],vR(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const d=f(t,["thought"]);d!=null&&p(e,["thought"],d);const v=f(t,["thoughtSignature"]);v!=null&&p(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&p(e,["videoMetadata"],T),e}function NN(t){const e={},o=f(t,["productImage"]);return o!=null&&p(e,["image"],Tn(o)),e}function DN(t,e){const o={},s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const l=f(t,["baseSteps"]);e!==void 0&&l!=null&&p(e,["parameters","editConfig","baseSteps"],l);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&p(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["parameters","seed"],c);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const m=f(t,["personGeneration"]);e!==void 0&&m!=null&&p(e,["parameters","personGeneration"],m);const d=f(t,["addWatermark"]);e!==void 0&&d!=null&&p(e,["parameters","addWatermark"],d);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","compressionQuality"],T);const x=f(t,["enhancePrompt"]);e!==void 0&&x!=null&&p(e,["parameters","enhancePrompt"],x);const C=f(t,["labels"]);return e!==void 0&&C!=null&&p(e,["labels"],C),o}function IN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["source"]);l!=null&&PN(l,o);const u=f(e,["config"]);return u!=null&&DN(u,o),o}function UN(t){const e={},o=f(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>wr(l))),p(e,["generatedImages"],s)}return e}function PN(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const l=f(t,["personImage"]);e!==void 0&&l!=null&&p(e,["instances[0]","personImage","image"],Tn(l));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>NN(h))),p(e,["instances[0]","productImages"],c)}return o}function LN(t){const e={},o=f(t,["referenceImage"]);o!=null&&p(e,["referenceImage"],Tn(o));const s=f(t,["referenceId"]);s!=null&&p(e,["referenceId"],s);const l=f(t,["referenceType"]);l!=null&&p(e,["referenceType"],l);const u=f(t,["maskImageConfig"]);u!=null&&p(e,["maskImageConfig"],MN(u));const c=f(t,["controlImageConfig"]);c!=null&&p(e,["controlImageConfig"],wR(c));const h=f(t,["styleImageConfig"]);h!=null&&p(e,["styleImageConfig"],h);const m=f(t,["subjectImageConfig"]);return m!=null&&p(e,["subjectImageConfig"],m),e}function Ex(t){const e={},o=f(t,["safetyAttributes","categories"]);o!=null&&p(e,["categories"],o);const s=f(t,["safetyAttributes","scores"]);s!=null&&p(e,["scores"],s);const l=f(t,["contentType"]);return l!=null&&p(e,["contentType"],l),e}function Cx(t){const e={},o=f(t,["safetyAttributes","categories"]);o!=null&&p(e,["categories"],o);const s=f(t,["safetyAttributes","scores"]);s!=null&&p(e,["scores"],s);const l=f(t,["contentType"]);return l!=null&&p(e,["contentType"],l),e}function VN(t){const e={},o=f(t,["category"]);if(o!=null&&p(e,["category"],o),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function kN(t){const e={},o=f(t,["image"]);return o!=null&&p(e,["image"],Tn(o)),e}function BN(t,e){const o={},s=f(t,["mode"]);e!==void 0&&s!=null&&p(e,["parameters","mode"],s);const l=f(t,["maxPredictions"]);e!==void 0&&l!=null&&p(e,["parameters","maxPredictions"],l);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&p(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&p(e,["parameters","maskDilation"],c);const h=f(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&p(e,["parameters","binaryColorThreshold"],h);const m=f(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),o}function GN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["source"]);l!=null&&qN(l,o);const u=f(e,["config"]);return u!=null&&BN(u,o),o}function HN(t){const e={},o=f(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>hN(l))),p(e,["generatedMasks"],s)}return e}function qN(t,e){const o={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const l=f(t,["image"]);e!==void 0&&l!=null&&p(e,["instances[0]","image"],Tn(l));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&p(e,["instances[0]","scribble"],kN(u)),o}function Ax(t){const e={},o=f(t,["languageCode"]);o!=null&&p(e,["languageCode"],o);const s=f(t,["voiceConfig"]);if(s!=null&&p(e,["voiceConfig"],s),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function zN(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(v=>v)),p(e,["functionDeclarations"],d)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],TN(l));const u=f(t,["computerUse"]);u!=null&&p(e,["computerUse"],u);const c=f(t,["codeExecution"]);if(c!=null&&p(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],xN(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function wx(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>KR(x))),p(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&p(e,["retrieval"],s);const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],u);const c=f(t,["computerUse"]);c!=null&&p(e,["computerUse"],c);const h=f(t,["codeExecution"]);h!=null&&p(e,["codeExecution"],h);const m=f(t,["enterpriseWebSearch"]);m!=null&&p(e,["enterpriseWebSearch"],m);const d=f(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],d);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function ON(t){const e={},o=f(t,["baseModel"]);o!=null&&p(e,["baseModel"],o);const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const l=f(t,["updateTime"]);return l!=null&&p(e,["updateTime"],l),e}function FN(t){const e={},o=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&p(e,["baseModel"],o);const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const l=f(t,["updateTime"]);return l!=null&&p(e,["updateTime"],l),e}function YN(t,e){const o={},s=f(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const l=f(t,["description"]);e!==void 0&&l!=null&&p(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&p(e,["defaultCheckpointId"],u),o}function JN(t,e){const o={},s=f(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const l=f(t,["description"]);e!==void 0&&l!=null&&p(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&p(e,["defaultCheckpointId"],u),o}function KN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","name"],Ne(t,s));const l=f(e,["config"]);return l!=null&&YN(l,o),o}function XN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&JN(l,o),o}function QN(t,e){const o={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const l=f(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&p(e,["parameters","safetySetting"],l);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&p(e,["parameters","includeRaiReason"],c);const h=f(t,["outputMimeType"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","mimeType"],h);const m=f(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&p(e,["parameters","outputOptions","compressionQuality"],m);const d=f(t,["enhanceInputImage"]);e!==void 0&&d!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],d);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=f(t,["labels"]);e!==void 0&&T!=null&&p(e,["labels"],T);const x=f(t,["numberOfImages"]);e!==void 0&&x!=null&&p(e,["parameters","sampleCount"],x);const C=f(t,["mode"]);return e!==void 0&&C!=null&&p(e,["parameters","mode"],C),o}function ZN(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["_url","model"],Ne(t,s));const l=f(e,["image"]);l!=null&&p(o,["instances[0]","image"],Tn(l));const u=f(e,["upscaleFactor"]);u!=null&&p(o,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&QN(c,o),o}function $N(t){const e={},o=f(t,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const s=f(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>wr(u))),p(e,["generatedImages"],l)}return e}function WN(t){const e={},o=f(t,["uri"]);o!=null&&p(e,["uri"],o);const s=f(t,["encodedVideo"]);s!=null&&p(e,["videoBytes"],Ni(s));const l=f(t,["encoding"]);return l!=null&&p(e,["mimeType"],l),e}function jN(t){const e={},o=f(t,["gcsUri"]);o!=null&&p(e,["uri"],o);const s=f(t,["bytesBase64Encoded"]);s!=null&&p(e,["videoBytes"],Ni(s));const l=f(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function e2(t){const e={},o=f(t,["image"]);o!=null&&p(e,["_self"],Tn(o));const s=f(t,["maskMode"]);return s!=null&&p(e,["maskMode"],s),e}function t2(t){const e={},o=f(t,["image"]);o!=null&&p(e,["image"],_r(o));const s=f(t,["referenceType"]);return s!=null&&p(e,["referenceType"],s),e}function n2(t){const e={},o=f(t,["image"]);o!=null&&p(e,["image"],Tn(o));const s=f(t,["referenceType"]);return s!=null&&p(e,["referenceType"],s),e}function _x(t){const e={},o=f(t,["uri"]);o!=null&&p(e,["uri"],o);const s=f(t,["videoBytes"]);s!=null&&p(e,["encodedVideo"],Ni(s));const l=f(t,["mimeType"]);return l!=null&&p(e,["encoding"],l),e}function bx(t){const e={},o=f(t,["uri"]);o!=null&&p(e,["gcsUri"],o);const s=f(t,["videoBytes"]);s!=null&&p(e,["bytesBase64Encoded"],Ni(s));const l=f(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}

const i2="Content-Type",o2="X-Server-Timeout",s2="User-Agent",Lf="x-goog-api-client",a2="1.28.0",l2=`google-genai-sdk/${a2}`,r2="v1beta1",u2="v1beta",cv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class c2{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:r2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:u2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))l.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(o))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const u=new AbortController,c=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=c}return o&&o.extraBody!==null&&f2(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await fv(l),new Nf(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await fv(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var o;return rs(this,arguments,function*(){const l=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:m}=yield Ye(l.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=u.decode(m,{stream:!0});try{const T=JSON.parse(d);if("error"in T){const x=JSON.parse(JSON.stringify(T.error)),C=x.status,w=x.code,_=`got status: ${C}. ${JSON.stringify(T)}`;if(w>=400&&w<600)throw new Cr({message:_,status:w})}}catch(T){if(T.name==="ApiError")throw T}c+=d;let v=c.match(cv);for(;v;){const T=v[1];try{const x=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new Nf(x)),c=c.slice(v[0].length),v=c.match(cv)}catch(x){throw new Error(`exception parsing stream chunk ${T}. ${x}`)}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=l2+" "+this.clientOptions.userAgentExtra;return e[s2]=o,e[Lf]=o,e[i2]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(o2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}async uploadFile(e,o){var s,l;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const c=this.clientOptions.uploader,h=await c.stat(e);u.sizeBytes=String(h.size);const m=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:h.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=m;let d="";typeof e=="string"&&(d=e.replace(/[/\\]+$/,""),d=(l=d.split(/[/\\]/).pop())!==null&&l!==void 0?l:"");const v=await this.fetchUploadUrl(u,d,o);return c.upload(e,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s){var l;let u={};s!=null&&s.httpOptions?u=s.httpOptions:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c={file:e},h=await this.request({path:ae("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:u});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function fv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new Cr({message:l,status:o}):new Error(l)}}function f2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,c){const h=Object.assign({},u);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const d=c[m],v=h[m];d&&typeof d=="object"&&!Array.isArray(d)&&v&&typeof v=="object"&&!Array.isArray(v)?h[m]=s(v,d):(v&&d&&typeof v!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof v}, New type: ${typeof d}. Overwriting.`),h[m]=d)}return h}const l=s(o,e);t.body=JSON.stringify(l)}

const d2="mcp_used/unknown";let h2=!1;function Mx(t){for(const e of t)if(m2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return h2}function Rx(t){var e;const o=(e=t[Lf])!==null&&e!==void 0?e:"";t[Lf]=(o+` ${d2}`).trimStart()}function m2(t){return t!==null&&typeof t=="object"&&t instanceof Ad}function p2(t,e=100){return rs(this,arguments,function*(){let s,l=0;for(;l<e;){const u=yield Ye(t.listTools({cursor:s}));for(const c of u.tools)yield yield Ye(c),l++;if(!u.nextCursor)break;s=u.nextCursor}})}class Ad{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Ad(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const u={},c=[];for(const v of this.mcpClients)try{for(var h=!0,m=(o=void 0,Ca(p2(v))),d;d=await m.next(),e=d.done,!e;h=!0){l=d.value,h=!1;const T=l;c.push(T);const x=T.name;if(u[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);u[x]=v}}catch(T){o={error:T}}finally{try{!h&&!e&&(s=m.return)&&await s.call(m)}finally{if(o)throw o.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),x1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await l.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return o}}

async function g2(t,e,o){const s=new d1;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class y2{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=x2(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),m=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let d=()=>{};const v=new Promise(P=>{d=P}),T=e.callbacks,x=function(){d({})},C=this.apiClient,w={onopen:x,onmessage:P=>{g2(C,T.onmessage,P)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(P){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(P){}},_=this.webSocketFactory.create(m,T2(c),w);_.connect(),await v;const V={setup:{model:Ne(this.apiClient,e.model)}};return _.send(JSON.stringify(V)),new v2(_,this.apiClient)}}class v2{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=uR(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=rR(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(as.PLAY)}pause(){this.sendPlaybackControl(as.PAUSE)}stop(){this.sendPlaybackControl(as.STOP)}resetContext(){this.sendPlaybackControl(as.RESET_CONTEXT)}close(){this.conn.close()}}function T2(t){const e={};return t.forEach((o,s)=>{e[s]=o}),e}function x2(t){const e=new Headers;for(const[o,s]of Object.entries(t))e.append(o,s);return e}

const S2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function E2(t,e,o){const s=new f1;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const u=JSON.parse(l);if(t.isVertexAI()){const c=dR(u);Object.assign(s,c)}else Object.assign(s,u);e(s)}class C2{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new y2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,u,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Mx(e.config.tools)&&Rx(T);const x=b2(T);if(this.apiClient.isVertexAI())v=`${m}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,v);else{const j=this.apiClient.getApiKey();let te="BidiGenerateContent",he="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",he="access_token"),v=`${m}/ws/google.ai.generativelanguage.${d}.GenerativeService.${te}?${he}=${j}`}let C=()=>{};const w=new Promise(j=>{C=j}),_=e.callbacks,R=function(){var j;(j=_==null?void 0:_.onopen)===null||j===void 0||j.call(_),C({})},D=this.apiClient,V={onopen:R,onmessage:j=>{E2(D,_.onmessage,j)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(j){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(j){}},P=this.webSocketFactory.create(v,_2(x),V);P.connect(),await w;let k=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const j=this.apiClient.getProject(),te=this.apiClient.getLocation();k=`projects/${j}/locations/${te}/`+k}let U={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hs.AUDIO]}:e.config.responseModalities=[hs.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],B=[];for(const j of J)if(this.isCallableTool(j)){const te=j;B.push(await te.tool())}else B.push(j);B.length>0&&(e.config.tools=B);const $={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=lR(this.apiClient,$):U=aR(this.apiClient,$),delete U.config,P.send(JSON.stringify(U)),new w2(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const A2={turnComplete:!0};class w2{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=fn(o.turns),e.isVertexAI()||(s=s.map(l=>Ar(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(S2)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},A2),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:fR(e)}:o={realtimeInput:cR(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function _2(t){const e={};return t.forEach((o,s)=>{e[s]=o}),e}function b2(t){const e=new Headers;for(const[o,s]of Object.entries(t))e.append(o,s);return e}

const dv=10;function hv(t){var e,o,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const c of(o=t==null?void 0:t.tools)!==null&&o!==void 0?o:[])if(us(c)){l=!0;break}if(!l)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function us(t){return"callTool"in t&&typeof t.callTool=="function"}function M2(t){var e,o,s;return(s=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>us(l)))!==null&&s!==void 0?s:!1}function R2(t){var e,o,s;return(s=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>!us(l)))!==null&&s!==void 0?s:!1}function mv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}

class N2 extends lo{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,u,c,h;const m=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!M2(o)||hv(o.config))return await this.generateContentInternal(m);if(R2(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,v;const T=fn(m.contents),x=(u=(l=(s=m.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:dv;let C=0;for(;C<x&&(d=await this.generateContentInternal(m),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,_=[];for(const R of(h=(c=o.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(us(R)){const V=await R.callTool(d.functionCalls);_.push(...V)}C++,v={role:"user",parts:_},m.contents=fn(m.contents),m.contents.push(w),m.contents.push(v),mv(m.config)&&(T.push(w),T.push(v))}return mv(m.config)&&(d.automaticFunctionCallingHistory=T),d},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),hv(o.config)){const s=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const m of s.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((l=m==null?void 0:m.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=m==null?void 0:m.safetyAttributes:c.push(m);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new La(so.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,u,c,h,m;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((c=(u=o.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((m=(h=o.source)===null||h===void 0?void 0:h.video)===null||m===void 0)&&m.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const c=await Promise.all(u.map(async m=>us(m)?await m.tool():m)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&Mx(e.config.tools)){const m=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let d=Object.assign({},m);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Rx(d),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return h}async initAfcToolsMap(e){var o,s,l;const u=new Map;for(const c of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(us(c)){const h=c,m=await h.tool();for(const d of(l=m.functionDeclarations)!==null&&l!==void 0?l:[]){if(!d.name)throw new Error("Function declaration name is required.");if(u.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);u.set(d.name,h)}}return u}async processAfcStream(e){var o,s,l;const u=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:dv;let c=!1,h=0;const m=await this.initAfcToolsMap(e);return(function(d,v,T){var x,C;return rs(this,arguments,function*(){for(var w,_,R,D;h<u;){c&&(h++,c=!1);const U=yield Ye(d.processParamsMaybeAddMcpUsage(T)),J=yield Ye(d.generateContentStreamInternal(U)),B=[],$=[];try{for(var V=!0,P=(_=void 0,Ca(J)),k;k=yield Ye(P.next()),w=k.done,!w;V=!0){D=k.value,V=!1;const j=D;if(yield yield Ye(j),j.candidates&&(!((x=j.candidates[0])===null||x===void 0)&&x.content)){$.push(j.candidates[0].content);for(const te of(C=j.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(h<u&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(te.functionCall.name)){const he=yield Ye(v.get(te.functionCall.name).callTool([te.functionCall]));B.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(j){_={error:j}}finally{try{!V&&!w&&(R=P.return)&&(yield Ye(R.call(P)))}finally{if(_)throw _.error}}if(B.length>0){c=!0;const j=new ma;j.candidates=[{content:{role:"user",parts:B}}],yield yield Ye(j);const te=[];te.push(...$),te.push({role:"user",parts:B});const he=fn(T.contents).concat(te);T.contents=he}else break}})})(this,m,e)}async generateContentInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=lv(this.apiClient,e);return h=ae("{model}:generateContent",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=uv(v),x=new ma;return Object.assign(x,T),x})}else{const d=av(this.apiClient,e);return h=ae("{model}:generateContent",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=rv(v),x=new ma;return Object.assign(x,T),x})}}async generateContentStreamInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=lv(this.apiClient,e);return h=ae("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return rs(this,arguments,function*(){var x,C,w,_;try{for(var R=!0,D=Ca(T),V;V=yield Ye(D.next()),x=V.done,!x;R=!0){_=V.value,R=!1;const P=_,k=uv(yield Ye(P.json()));k.sdkHttpResponse={headers:P.headers};const U=new ma;Object.assign(U,k),yield yield Ye(U)}}catch(P){C={error:P}}finally{try{!R&&!x&&(w=D.return)&&(yield Ye(w.call(D)))}finally{if(C)throw C.error}}})})}else{const d=av(this.apiClient,e);return h=ae("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return rs(this,arguments,function*(){var x,C,w,_;try{for(var R=!0,D=Ca(T),V;V=yield Ye(D.next()),x=V.done,!x;R=!0){_=V.value,R=!1;const P=_,k=rv(yield Ye(P.json()));k.sdkHttpResponse={headers:P.headers};const U=new ma;Object.assign(U,k),yield yield Ye(U)}}catch(P){C={error:P}}finally{try{!R&&!x&&(w=D.return)&&(yield Ye(w.call(D)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=zR(this.apiClient,e);return h=ae("{model}:predict",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=FR(v),x=new F0;return Object.assign(x,T),x})}else{const d=qR(this.apiClient,e);return h=ae("{model}:batchEmbedContents",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=OR(v),x=new F0;return Object.assign(x,T),x})}}async generateImagesInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=jR(this.apiClient,e);return h=ae("{model}:predict",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=tN(v),x=new Y0;return Object.assign(x,T),x})}else{const d=WR(this.apiClient,e);return h=ae("{model}:predict",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=eN(v),x=new Y0;return Object.assign(x,T),x})}}async editImageInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=kR(this.apiClient,e);return u=ae("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const d=BR(m),v=new i1;return Object.assign(v,d),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=ZN(this.apiClient,e);return u=ae("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const d=$N(m),v=new o1;return Object.assign(v,d),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=IN(this.apiClient,e);return u=ae("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>{const d=UN(m),v=new s1;return Object.assign(v,d),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=GN(this.apiClient,e);return u=ae("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>{const d=HN(m),v=new a1;return Object.assign(v,d),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=vN(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Pf(v))}else{const d=yN(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Uf(v))}}async listInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=wN(this.apiClient,e);return h=ae("{models_url}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=bN(v),x=new J0;return Object.assign(x,T),x})}else{const d=AN(this.apiClient,e);return h=ae("{models_url}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=_N(v),x=new J0;return Object.assign(x,T),x})}}async update(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=XN(this.apiClient,e);return h=ae("{model}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Pf(v))}else{const d=KN(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Uf(v))}}async delete(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=UR(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=LR(v),x=new K0;return Object.assign(x,T),x})}else{const d=IR(this.apiClient,e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=PR(v),x=new K0;return Object.assign(x,T),x})}}async countTokens(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=RR(this.apiClient,e);return h=ae("{model}:countTokens",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=DR(v),x=new X0;return Object.assign(x,T),x})}else{const d=MR(this.apiClient,e);return h=ae("{model}:countTokens",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=NR(v),x=new X0;return Object.assign(x,T),x})}}async computeTokens(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=SR(this.apiClient,e);return u=ae("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const d=ER(m),v=new l1;return Object.assign(v,d),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=lN(this.apiClient,e);return h=ae("{model}:predictLongRunning",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=sN(v),x=new hr;return Object.assign(x,T),x})}else{const d=aN(this.apiClient,e);return h=ae("{model}:predictLongRunning",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=oN(v),x=new hr;return Object.assign(x,T),x})}}}

class D2 extends lo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=e1(e);return h=ae("{operationName}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const d=jb(e);return h=ae("{operationName}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=Jb(e);return u=ae("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}

function I2(t){const e={},o=f(t,["data"]);if(o!=null&&p(e,["data"],o),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function U2(t){const e={},o=f(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>q2(u))),p(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function P2(t,e,o){const s={},l=f(e,["expireTime"]);o!==void 0&&l!=null&&p(o,["expireTime"],l);const u=f(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&p(o,["newSessionExpireTime"],u);const c=f(e,["uses"]);o!==void 0&&c!=null&&p(o,["uses"],c);const h=f(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&p(o,["bidiGenerateContentSetup"],H2(t,h));const m=f(e,["lockAdditionalFields"]);return o!==void 0&&m!=null&&p(o,["fieldMask"],m),s}function L2(t,e){const o={},s=f(e,["config"]);return s!=null&&p(o,["config"],P2(t,s,o)),o}function V2(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["fileUri"]);o!=null&&p(e,["fileUri"],o);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function k2(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(t,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function B2(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=f(t,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function G2(t,e){const o={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],s);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","topK"],h);const m=f(t,["maxOutputTokens"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","maxOutputTokens"],m);const d=f(t,["mediaResolution"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","mediaResolution"],d);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","speechConfig"],Cd(T));const x=f(t,["thinkingConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","thinkingConfig"],x);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],C);const w=f(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],U2(At(w)));const _=f(t,["tools"]);if(e!==void 0&&_!=null){let J=ys(_);Array.isArray(J)&&(J=J.map(B=>O2(gs(B)))),p(e,["setup","tools"],J)}const R=f(t,["sessionResumption"]);e!==void 0&&R!=null&&p(e,["setup","sessionResumption"],z2(R));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],D);const V=f(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&p(e,["setup","outputAudioTranscription"],V);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&p(e,["setup","realtimeInputConfig"],P);const k=f(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],k);const U=f(t,["proactivity"]);return e!==void 0&&U!=null&&p(e,["setup","proactivity"],U),o}function H2(t,e){const o={},s=f(e,["model"]);s!=null&&p(o,["setup","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&p(o,["config"],G2(l,o)),o}function q2(t){const e={},o=f(t,["functionCall"]);o!=null&&p(e,["functionCall"],o);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&p(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&p(e,["fileData"],V2(u));const c=f(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],I2(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const d=f(t,["thought"]);d!=null&&p(e,["thought"],d);const v=f(t,["thoughtSignature"]);v!=null&&p(e,["thoughtSignature"],v);const T=f(t,["videoMetadata"]);return T!=null&&p(e,["videoMetadata"],T),e}function z2(t){const e={},o=f(t,["handle"]);if(o!=null&&p(e,["handle"],o),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function O2(t){const e={},o=f(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(v=>v)),p(e,["functionDeclarations"],d)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],k2(l));const u=f(t,["computerUse"]);u!=null&&p(e,["computerUse"],u);const c=f(t,["codeExecution"]);if(c!=null&&p(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],B2(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}

function F2(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const s=t[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${o}.${u}`);e.push(...l)}else e.push(o)}return e.join(",")}function Y2(t,e){let o=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,o=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(o){const u=F2(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(d=>c.includes(d)?`generationConfig.${d}`:d));const m=[];u&&m.push(u),h.length>0&&m.push(...h),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class J2 extends lo{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=L2(this.apiClient,e);u=ae("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const m=Y2(h,e.config);return l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}}

function K2(t,e){const o={},s=f(t,["name"]);return s!=null&&p(o,["_url","name"],s),o}function X2(t,e){const o={},s=f(t,["name"]);return s!=null&&p(o,["_url","name"],s),o}function Q2(t,e,o){const s={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=f(t,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&p(e,["displayName"],l),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(t,["epochCount"]);e!==void 0&&u!=null&&p(e,["tuningTask","hyperparameters","epochCount"],u);const c=f(t,["learningRateMultiplier"]);if(c!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(t,["batchSize"]);e!==void 0&&h!=null&&p(e,["tuningTask","hyperparameters","batchSize"],h);const m=f(t,["learningRate"]);if(e!==void 0&&m!=null&&p(e,["tuningTask","hyperparameters","learningRate"],m),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function Z2(t,e,o){const s={};let l=f(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const C=f(t,["validationDataset"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec"],pv(C))}else if(l==="PREFERENCE_TUNING"){const C=f(t,["validationDataset"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec"],pv(C))}const u=f(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&p(e,["tunedModelDisplayName"],u);const c=f(t,["description"]);e!==void 0&&c!=null&&p(e,["description"],c);let h=f(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=f(t,["epochCount"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(h==="PREFERENCE_TUNING"){const C=f(t,["epochCount"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let m=f(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=f(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(m==="PREFERENCE_TUNING"){const C=f(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let d=f(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const C=f(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(d==="PREFERENCE_TUNING"){const C=f(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=f(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=f(t,["adapterSize"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=f(t,["adapterSize"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&p(e,["labels"],T);const x=f(t,["beta"]);return e!==void 0&&x!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],x),s}function $2(t,e){const o={},s=f(t,["baseModel"]);s!=null&&p(o,["baseModel"],s);const l=f(t,["preTunedModel"]);l!=null&&p(o,["preTunedModel"],l);const u=f(t,["trainingDataset"]);u!=null&&rD(u);const c=f(t,["config"]);return c!=null&&Q2(c,o),o}function W2(t,e){const o={},s=f(t,["baseModel"]);s!=null&&p(o,["baseModel"],s);const l=f(t,["preTunedModel"]);l!=null&&p(o,["preTunedModel"],l);const u=f(t,["trainingDataset"]);u!=null&&uD(u,o,e);const c=f(t,["config"]);return c!=null&&Z2(c,o,e),o}function j2(t,e){const o={},s=f(t,["name"]);return s!=null&&p(o,["_url","name"],s),o}function eD(t,e){const o={},s=f(t,["name"]);return s!=null&&p(o,["_url","name"],s),o}function tD(t,e,o){const s={},l=f(t,["pageSize"]);e!==void 0&&l!=null&&p(e,["_query","pageSize"],l);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&p(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&p(e,["_query","filter"],c),s}function nD(t,e,o){const s={},l=f(t,["pageSize"]);e!==void 0&&l!=null&&p(e,["_query","pageSize"],l);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&p(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&p(e,["_query","filter"],c),s}function iD(t,e){const o={},s=f(t,["config"]);return s!=null&&tD(s,o),o}function oD(t,e){const o={},s=f(t,["config"]);return s!=null&&nD(s,o),o}function sD(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&p(o,["sdkHttpResponse"],s);const l=f(t,["nextPageToken"]);l!=null&&p(o,["nextPageToken"],l);const u=f(t,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Nx(h))),p(o,["tuningJobs"],c)}return o}function aD(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&p(o,["sdkHttpResponse"],s);const l=f(t,["nextPageToken"]);l!=null&&p(o,["nextPageToken"],l);const u=f(t,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Vf(h))),p(o,["tuningJobs"],c)}return o}function lD(t,e){const o={},s=f(t,["name"]);s!=null&&p(o,["model"],s);const l=f(t,["name"]);return l!=null&&p(o,["endpoint"],l),o}function rD(t,e){const o={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(t,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),p(o,["examples","examples"],l)}return o}function uD(t,e,o){const s={};let l=f(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Nx(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&p(o,["sdkHttpResponse"],s);const l=f(t,["name"]);l!=null&&p(o,["name"],l);const u=f(t,["state"]);u!=null&&p(o,["state"],fx(u));const c=f(t,["createTime"]);c!=null&&p(o,["createTime"],c);const h=f(t,["tuningTask","startTime"]);h!=null&&p(o,["startTime"],h);const m=f(t,["tuningTask","completeTime"]);m!=null&&p(o,["endTime"],m);const d=f(t,["updateTime"]);d!=null&&p(o,["updateTime"],d);const v=f(t,["description"]);v!=null&&p(o,["description"],v);const T=f(t,["baseModel"]);T!=null&&p(o,["baseModel"],T);const x=f(t,["_self"]);return x!=null&&p(o,["tunedModel"],lD(x)),o}function Vf(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&p(o,["sdkHttpResponse"],s);const l=f(t,["name"]);l!=null&&p(o,["name"],l);const u=f(t,["state"]);u!=null&&p(o,["state"],fx(u));const c=f(t,["createTime"]);c!=null&&p(o,["createTime"],c);const h=f(t,["startTime"]);h!=null&&p(o,["startTime"],h);const m=f(t,["endTime"]);m!=null&&p(o,["endTime"],m);const d=f(t,["updateTime"]);d!=null&&p(o,["updateTime"],d);const v=f(t,["error"]);v!=null&&p(o,["error"],v);const T=f(t,["description"]);T!=null&&p(o,["description"],T);const x=f(t,["baseModel"]);x!=null&&p(o,["baseModel"],x);const C=f(t,["tunedModel"]);C!=null&&p(o,["tunedModel"],C);const w=f(t,["preTunedModel"]);w!=null&&p(o,["preTunedModel"],w);const _=f(t,["supervisedTuningSpec"]);_!=null&&p(o,["supervisedTuningSpec"],_);const R=f(t,["preferenceOptimizationSpec"]);R!=null&&p(o,["preferenceOptimizationSpec"],R);const D=f(t,["tuningDataStats"]);D!=null&&p(o,["tuningDataStats"],D);const V=f(t,["encryptionSpec"]);V!=null&&p(o,["encryptionSpec"],V);const P=f(t,["partnerModelTuningSpec"]);P!=null&&p(o,["partnerModelTuningSpec"],P);const k=f(t,["customBaseModel"]);k!=null&&p(o,["customBaseModel"],k);const U=f(t,["experiment"]);U!=null&&p(o,["experiment"],U);const J=f(t,["labels"]);J!=null&&p(o,["labels"],J);const B=f(t,["outputUri"]);B!=null&&p(o,["outputUri"],B);const $=f(t,["pipelineJob"]);$!=null&&p(o,["pipelineJob"],$);const j=f(t,["serviceAccount"]);j!=null&&p(o,["serviceAccount"],j);const te=f(t,["tunedModelDisplayName"]);te!=null&&p(o,["tunedModelDisplayName"],te);const he=f(t,["veoTuningSpec"]);return he!=null&&p(o,["veoTuningSpec"],he),o}function cD(t,e){const o={},s=f(t,["sdkHttpResponse"]);s!=null&&p(o,["sdkHttpResponse"],s);const l=f(t,["name"]);l!=null&&p(o,["name"],l);const u=f(t,["metadata"]);u!=null&&p(o,["metadata"],u);const c=f(t,["done"]);c!=null&&p(o,["done"],c);const h=f(t,["error"]);return h!=null&&p(o,["error"],h),o}function pv(t,e){const o={},s=f(t,["gcsUri"]);s!=null&&p(o,["validationDatasetUri"],s);const l=f(t,["vertexDatasetResource"]);return l!=null&&p(o,["validationDatasetUri"],l),o}

class fD extends lo{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new La(so.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:Rf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=eD(e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>Vf(v))}else{const d=j2(e);return h=ae("{name}",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>Nx(v))}}async listInternal(e){var o,s,l,u;let c,h="",m={};if(this.apiClient.isVertexAI()){const d=oD(e);return h=ae("tuningJobs",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=aD(v),x=new Q0;return Object.assign(x,T),x})}else{const d=iD(e);return h=ae("tunedModels",d._url),m=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=sD(v),x=new Q0;return Object.assign(x,T),x})}}async cancel(e){var o,s,l,u;let c="",h={};if(this.apiClient.isVertexAI()){const m=X2(e);c=ae("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const m=K2(e);c=ae("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=W2(e,e);return u=ae("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>Vf(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$2(e);return u=ae("tunedModels",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(d=>{const v=d;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>cD(m))}}}

class dD{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hD=1024*1024*8,mD=3,pD=1e3,gD=2,lf="x-goog-upload-status";async function yD(t,e,o){var s,l,u;let c=0,h=0,m=new Nf(new Response),d="upload";for(c=t.size;h<c;){const T=Math.min(hD,c-h),x=t.slice(h,h+T);h+T>=c&&(d+=", finalize");let C=0,w=pD;for(;C<mD&&(m=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((s=m==null?void 0:m.headers)===null||s===void 0)&&s[lf]));)C++,await TD(w),w=w*gD;if(h+=T,((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l[lf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(m==null?void 0:m.json());if(((u=m==null?void 0:m.headers)===null||u===void 0?void 0:u[lf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function vD(t){return{size:t.size,type:t.type}}function TD(t){return new Promise(e=>setTimeout(e,t))}class xD{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yD(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vD(e)}}

class SD{create(e,o,s){return new ED(e,o,s)}}class ED{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}

const gv="x-goog-api-key";class CD{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(gv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gv,this.apiKey)}}}

const AD="gl-node/";class wD{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=Fb(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new CD(this.apiKey);this.apiClient=new c2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:AD+"web",uploader:new xD,downloader:new dD}),this.models=new N2(this.apiClient),this.live=new C2(this.apiClient,l,new SD),this.batches=new uM(this.apiClient),this.chats=new qM(this.models,this.apiClient),this.caches=new BM(this.apiClient),this.files=new $M(this.apiClient),this.operations=new D2(this.apiClient),this.authTokens=new J2(this.apiClient),this.tunings=new fD(this.apiClient)}}

let Wl=null,rf=null,uf=null;const _D=()=>{try{const t=localStorage.getItem("gemini-api-key");if(t&&t.trim()!=="")return t}catch(t){console.warn("Could not access localStorage for API key.",t)}return"PLACEHOLDER_API_KEY"},bD=()=>{try{const t=localStorage.getItem("gemini-base-url");if(t&&t.trim()!=="")return t.trim()}catch(t){console.warn("Could not access localStorage for API base URL.",t)}},wd=()=>{const t=_D();if(!t)throw new Error("API key not found. Please enter your key in Settings, or ensure the system API key is set correctly in the environment.");const e=bD();if(!Wl||t!==rf||e!==uf)try{const o={apiKey:t};e&&(o.apiEndpoint=e),Wl=new wD(o),rf=t,uf=e}catch(o){throw console.error("Failed to initialize GoogleGenAI",o),Wl=null,rf=null,uf=null,new Error(`Failed to initialize AI service: ${o instanceof Error?o.message:String(o)}`)}return Wl},br=(t,e)=>{var s;console.error(`API call for "${e}" failed:`,t);let o=`An error occurred during "${e}": ${t.message||"Unknown communication error"}`;try{const l=JSON.parse(t.message);(s=l==null?void 0:l.error)!=null&&s.message&&(o=`An error occurred during "${e}": ${l.error.message}`)}catch{String(t.message).includes("API key not valid")?o="The API key is invalid. Please check the key you entered in Settings.":String(t.message).includes("xhr error")&&(o="Communication with the AI service failed. This could be due to a network issue or an invalid API key.")}return new Error(o)},MD=async t=>{const s=!["image/jpeg","image/png"].includes(t.type);return new Promise((l,u)=>{const c=new Image,h=new FileReader;h.onload=m=>{var d;if(typeof((d=m.target)==null?void 0:d.result)!="string")return u(new Error("Failed to read file for processing."));c.src=m.target.result},h.onerror=()=>u(new Error("Failed to read file.")),c.onload=()=>{const{naturalWidth:m,naturalHeight:d}=c,v=m>2048||d>2048;if(!v&&!s)return l({file:t,mimeType:t.type});const T=document.createElement("canvas"),x=T.getContext("2d");if(!x)return u(new Error("Could not create canvas context."));let C=m,w=d;v&&(m>d?(C=2048,w=Math.round(d*2048/m)):(w=2048,C=Math.round(m*2048/d))),T.width=C,T.height=w,x.drawImage(c,0,0,C,w),T.toBlob(_=>{if(!_)return u(new Error("Failed to create blob from canvas."));const R=(t.name.split(".").slice(0,-1).join(".")||"image")+".png",D=new File([_],R,{type:"image/png"});l({file:D,mimeType:"image/png"})},"image/png",.95)},c.onerror=m=>{u(new Error(`Failed to load image for processing: ${m}`))},h.readAsDataURL(t)})},Zn=async t=>{const{file:e,mimeType:o}=await MD(t),s=await new Promise((l,u)=>{const c=new FileReader;c.onloadend=()=>l(c.result.split(",")[1]),c.onerror=u,c.readAsDataURL(e)});return{inlineData:{mimeType:o,data:s}}},Kt=async(t,e)=>{var o,s;try{const c=(o=(await wd().models.generateContent({model:"gemini-2.5-flash-image-preview",contents:{parts:t},config:{responseModalities:[hs.IMAGE,hs.TEXT]}})).candidates)==null?void 0:o[0];if(!c||!c.content||!c.content.parts||c.content.parts.length===0){const h=c==null?void 0:c.finishReason,m=c==null?void 0:c.safetyRatings;let d="AI did not return a valid result.";throw h&&(d+=` Reason: ${h}.`),m!=null&&m.some(v=>v.blocked)&&(d+=" The prompt may have been blocked by safety filters."),new Error(d)}for(const h of c.content.parts)if(h.inlineData)return`data:${h.inlineData.mimeType};base64,${h.inlineData.data}`;throw(s=c.content.parts[0])!=null&&s.text?new Error("Model responded with text instead of an image. The prompt may have been blocked."):new Error("The AI did not return the expected image result.")}catch(l){throw l instanceof Error&&(l.message.includes("Model responded with text")||l.message.includes("AI did not return a valid result"))?l:br(l,e)}},RD=async(t,e)=>{try{const s=await wd().models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:e}});if(s.generatedImages&&s.generatedImages.length>0)return`data:image/png;base64,${s.generatedImages[0].image.imageBytes}`;throw new Error("The AI failed to generate an image.")}catch(o){throw br(o,"Generate Image")}},yv=async(t,e,o)=>{const s=await Zn(t),l={text:`Apply this edit at hotspot (${o.x}, ${o.y}): ${e}`};return Kt([s,l],"Retouch")},vv=async(t,e)=>{const o=await Zn(t),s={text:`Apply this filter: ${e}`};try{return await Kt([o,s],"Filter")}catch(l){if(l instanceof Error&&l.message.includes("Model responded with text instead of an image"))return console.warn("Original filter prompt failed. Trying a fallback without the English prefix."),await Kt([o,{text:e}],"Filter (fallback)");throw l}},ND=async(t,e)=>{const o=await Zn(t),s={text:`Apply this artistic style: ${e}`};try{return await Kt([o,s],"Apply Style")}catch(l){if(l instanceof Error&&l.message.includes("Model responded with text instead of an image"))return console.warn("Original styled image prompt failed. Trying a fallback without the English prefix."),await Kt([o,{text:e}],"Apply Style (fallback)");throw l}},Tv=async(t,e)=>{const o=await Zn(t),s={text:`Apply this adjustment: ${e}`};try{return await Kt([o,s],"Adjust")}catch(l){if(l instanceof Error&&l.message.includes("Model responded with text instead of an image"))return console.warn("Original adjustment prompt failed. Trying a fallback without the English prefix."),await Kt([o,{text:e}],"Adjust (fallback)");throw l}},xv=async(t,e)=>{const o=await Zn(t),s={text:`Apply this texture: ${e}`};try{return await Kt([o,s],"Texture")}catch(l){if(l instanceof Error&&l.message.includes("Model responded with text instead of an image"))return console.warn("Original texture prompt failed. Trying a fallback without the English prefix."),await Kt([o,{text:e}],"Texture (fallback)");throw l}},Sv=async t=>{const e=await Zn(t);return Kt([e,{text:"Remove the background of this image, leaving only the main subject with a transparent background."}],"Erase Background")},Ev=async(t,e,o)=>{try{const s=await Zn(t),l=await Promise.all(e.map((m,d)=>Zn(m).then(v=>({...v,index:d+1}))));let u="Fuse the images. The main image is the one I'm editing. ";l.forEach(m=>{u+=`Source image ${m.index} is provided. `}),u+=`Instructions: ${o}`;const c={text:u},h=[s,...l.map(m=>({inlineData:m.inlineData})),c];return await Kt(h,"Fusion")}catch(s){throw br(s,"Fusion")}},_d=async(t,e)=>{try{const o=wd(),s=await Zn(t),u={text:`Analyze this image. Suggest 4 creative and interesting image ${e}s that would look good on it. Provide a very short, catchy name (2-4 words, in English) and the corresponding detailed English prompt for each suggestion.`},h=(await o.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[s,u]},config:{responseMimeType:"application/json",responseSchema:{type:Ft.OBJECT,properties:{suggestions:{type:Ft.ARRAY,items:{type:Ft.OBJECT,properties:{name:{type:Ft.STRING,description:"A very short, catchy name for the effect in English."},prompt:{type:Ft.STRING,description:"The detailed English prompt to achieve the effect."}}}}}}}})).text.trim();return JSON.parse(h).suggestions}catch(o){throw br(o,"Get Ideas")}},DD=t=>`Create a photograph of the person in this image as if they were living in the ${t}. The photograph should capture the distinct fashion, hairstyles, and overall atmosphere of that time period. Ensure the final image is a clear photograph that looks authentic to the era.`,Cv=t=>{const e=t.match(/(\d{4}s)/);return e?e[1]:null},ID=async(t,e)=>{const o=t.match(/^data:(image\/\w+);base64,(.*)$/);if(!o)throw new Error("Invalid image data URL format.");const[,s,l]=o,u={inlineData:{mimeType:s,data:l}};try{return await Kt([u,{text:e}],`Generate ${Cv(e)} Image`)}catch(c){if(c instanceof Error&&c.message.includes("Model responded with text instead of an image")){console.warn("Original prompt failed. Trying a fallback.");const h=Cv(e);if(!h)throw c;const d={text:DD(h)};return await Kt([u,d],`Generate ${h} Image (fallback)`)}throw c}};

const Ra=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),UD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})}),PD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"})}),LD=({className:t})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),bd=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),VD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.475 2.118A2.25 2.25 0 0 1 .879 16.5a3 3 0 0 1 4.242-4.242 3 3 0 0 0 4.242 0 3 3 0 0 0 0-4.242 3 3 0 0 1-4.242-4.242 3 3 0 0 1 4.242 0 3 3 0 0 1 0 4.242 3 3 0 0 0 4.242 4.242 3 3 0 0 0 5.78-1.128 2.25 2.25 0 0 1 2.475-2.118 2.25 2.25 0 0 1 .879 3.5a3 3 0 0 1-4.242 4.242 3 3 0 0 0-4.242 0 3 3 0 0 0 0 4.242Z"})}),kD=({className:t})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a3 3 0 100-6 3 3 0 000 6z"})]}),Mr=({className:t})=>S.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.624l-.219.874-.219-.874a1.5 1.5 0 00-1.023-1.023l-.874-.219.874-.219a1.5 1.5 0 001.023-1.023l.219-.874.219.874a1.5 1.5 0 001.023 1.023l.874.219-.874.219a1.5 1.5 0 00-1.023 1.023z"})}),Na=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),BD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),pr=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.181-3.183m-11.664 0l4.663-4.663m-4.663 0l-3.181 3.183"})}),GD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12V9.75M8.25 9.75h3.75m-3.75 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),HD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.996 1.11-.996h2.593c.55 0 1.02.454 1.11.996l.38 1.951c.28.144.55.303.81.48l1.848-.468c.54-.138 1.08.17 1.32.658l1.3 2.252c.24.487.12.96-.24 1.17l-1.616.98c.03.11.05.22.05.33v2.58c0 .11-.02.22-.05.33l1.616.98c.36.21.48.683.24 1.17l-1.3 2.252c-.24.487-.78.796-1.32.658l-1.848-.468a6.34 6.34 0 01-.81.48l-.38 1.951c-.09.542-.56.996-1.11.996h-2.593c-.55 0-1.02-.454-1.11-.996l-.38-1.951a6.34 6.34 0 01-.81-.48l-1.848.468c-.54.138-1.08-.17-1.32-.658l-1.3-2.252c-.24-.487-.12-.96.24-1.17l1.616-.98c-.03-.11-.05-.22-.05-.33V9.92c0-.11.02.22.05-.33L2.91 8.418c-.36-.21-.48-.683-.24-1.17l1.3-2.252c.24-.487.78-.796 1.32-.658l1.848.468c.26-.177.53-.336.81-.48l.38-1.951zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z"})}),Md=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),qD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),zD=({className:t})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 15.91a4.5 4.5 0 0 1-6.364 0 4.5 4.5 0 0 1 0-6.364 4.5 4.5 0 0 1 6.364 0 4.5 4.5 0 0 1 0 6.364Z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 21v-5.25a.75.75 0 0 0-1.5 0v5.25m3-3.75V12a1.5 1.5 0 0 0-3 0v3.75m3-1.5-3 1.5m3-3 .75-1.5m-3-3 .75 1.5"})]}),Av=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),wv=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-6-13.5v13.5"})}),OD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),Dx=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 8.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6A2.25 2.25 0 0115.75 3.75h2.25A2.25 2.25 0 0120.25 6v2.25a2.25 2.25 0 01-2.25 2.25h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75A2.25 2.25 0 0115.75 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25h-2.25a2.25 2.25 0 01-2.25-2.25v-2.25z"})}),FD=({className:t})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),YD=({activeView:t,onViewChange:e,onOpenSettings:o,onOpenHelp:s})=>S.jsx("header",{className:"w-full py-4 px-4 sm:px-8 border-b border-gray-700 bg-gray-800/30 backdrop-blur-sm sticky top-0 z-50",children:S.jsxs("div",{className:"w-full max-w-7xl mx-auto flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("button",{onClick:()=>e("editor"),className:`flex items-center gap-3 transition-colors p-2 -m-2 rounded-lg ${t==="editor"?"text-white":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[S.jsx(Mr,{className:"w-6 h-6 text-blue-400"}),S.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Nano Studio"})]}),S.jsx("div",{className:"h-6 w-px bg-gray-600"}),S.jsxs("button",{onClick:()=>e("past-forward"),className:`flex items-center gap-3 transition-colors p-2 -m-2 rounded-lg ${t==="past-forward"?"text-white":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[S.jsx(qD,{className:"w-6 h-6 text-yellow-400"}),S.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Past Forward"})]}),S.jsx("div",{className:"h-6 w-px bg-gray-600"}),S.jsxs("button",{onClick:()=>e("beatsync"),className:`flex items-center gap-3 transition-colors p-2 -m-2 rounded-lg ${t==="beatsync"?"text-white":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[S.jsx(zD,{className:"w-6 h-6 text-purple-400"}),S.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"BeatSync"})]}),S.jsx("div",{className:"h-6 w-px bg-gray-600"}),S.jsxs("button",{onClick:()=>e("template-library"),className:`flex items-center gap-3 transition-colors p-2 -m-2 rounded-lg ${t==="template-library"?"text-white":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[S.jsx(Dx,{className:"w-6 h-6 text-green-400"}),S.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Awesome Prompts"})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:s,className:"p-2 text-gray-400 rounded-full hover:bg-white/10 hover:text-white transition-colors","aria-label":"Help",title:"Help",children:S.jsx(OD,{className:"w-6 h-6"})}),S.jsx("button",{onClick:o,className:"p-2 text-gray-400 rounded-full hover:bg-white/10 hover:text-white transition-colors","aria-label":"API Settings",title:"API Settings",children:S.jsx(HD,{className:"w-6 h-6"})})]})]})});

const vn=({className:t="h-16 w-16 text-zinc-800"})=>S.jsxs("svg",{className:`animate-spin mx-auto ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),JD=({onApplyFilter:t,isLoading:e,currentImage:o,onError:s})=>{const[l,u]=L.useState(null),[c,h]=L.useState(""),[m,d]=L.useState([]),[v,T]=L.useState(!1),[x,C]=L.useState(!0),w=[{name:"Synthwave",prompt:"Apply a vibrant 80s synthwave aesthetic with neon magenta and cyan glows, and subtle scan lines."},{name:"Anime Style",prompt:"Give the image a vibrant Japanese anime style, with bold outlines, cel-shading, and saturated colors."},{name:"Lomo",prompt:"Apply a Lomography-style cross-processing film effect with high-contrast, oversaturated colors, and dark vignetting."},{name:"Glitch Art",prompt:"Transform the image into a futuristic holographic projection with digital glitch effects and chromatic aberration."}],_=l||c,R=k=>{u(k),h("")},D=k=>{h(k.target.value),u(null)},V=()=>{_&&t(_)},P=async()=>{T(!0),s("");try{const k=await _d(o,"filter");d(k),C(!0)}catch(k){console.error("Failed to get AI suggestions:",k),s(k instanceof Error?k.message:"Failed to get AI suggestions")}finally{T(!1)}};return S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Apply Filters"}),S.jsx("button",{onClick:P,disabled:e||v,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-purple-600 rounded-lg hover:bg-purple-500 transition-colors disabled:bg-purple-800 disabled:cursor-not-allowed active:scale-95",children:v?S.jsxs(S.Fragment,{children:[S.jsx(vn,{className:"w-5 h-5"}),S.jsx("span",{children:"Getting ideas..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(Mr,{className:"w-5 h-5"}),S.jsx("span",{children:"Get Ideas"})]})})]}),S.jsx("div",{className:"border-t border-gray-700/50 -mx-4 px-4",children:S.jsxs("button",{className:"w-full flex justify-between items-center py-3 text-left focus:outline-none",onClick:()=>C(!x),"aria-expanded":x,"aria-controls":"filter-presets",children:[S.jsx("h4",{className:"text-md font-semibold text-gray-300 hover:text-white transition-colors",children:"Filter Presets"}),S.jsx(Na,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${x?"rotate-180":""}`})]})}),S.jsx("div",{id:"filter-presets",className:`grid gap-4 transition-all duration-300 ease-in-out overflow-hidden ${x?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:S.jsxs("div",{className:"min-h-0 flex flex-col gap-4",children:[m.length>0&&S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map(k=>S.jsx("button",{onClick:()=>R(k.prompt),disabled:e,className:`w-full text-center bg-purple-600/20 border border-transparent text-purple-300 font-semibold py-3 px-4 rounded-md transition-all duration-200 ease-in-out hover:bg-purple-600/40 hover:border-purple-500 active:scale-95 text-base disabled:opacity-50 disabled:cursor-not-allowed ${l===k.prompt?"ring-2 ring-offset-2 ring-offset-gray-800 ring-purple-500":""}`,children:k.name},k.name))}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:w.map(k=>S.jsx("button",{onClick:()=>R(k.prompt),disabled:e,className:`w-full text-center bg-white/10 border border-transparent text-gray-200 font-semibold py-3 px-4 rounded-md transition-all duration-200 ease-in-out hover:bg-white/20 hover:border-white/20 active:scale-95 text-base disabled:opacity-50 disabled:cursor-not-allowed ${l===k.prompt?"ring-2 ring-offset-2 ring-offset-gray-800 ring-blue-500":""}`,children:k.name},k.name))})]})}),S.jsxs("div",{className:"relative -mt-2",children:[S.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:S.jsx("div",{className:"w-full border-t border-gray-700/50"})}),S.jsx("div",{className:"relative flex justify-center",children:S.jsx("span",{className:"bg-gray-800/50 px-2 text-sm text-gray-400",children:"or"})})]}),S.jsx("input",{type:"text",value:c,onChange:D,placeholder:"Describe a custom filter (e.g., '80s synthwave glow')",className:"flex-grow bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:outline-none transition w-full disabled:cursor-not-allowed disabled:opacity-60 text-base",disabled:e}),_&&S.jsx("div",{className:"animate-fade-in flex flex-col gap-4",children:S.jsx("button",{onClick:V,className:"w-full bg-gradient-to-br from-blue-600 to-blue-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-blue-800 disabled:to-blue-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none",disabled:e||!_.trim(),children:"Apply Filter"})})]})},KD=({onApplyAdjustment:t,isLoading:e,currentImage:o,onError:s,initialPrompt:l})=>{const[u,c]=L.useState(null),[h,m]=L.useState(l||""),[d,v]=L.useState([]),[T,x]=L.useState(!1),[C,w]=L.useState(!0);L.useEffect(()=>{l&&(m(l),c(null))},[l]);const _=[{name:"Bokeh",prompt:"Apply a realistic depth-of-field effect, making the background blurry while keeping the main subject in sharp focus."},{name:"Enhance Details",prompt:"Slightly enhance the sharpness and details of the image without making it look unnatural."},{name:"Warm Light",prompt:"Adjust the color temperature to give the image warmer, golden-hour style lighting."},{name:"Studio Lighting",prompt:"Add dramatic, professional studio lighting to the main subject."}],R=u||h,D=U=>{c(U),m("")},V=U=>{m(U.target.value),c(null)},P=()=>{R&&t(R)},k=async()=>{x(!0),s("");try{const U=await _d(o,"adjustment");v(U),w(!0)}catch(U){console.error("Failed to get AI suggestions:",U),s(U instanceof Error?U.message:"Failed to get AI suggestions")}finally{x(!1)}};return S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Apply Professional Adjustments"}),S.jsx("button",{onClick:k,disabled:e||T,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-purple-600 rounded-lg hover:bg-purple-500 transition-colors disabled:bg-purple-800 disabled:cursor-not-allowed active:scale-95",children:T?S.jsxs(S.Fragment,{children:[S.jsx(vn,{className:"w-5 h-5"}),S.jsx("span",{children:"Getting ideas..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(Mr,{className:"w-5 h-5"}),S.jsx("span",{children:"Get Ideas"})]})})]}),S.jsx("div",{className:"border-t border-gray-700/50 -mx-4 px-4",children:S.jsxs("button",{className:"w-full flex justify-between items-center py-3 text-left focus:outline-none",onClick:()=>w(!C),"aria-expanded":C,"aria-controls":"adjustment-presets",children:[S.jsx("h4",{className:"text-md font-semibold text-gray-300 hover:text-white transition-colors",children:"Adjustment Presets"}),S.jsx(Na,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${C?"rotate-180":""}`})]})}),S.jsx("div",{id:"adjustment-presets",className:`grid gap-4 transition-all duration-300 ease-in-out overflow-hidden ${C?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:S.jsxs("div",{className:"min-h-0 flex flex-col gap-4",children:[d.length>0&&S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:d.map(U=>S.jsx("button",{onClick:()=>D(U.prompt),disabled:e,className:`w-full text-center bg-purple-600/20 border border-transparent text-purple-300 font-semibold py-3 px-4 rounded-md transition-all duration-200 ease-in-out hover:bg-purple-600/40 hover:border-purple-500 active:scale-95 text-base disabled:opacity-50 disabled:cursor-not-allowed ${u===U.prompt?"ring-2 ring-offset-2 ring-offset-gray-800 ring-purple-500":""}`,children:U.name},U.name))}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:_.map(U=>S.jsx("button",{onClick:()=>D(U.prompt),disabled:e,className:`w-full text-center bg-white/10 border border-transparent text-gray-200 font-semibold py-3 px-4 rounded-md transition-all duration-200 ease-in-out hover:bg-white/20 hover:border-white/20 active:scale-95 text-base disabled:opacity-50 disabled:cursor-not-allowed ${u===U.prompt?"ring-2 ring-offset-2 ring-offset-gray-800 ring-blue-500":""}`,children:U.name},U.name))})]})}),S.jsxs("div",{className:"relative -mt-2",children:[S.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:S.jsx("div",{className:"w-full border-t border-gray-700/50"})}),S.jsx("div",{className:"relative flex justify-center",children:S.jsx("span",{className:"bg-gray-800/50 px-2 text-sm text-gray-400",children:"or"})})]}),S.jsx("input",{type:"text",value:h,onChange:V,placeholder:"Describe a custom adjustment (e.g., 'change background to a forest')",className:"flex-grow bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:outline-none transition w-full disabled:cursor-not-allowed disabled:opacity-60 text-base",disabled:e}),R&&S.jsx("div",{className:"animate-fade-in flex flex-col gap-4",children:S.jsx("button",{onClick:P,className:"w-full bg-gradient-to-br from-blue-600 to-blue-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-blue-800 disabled:to-blue-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none",disabled:e||!R.trim(),children:"Apply Adjustment"})})]})},XD=({onApplyCrop:t,onSetAspect:e,isLoading:o,isCropping:s})=>{const[l,u]=L.useState("Free"),c=(m,d)=>{u(m),e(d)},h=[{name:"Free",value:void 0},{name:"1:1",value:1/1},{name:"16:9",value:16/9}];return S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col items-center gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Crop Image"}),S.jsx("p",{className:"text-sm text-gray-400 -mt-2",children:"Click and drag on the image to select a crop area."}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Aspect Ratio: "}),h.map(({name:m,value:d})=>S.jsx("button",{onClick:()=>c(m,d),disabled:o,className:`px-4 py-2 rounded-md text-base font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 ${l===m?"bg-gradient-to-br from-blue-600 to-blue-500 text-white shadow-md shadow-blue-500/20":"bg-white/10 hover:bg-white/20 text-gray-200"}`,children:m},m))]}),S.jsx("button",{onClick:t,disabled:o||!s,className:"w-full max-w-xs mt-2 bg-gradient-to-br from-green-600 to-green-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-green-500/20 hover:shadow-xl hover:shadow-green-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-green-800 disabled:to-green-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none",children:"Apply Crop"})]})},Ix=15,QD=Ix*1024*1024,ZD=({onApplyFusion:t,isLoading:e,onError:o})=>{const[s,l]=L.useState(null),[u,c]=L.useState(null),[h,m]=L.useState(""),d=L.useRef(null),v=L.useRef(null),T=()=>{const C=[s,u].filter(Boolean);C.length>0&&h.trim()&&t(C,h)},x=({id:C,file:w,setFile:_,fileInputRef:R})=>{const[D,V]=L.useState(!1),P=w?URL.createObjectURL(w):null,k=J=>{if(J&&J.length>0){const B=J[0];if(B.size>QD){o(`Source image size cannot exceed ${Ix}MB. Please select a smaller file.`);return}o(""),_(B)}},U=L.useCallback(()=>{_(null),R.current&&(R.current.value="")},[_,R]);return S.jsx("div",{className:`w-full p-4 border-2 rounded-lg transition-all duration-200 flex-1 ${D?"border-dashed border-blue-400 bg-blue-500/10":"border-gray-600"}`,onDragOver:J=>{J.preventDefault(),V(!0)},onDragLeave:()=>V(!1),onDrop:J=>{J.preventDefault(),V(!1),k(J.dataTransfer.files)},children:P?S.jsxs("div",{className:"relative group flex items-center justify-center h-full",children:[S.jsx("img",{src:P,alt:`Source for fusion ${C}`,className:"w-auto h-32 mx-auto rounded-md object-contain"}),S.jsx("button",{onClick:U,className:"absolute top-1 right-1 bg-black/50 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove source image ${C}`,children:S.jsx(Md,{className:"w-4 h-4"})})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-gray-400 py-8 h-full",children:[S.jsx(Ra,{className:"w-8 h-8 mb-2"}),S.jsxs("p",{className:"font-semibold",children:["Upload Source Image ",C]}),S.jsxs("p",{className:"text-xs",children:["Drag & drop or ",S.jsx("span",{className:"text-blue-400 font-semibold cursor-pointer",onClick:()=>{var J;return(J=R.current)==null?void 0:J.click()},children:"click to browse"})]}),S.jsx("input",{ref:R,type:"file",className:"hidden",accept:"image/*",onChange:J=>k(J.target.files)})]})})};return S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col items-center gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Smart Fusion"}),S.jsx("p",{className:"text-sm text-gray-400 -mt-2",children:"Upload one or two source images, then describe how to combine them."}),S.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-4",children:[S.jsx(x,{id:1,file:s,setFile:l,fileInputRef:d}),S.jsx(x,{id:2,file:u,setFile:c,fileInputRef:v})]}),S.jsxs("div",{className:"w-full flex gap-2",children:[S.jsx("input",{type:"text",value:h,onChange:C=>m(C.target.value),placeholder:"e.g., 'place the person from image 1 into the main image, rendered in the style of image 2'",className:"flex-grow bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:outline-none transition w-full disabled:cursor-not-allowed disabled:opacity-60 text-base",disabled:e||!s&&!u}),S.jsx("button",{onClick:T,className:"bg-gradient-to-br from-purple-600 to-purple-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-purple-800 disabled:to-purple-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none",disabled:e||!h.trim()||!s&&!u,children:"Apply Fusion"})]})]})},$D=({onApplyTexture:t,isLoading:e,currentImage:o,onError:s})=>{const[l,u]=L.useState(null),[c,h]=L.useState(""),[m,d]=L.useState([]),[v,T]=L.useState(!1),[x,C]=L.useState(!0),w=[{name:"Crackle Paint",prompt:"Apply a cracked and peeling paint texture over the image, revealing a darker layer underneath."},{name:"Fabric",prompt:"Overlay a realistic woven fabric texture, like canvas or burlap, across the entire image."},{name:"Wood Grain",prompt:"Apply a rich, dark wood grain texture to the image, following the contours of the subjects."},{name:"Brushed Metal",prompt:"Give the image a brushed metal texture, with subtle horizontal streaks and a metallic sheen."}],_=l||c,R=k=>{u(k),h("")},D=k=>{h(k.target.value),u(null)},V=()=>{_&&t(_)},P=async()=>{T(!0),s("");try{const k=await _d(o,"texture");d(k),C(!0)}catch(k){console.error("Failed to get AI suggestions:",k),s(k instanceof Error?k.message:"Failed to get AI suggestions")}finally{T(!1)}};return S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Apply Creative Textures"}),S.jsx("button",{onClick:P,disabled:e||v,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-purple-600 rounded-lg hover:bg-purple-500 transition-colors disabled:bg-purple-800 disabled:cursor-not-allowed active:scale-95",children:v?S.jsxs(S.Fragment,{children:[S.jsx(vn,{className:"w-5 h-5"}),S.jsx("span",{children:"Getting ideas..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(Mr,{className:"w-5 h-5"}),S.jsx("span",{children:"Get Ideas"})]})})]}),S.jsx("div",{className:"border-t border-gray-700/50 -mx-4 px-4",children:S.jsxs("button",{className:"w-full flex justify-between items-center py-3 text-left focus:outline-none",onClick:()=>C(!x),"aria-expanded":x,"aria-controls":"texture-presets",children:[S.jsx("h4",{className:"text-md font-semibold text-gray-300 hover:text-white transition-colors",children:"Texture Presets"}),S.jsx(Na,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${x?"rotate-180":""}`})]})}),S.jsx("div",{id:"texture-presets",className:`grid gap-4 transition-all duration-300 ease-in-out overflow-hidden ${x?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:S.jsxs("div",{className:"min-h-0 flex flex-col gap-4",children:[m.length>0&&S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map(k=>S.jsx("button",{onClick:()=>R(k.prompt),disabled:e,className:`w-full text-center bg-purple-600/20 border border-transparent text-purple-300 font-semibold py-3 px-4 rounded-md transition-all duration-200 ease-in-out hover:bg-purple-600/40 hover:border-purple-500 active:scale-95 text-base disabled:opacity-50 disabled:cursor-not-allowed ${l===k.prompt?"ring-2 ring-offset-2 ring-offset-gray-800 ring-purple-500":""}`,children:k.name},k.name))}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:w.map(k=>S.jsx("button",{onClick:()=>R(k.prompt),disabled:e,className:`w-full text-center bg-white/10 border border-transparent text-gray-200 font-semibold py-3 px-4 rounded-md transition-all duration-200 ease-in-out hover:bg-white/20 hover:border-white/20 active:scale-95 text-base disabled:opacity-50 disabled:cursor-not-allowed ${l===k.prompt?"ring-2 ring-offset-2 ring-offset-gray-800 ring-blue-500":""}`,children:k.name},k.name))})]})}),S.jsxs("div",{className:"relative -mt-2",children:[S.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:S.jsx("div",{className:"w-full border-t border-gray-700/50"})}),S.jsx("div",{className:"relative flex justify-center",children:S.jsx("span",{className:"bg-gray-800/50 px-2 text-sm text-gray-400",children:"or"})})]}),S.jsx("input",{type:"text",value:c,onChange:D,placeholder:"Describe a custom texture (e.g., 'rusty metal plate effect')",className:"flex-grow bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:outline-none transition w-full disabled:cursor-not-allowed disabled:opacity-60 text-base",disabled:e}),_&&S.jsx("div",{className:"animate-fade-in flex flex-col gap-4",children:S.jsx("button",{onClick:V,className:"w-full bg-gradient-to-br from-blue-600 to-blue-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-blue-800 disabled:to-blue-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none",disabled:e||!_.trim(),children:"Apply Texture"})})]})},WD=({onRemoveBackground:t,isLoading:e})=>S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col items-center gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Smart Erase"}),S.jsx("p",{className:"text-sm text-gray-400 -mt-2",children:"Automatically remove the image background. Perfect for creating transparent PNGs."}),S.jsxs("button",{onClick:t,disabled:e,className:"w-full max-w-xs mt-2 bg-gradient-to-br from-green-600 to-green-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-green-500/20 hover:shadow-xl hover:shadow-green-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-green-800 disabled:to-green-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-3",children:[S.jsx(VD,{className:"w-6 h-6"}),"Remove Background"]})]}),jD=({isOpen:t,onClose:e,onSave:o})=>{const[s,l]=L.useState(""),[u,c]=L.useState(""),[h,m]=L.useState(!1);L.useEffect(()=>{if(t){const T=localStorage.getItem("gemini-api-key")||"",x=localStorage.getItem("gemini-base-url")||"";l(T),c(x),m(!1)}},[t]);const d=()=>{localStorage.setItem("gemini-api-key",s),localStorage.setItem("gemini-base-url",u),m(!0),o(),setTimeout(()=>{e()},1e3)},v=()=>{localStorage.removeItem("gemini-api-key"),localStorage.removeItem("gemini-base-url"),l(""),c(""),m(!1)};return t?S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",onClick:e,"aria-modal":"true",role:"dialog",children:S.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl shadow-blue-500/10 w-full max-w-lg m-4 p-6 text-gray-200 relative",onClick:T=>T.stopPropagation(),children:[S.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors","aria-label":"Close settings",children:S.jsx(Md,{className:"w-6 h-6"})}),S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"API Settings"}),S.jsxs("div",{className:"text-yellow-300/80 bg-yellow-900/20 border border-yellow-700/50 p-3 rounded-lg text-sm mb-4",children:[S.jsx("b",{children:"Please Note:"})," Using your own Google Gemini API key will incur costs. If left blank, the app will attempt to use the system-configured API."]}),S.jsxs("div",{className:"text-cyan-300/80 bg-cyan-900/20 border border-cyan-700/50 p-3 rounded-lg text-sm mb-6",children:[S.jsx("b",{children:"Notice:"})," We offer a cost-effective and stable Nano Banana image generation API. For details, visit the ",S.jsx("a",{href:"https://cnb.build/no.1/api/-/issues/2",target:"_blank",rel:"noopener noreferrer",className:"font-bold underline hover:text-cyan-200",children:"High-Value API Platform"}),"."]}),S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{htmlFor:"api-key-input",className:"font-semibold text-gray-300",children:"Gemini API Key"}),S.jsx("input",{id:"api-key-input",type:"password",value:s,onChange:T=>{l(T.target.value),m(!1)},placeholder:"Paste your API key here",className:"bg-gray-900 border border-gray-600 text-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{htmlFor:"base-url-input",className:"font-semibold text-gray-300",children:"API Base URL (Optional)"}),S.jsx("input",{id:"base-url-input",type:"text",value:u,onChange:T=>{c(T.target.value),m(!1)},placeholder:"e.g., https://api.proxy.com/",className:"bg-gray-900 border border-gray-600 text-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"})]})]}),S.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[S.jsx("button",{onClick:v,className:"flex-1 bg-gray-700/50 text-gray-300 font-bold py-3 px-6 rounded-lg transition-colors hover:bg-gray-700/80 active:scale-95",children:"Clear"}),S.jsx("button",{onClick:d,className:"flex-1 bg-gradient-to-br from-blue-600 to-blue-500 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/40 hover:-translate-y-px active:scale-95 active:shadow-inner disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed",disabled:h,children:h?"Saved!":"Save Settings"})]})]})}):null},eI=({isOpen:t,onClose:e})=>t?S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",onClick:e,"aria-modal":"true",role:"dialog",children:S.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl shadow-blue-500/10 w-full max-w-lg m-4 p-6 text-gray-200 relative",onClick:o=>o.stopPropagation(),children:[S.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors","aria-label":"Close help",children:S.jsx(Md,{className:"w-6 h-6"})}),S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Help & Free Usage"}),S.jsxs("div",{className:"space-y-3 text-gray-300",children:[S.jsx("p",{children:"This web application is powered by Google's Gemini models. You can use the powerful AI features of this editor for free by getting your own API key."}),S.jsxs("p",{children:["1. Visit ",S.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"font-bold underline text-blue-400 hover:text-blue-300",children:"Google AI Studio"})," to create a free API key."]}),S.jsx("p",{children:"2. Click the Settings icon () in the top right corner of this app."}),S.jsx("p",{children:"3. Paste your new key into the API key field and save."}),S.jsx("p",{className:"text-sm text-gray-400 pt-2",children:"This allows you to use the app for free within Google's generous limits. If no key is provided, the app will try to use a system-wide key, which may not be available."})]})]})}):null,tI=({onFileSelect:t,onImageGenerated:e,onTemplateSelect:o,onShowTemplateLibrary:s,isLoading:l})=>{const[u,c]=L.useState(!1),[h,m]=L.useState(""),[d,v]=L.useState(!1),[T,x]=L.useState(null),[C,w]=L.useState("1:1"),[_,R]=L.useState([]);L.useEffect(()=>{(async()=>{try{const J=await fetch("./templates.json");if(!J.ok)throw new Error("Network response was not ok");const B=await J.json();R(B)}catch(J){console.error("Failed to fetch templates:",J)}})()},[]),L.useEffect(()=>{const U=J=>{const B=J.target;B&&(B.tagName==="INPUT"||B.tagName==="TEXTAREA")||J.clipboardData&&J.clipboardData.files.length>0&&J.clipboardData.files[0].type.startsWith("image/")&&t(J.clipboardData.files)};return window.addEventListener("paste",U),()=>{window.removeEventListener("paste",U)}},[t]);const D=U=>{t(U.target.files)},V=U=>{U.preventDefault(),c(!1),t(U.dataTransfer.files)},P=async()=>{if(!h.trim()){x("Please enter a prompt.");return}v(!0),x(null);try{const U=await RD(h,C);e(U)}catch(U){console.error(U),x(U instanceof Error?U.message:"An unknown error occurred while generating the image.")}finally{v(!1)}},k=[{name:"Square",value:"1:1"},{name:"Widescreen",value:"16:9"},{name:"Portrait",value:"9:16"},{name:"Landscape",value:"4:3"},{name:"Tall",value:"3:4"}];return S.jsxs("div",{className:"relative flex flex-col items-center gap-6 animate-fade-in w-full max-w-5xl mx-auto text-center p-4 sm:p-8",children:[l&&S.jsxs("div",{className:"absolute inset-0 bg-gray-900/80 backdrop-blur-sm flex flex-col items-center justify-center z-10 rounded-2xl",children:[S.jsx(vn,{className:"w-16 h-16 text-blue-400"}),S.jsx("p",{className:"mt-4 text-lg text-gray-300 font-semibold",children:"Loading Template..."})]}),S.jsxs("h1",{className:"text-5xl font-extrabold tracking-tight text-gray-100 sm:text-6xl md:text-7xl",children:["Nano Banana ",S.jsx("span",{className:"text-blue-500",children:"Generator"})]}),S.jsx("div",{className:"max-w-2xl text-lg text-gray-400 md:text-xl flex flex-col gap-2",children:S.jsx("h3",{className:"text-3xl font-extrabold tracking-tight text-gray-100 sm:text-4xl md:text-5xl",children:"Audio, Image & Video"})}),S.jsxs("div",{className:"w-full max-w-5xl mt-8 grid grid-cols-1 md:grid-cols-10 gap-6 items-stretch",children:[S.jsx("div",{className:"md:col-span-4 p-6 sm:p-8 bg-gray-800/30 border-2 border-gray-700/50 rounded-2xl backdrop-blur-sm flex flex-col text-left",children:S.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[S.jsxs("h2",{className:"text-2xl font-bold text-gray-100 text-center",children:["Create Images ",S.jsx("span",{className:"text-amber-400",children:"with AI"})]}),S.jsx("textarea",{value:h,onChange:U=>m(U.target.value),placeholder:"e.g., 'a puppy in an astronaut helmet floating in a colorful nebula, digital art'",className:"w-full bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-4 focus:ring-2 focus:ring-amber-500 focus:outline-none transition text-base h-28 resize-none disabled:opacity-60",disabled:d}),S.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium text-gray-400 mr-2",children:"Aspect Ratio:"}),k.map(({name:U,value:J})=>S.jsx("button",{onClick:()=>w(J),disabled:d,className:`px-3 py-1.5 rounded-md text-sm font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 ${C===J?"bg-gradient-to-br from-amber-600 to-amber-500 text-white shadow-md shadow-amber-500/20":"bg-white/10 hover:bg-white/20 text-gray-200"}`,children:U},J))]}),T&&S.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-300 px-4 py-2 rounded-lg text-center text-sm",role:"alert",children:T}),S.jsx("div",{className:"flex-grow"})," ",S.jsx("button",{onClick:P,disabled:d,className:"relative w-full inline-flex items-center justify-center mb-4 px-8 py-4 text-lg font-bold text-white bg-amber-600 rounded-full cursor-pointer group hover:bg-amber-500 transition-colors disabled:bg-purple-800 disabled:cursor-not-allowed",children:d?S.jsxs(S.Fragment,{children:[S.jsx(vn,{className:"w-6 h-6 mr-3"}),"Generating..."]}):S.jsxs(S.Fragment,{children:[S.jsx(BD,{className:"w-6 h-6 mr-3"}),"Generate Image"]})})]})}),S.jsx("div",{className:`group p-6 bg-gray-800/30 border-2 rounded-2xl backdrop-blur-sm flex flex-col justify-center items-center transition-all duration-300 md:col-span-6 ${u?"bg-blue-500/20 border-dashed border-blue-400":"border-gray-700/50 hover:border-blue-500/50"}`,onDragOver:U=>{U.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:V,children:S.jsxs("div",{className:"flex flex-col items-center gap-3 text-center w-full",children:[_.length>0&&S.jsxs("div",{className:"w-full",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Or start from a template"}),S.jsx("div",{className:"grid grid-cols-3 gap-3 max-w-md mx-auto",children:_.slice(0,6).map(U=>S.jsx("button",{onClick:()=>o(U.baseUrl,U.prompt),className:"aspect-square bg-gray-900/50 rounded-lg overflow-hidden transition-all duration-200 hover:scale-105 hover:ring-2 ring-blue-400 focus:outline-none focus:ring-2 ring-blue-400",title:U.name,children:S.jsx("img",{src:U.iconUrl,alt:U.name,className:"w-full h-full object-cover"})},U.id))}),S.jsxs("div",{className:"relative my-3",children:[S.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:S.jsx("div",{className:"w-full border-t border-gray-600"})}),S.jsx("div",{className:"relative flex justify-center",children:S.jsx("span",{className:"bg-gray-800/30 px-2 text-sm text-gray-400 backdrop-blur-sm",children:"or"})})]})]}),S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full justify-center",children:[S.jsxs("button",{onClick:()=>{var U;return(U=document.getElementById("image-upload-start"))==null?void 0:U.click()},className:"flex-grow relative inline-flex items-center justify-center px-10 py-4 text-lg font-bold text-white bg-blue-600 rounded-full cursor-pointer group-hover:bg-blue-500 transition-colors",children:[S.jsx(Ra,{className:"w-6 h-6 mr-3 transition-transform duration-500 ease-in-out group-hover:rotate-[360deg] group-hover:scale-110"}),"Upload an Image to Edit"]}),S.jsx("button",{onClick:s,className:"flex-shrink-0 p-4 bg-gray-700 text-gray-200 rounded-full cursor-pointer hover:bg-gray-600 transition-colors",title:"Open Template Library",children:S.jsx(Dx,{className:"w-6 h-6"})})]}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"You can also drag & drop or paste a file here"}),S.jsx("input",{id:"image-upload-start",type:"file",className:"hidden",accept:"image/*",onChange:D})]})]})})]})]})};

function nI(t){return new Promise((e,o)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>e(s),s.onerror=l=>o(new Error(`Failed to load image: ${t.substring(0,50)}...`)),s.src=t})}function iI(t,e){return Math.random()*(e-t)+t}const oI=async(t,e)=>{const u=document.createElement("canvas");u.width=2400,u.height=3e3;const c=u.getContext("2d");if(!c)throw new Error("Could not create canvas context");c.fillStyle="#fdf5e6",c.fillRect(0,0,2400,3e3),c.fillStyle="#333",c.font='bold 160px "Caveat"',c.textAlign="center",c.fillText("Past Forward",2400/2,190);const h=await Promise.all(e.map(V=>{const P=t[V];return P!=null&&P.url?nI(P.url):Promise.resolve(null)})),m=2,d=3,v=2100,T=2500,x=v/m,C=T/d,w=x*.8,_=w*1.2,R=w*.9,D=R;for(let V=0;V<e.length;V++){const P=h[V],k=e[V];if(!P)continue;const U=Math.floor(V/m),B=150+V%m*x,$=350+U*C,j=B+x/2,te=$+C/2;c.save(),c.translate(j,te),c.rotate(iI(-.1,.1)),c.shadowColor="rgba(0, 0, 0, 0.3)",c.shadowBlur=30,c.shadowOffsetX=10,c.shadowOffsetY=10,c.fillStyle="white",c.fillRect(-w/2,-_/2,w,_),c.shadowColor="transparent";const he=-R/2,le=-_/2+(w-R)/2;c.drawImage(P,he,le,R,D),c.fillStyle="#222",c.font='80px "Permanent Marker"',c.textAlign="center";const ye=_/2-50;c.fillText(k,0,ye),c.restore()}return u.toDataURL("image/jpeg",.9)},_v=({decade:t,imageState:e,onRegenerate:o,targetAspectRatio:s,dragConstraints:l,initialPosition:u,isMobile:c=!1})=>{const h=Pb(),[m,d]=L.useState(s);L.useEffect(()=>{if((e==null?void 0:e.status)==="done"&&e.url){const k=new Image;k.onload=()=>{d(k.naturalWidth/k.naturalHeight)},k.src=e.url}else d(s)},[e,s]);const v=()=>{e.status==="done"&&h.start({x:[0,-10,10,-10,10,0],rotate:[0,-5,5,-5,5,0],transition:{duration:.5}})},T=()=>{switch(e==null?void 0:e.status){case"pending":return S.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-800",children:[S.jsx(vn,{className:"w-10 h-10 text-gray-400"}),S.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"Generating..."})]});case"error":return S.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-red-900/50 p-2 text-center",children:[S.jsx("p",{className:"text-red-300 text-xs font-bold mb-2",children:"Generation Failed"}),S.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-white bg-red-600/80 px-2 py-1 rounded-full text-xs hover:bg-red-500",children:[S.jsx(pr,{className:"w-3 h-3"}),"Retry"]})]});case"done":return S.jsxs(Lt.div,{className:"relative w-full h-full",children:[S.jsx(Lt.img,{src:e.url,alt:`Generated image for ${t}`,className:"w-full h-full object-cover",initial:{filter:"sepia(1) contrast(0.5) brightness(0.7)",opacity:.8},animate:{filter:"sepia(0) contrast(1) brightness(1)",opacity:1},transition:{duration:1.5,ease:"easeOut",delay:.5}},e.url),S.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-1000",style:{animation:"developing 1.5s ease-out forwards"}}),S.jsx("style",{children:`
                            @keyframes developing {
                                0% { opacity: 0.6; }
                                100% { opacity: 0; }
                            }
                        `})]});default:return null}},C=(k=>{const U=.6666666666666666,J=1.5/1;return Math.max(U,Math.min(J,k))})(m);if(c)return S.jsxs("div",{className:"w-full bg-[#fdf5e6] p-3 rounded-lg shadow-lg font-['Permanent_Marker'] text-gray-800 flex flex-col gap-3",children:[S.jsx("div",{className:"w-full bg-gray-300 shadow-inner overflow-hidden",style:{aspectRatio:C},children:T()}),S.jsxs("div",{className:"flex justify-between items-center px-1",children:[S.jsx("p",{className:"text-2xl",children:t}),(e==null?void 0:e.status)!=="pending"&&S.jsx("button",{onClick:o,className:"p-2 bg-gray-200/50 rounded-full hover:bg-gray-300 active:scale-90 transition-transform",children:S.jsx(pr,{className:"w-5 h-5"})})]})]});const w=250,D=(w-12*2)/C,P=D+60;return S.jsx(Lt.div,{className:"absolute cursor-grab active:cursor-grabbing group",style:{top:u==null?void 0:u.top,left:u==null?void 0:u.left,width:w,height:P},initial:{opacity:0,scale:.5,y:100,rotate:0},animate:{opacity:1,scale:1,y:0,rotate:(u==null?void 0:u.rotate)||0},transition:{type:"spring",stiffness:100,damping:20},drag:!0,dragConstraints:l,dragElastic:.1,whileHover:{scale:1.05,zIndex:10},whileTap:{scale:.95,zIndex:10},onDoubleClick:o,onHoverStart:v,children:S.jsxs(Lt.div,{className:"w-full h-full bg-[#fdf5e6] p-3 rounded-lg shadow-lg font-['Permanent_Marker'] text-gray-800 flex flex-col",animate:h,children:[S.jsx("div",{className:"w-full bg-gray-300 shadow-inner overflow-hidden",style:{height:`${D}px`},children:T()}),S.jsx("div",{className:"flex-grow flex items-center justify-center pt-2",children:S.jsx("p",{className:"text-2xl",children:t})}),(e==null?void 0:e.status)!=="pending"&&S.jsx(Lt.div,{className:"absolute -bottom-2 -right-2 text-xs text-white bg-gray-700/80 px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:"Double-click to retry"})]})})},pa=["1950s","1960s","1970s","1980s","1990s","2000s"],sI=[{top:"5%",left:"10%",rotate:-8},{top:"8%",left:"55%",rotate:12},{top:"38%",left:"0%",rotate:5},{top:"42%",left:"65%",rotate:-5},{top:"65%",left:"20%",rotate:15},{top:"70%",left:"50%",rotate:-10}],aI=()=>{const[t,e]=L.useState("idle"),[o,s]=L.useState(null),[l,u]=L.useState({}),[c,h]=L.useState(!1),[m,d]=L.useState(null),[v,T]=L.useState(1),[x,C]=L.useState(null),w=L.useRef(null),_=L.useRef(null),R=B=>{if(!B.type.startsWith("image/")){d("Please upload a valid image file (PNG, JPEG, WEBP).");return}d(null);const $=new FileReader;$.onload=j=>{var le;const te=(le=j.target)==null?void 0:le.result;s(te),e("image-uploaded");const he=new Image;he.onload=()=>{const ye=he.naturalWidth/he.naturalHeight;T(ye);let Qe=224/ye;Qe=Math.max(150,Math.min(400,Qe));const ne=Qe+32+24;C(`${ne}px`)},he.src=te},$.readAsDataURL(B)},D=B=>{var $;($=B.target.files)!=null&&$[0]&&R(B.target.files[0])},V=()=>{e("idle"),s(null),u({}),h(!1),d(null),T(1),C(null)},P=async B=>{if(o){u($=>({...$,[B]:{status:"pending"}}));try{const $=`Reimagine the person in this photo in the style of the ${B}. This includes clothing, hairstyle, photo quality, and the overall aesthetic of that decade. The output must be a photorealistic image showing the person clearly.`,j=await ID(o,$);u(te=>({...te,[B]:{status:"done",url:j}}))}catch($){console.error(`Failed to generate image for ${B}:`,$);const j=$ instanceof Error?$.message:"An unknown error occurred.";u(te=>({...te,[B]:{status:"error",error:j}}))}}},k=async()=>{if(!o)return;h(!0),d(null),e("generating");const B={};pa.forEach(le=>{B[le]={status:"pending"}}),u(B);const $=2,j=[...pa],te=async()=>{const le=j.shift();le&&await P(le)},he=Array($).fill(null).map(te);await Promise.all(he.map(async le=>{for(;j.length>0;)await te()})),h(!1),e("results-shown")},U=async()=>{h(!0);try{const B=await oI(l,pa),$=document.createElement("a");$.href=B,$.download="past-forward-album.jpg",$.click()}catch(B){console.error("Failed to create album",B),d(B instanceof Error?B.message:"Could not create album file.")}finally{h(!1)}},J=Object.values(l).every(B=>B.status==="done"||B.status==="error");return S.jsxs("div",{className:"w-full flex flex-col items-center justify-center text-center p-4 min-h-[80vh] font-['Roboto'] relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-black opacity-80 -z-20"}),S.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:36px_36px] -z-10"}),S.jsxs(or,{mode:"wait",children:[(t==="idle"||t==="image-uploaded")&&S.jsxs(Lt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5,ease:"easeInOut"},className:"flex flex-col items-center gap-4",children:[S.jsx("h1",{className:"font-['Caveat'] text-7xl md:text-9xl font-bold text-white tracking-wider",children:"Past Forward"}),S.jsx("p",{className:"text-gray-300 text-lg md:text-2xl -mt-4",children:"Travel through time with your photos."}),S.jsx("div",{className:"w-64 mt-8 bg-[#fdf5e6] rounded-lg shadow-2xl p-4 flex flex-col justify-center cursor-pointer group transition-all duration-300 ease-in-out",style:{height:x??"20rem"},onClick:()=>{var B;return(B=w.current)==null?void 0:B.click()},children:o?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:o,alt:"Uploaded",className:"w-full h-auto object-contain",style:{maxHeight:"400px"}}),S.jsx("p",{className:"font-bold text-center pt-4 font-['Permanent_Marker'] text-gray-700",children:"Click to Change"})]}):S.jsxs("div",{className:"text-center text-gray-700",children:[S.jsx(Ra,{className:"w-12 h-12 mx-auto text-gray-500"}),S.jsx("p",{className:"font-bold mt-2 font-['Permanent_Marker']",children:"Click to Start"})]})}),S.jsx("input",{ref:w,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:D}),t==="image-uploaded"&&S.jsxs("div",{className:"flex gap-4 mt-4",children:[S.jsx("button",{onClick:()=>{var B;return(B=w.current)==null?void 0:B.click()},className:"text-gray-300 hover:text-white underline",children:"Change Photo"}),S.jsx("button",{onClick:k,className:"px-8 py-3 bg-[#fecb2e] text-black font-['Permanent_Marker'] text-xl rounded-full shadow-lg hover:scale-105 transition-transform",children:"GENERATE"})]})]},"upload"),(t==="generating"||t==="results-shown")&&S.jsxs(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"w-full h-full flex flex-col items-center",children:[S.jsx("h2",{className:"font-['Caveat'] text-5xl md:text-6xl font-bold text-white tracking-wider my-4",children:"Your Trip Through Time"}),S.jsx("div",{ref:_,className:"relative z-0 w-full max-w-5xl h-[600px] mt-4 hidden md:block",children:pa.map((B,$)=>S.jsx(_v,{decade:B,imageState:l[B],onRegenerate:()=>P(B),dragConstraints:_,initialPosition:sI[$],targetAspectRatio:v},B))}),S.jsx("div",{className:"w-full max-w-sm px-4 md:hidden",children:S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 mt-4",children:pa.map(B=>S.jsx(_v,{decade:B,imageState:l[B],onRegenerate:()=>P(B),targetAspectRatio:v,isMobile:!0},B))})}),S.jsxs("div",{className:"relative z-10 mt-8 flex flex-col md:flex-row items-center gap-4",children:[S.jsx("button",{onClick:V,className:"text-gray-300 hover:text-white underline",children:"Start Over"}),t==="results-shown"&&J&&S.jsxs("button",{onClick:U,disabled:c,className:"px-8 py-3 bg-[#fecb2e] text-black font-['Permanent_Marker'] text-xl rounded-full shadow-lg hover:scale-105 transition-transform flex items-center gap-2 disabled:bg-yellow-700 disabled:cursor-not-allowed",children:[c?S.jsx(vn,{className:"w-6 h-6"}):S.jsx(bd,{className:"w-6 h-6"}),"Download Album"]})]})]},"results")]}),m&&S.jsx("div",{className:"absolute bottom-4 bg-red-500/80 text-white px-4 py-2 rounded-lg text-sm",children:m})]})},bv={6:["Vintage Polaroid photo with faded colors and light leaks.","Vibrant Japanese anime style with bold outlines and cel-shading.","High-contrast, dramatic black and white film noir aesthetic.","80s synthwave aesthetic with neon magenta and cyan glows, and subtle scan lines.","Impressionist oil painting with visible, heavy brushstrokes.","Futuristic cyberpunk scene with glowing neon lights and rain-slicked streets."],8:["Vintage Polaroid photo with faded colors and light leaks.","Vibrant Japanese anime style with bold outlines and cel-shading.","High-contrast, dramatic black and white film noir aesthetic.","80s synthwave aesthetic with neon magenta and cyan glows, and subtle scan lines.","Impressionist oil painting with visible, heavy brushstrokes.","Futuristic cyberpunk scene with glowing neon lights and rain-slicked streets.","Double exposure effect, blending the subject with a forest landscape.","Surrealism inspired by Salvador Dal, with dreamlike elements."],10:["Vintage Polaroid photo with faded colors and light leaks.","Vibrant Japanese anime style with bold outlines and cel-shading.","High-contrast, dramatic black and white film noir aesthetic.","80s synthwave aesthetic with neon magenta and cyan glows, and subtle scan lines.","Impressionist oil painting with visible, heavy brushstrokes.","Futuristic cyberpunk scene with glowing neon lights and rain-slicked streets.","Double exposure effect, blending the subject with a forest landscape.","Surrealism inspired by Salvador Dal, with dreamlike elements.","Art Deco poster style with geometric shapes and gold accents.","Lomography-style cross-processing film effect with high-contrast, oversaturated colors, and dark vignetting."]},Mv=[{name:"Energetic Electro",url:"https://huggingface.co/spaces/aigenai/noconb/resolve/main/Rock-Guitar-Power.mp3"}],Ux=async(t,e,o=1)=>{try{return await ND(t,e)}catch(s){if(o>0)return console.warn(`Image generation failed, retrying... (${o} attempts left)`),await new Promise(l=>setTimeout(l,1e3)),Ux(t,e,o-1);throw s}},lI=(t,e)=>Math.random()*(e-t)+t,rI=()=>{const[t,e]=L.useState("idle"),[o,s]=L.useState(null),[l,u]=L.useState(null),[c,h]=L.useState(6),[m,d]=L.useState(bv[6]),[v,T]=L.useState(Mv[0].url),[x,C]=L.useState(null),[w,_]=L.useState(null),[R,D]=L.useState("ken-burns"),[V,P]=L.useState({}),[k,U]=L.useState(null),[J,B]=L.useState(null),[$,j]=L.useState(null),[te,he]=L.useState(null),le=L.useRef(null),[ye,ze]=L.useState(null);L.useEffect(()=>{d(bv[c])},[c]),L.useEffect(()=>()=>{x&&URL.revokeObjectURL(x)},[x]),L.useEffect(()=>{if($){const F=setTimeout(()=>{j(null)},5e3);return()=>clearTimeout(F)}},[$]);const Qe=F=>{const Z=F==null?void 0:F[0];if(Z){if(!Z.type.startsWith("image/")){B("Please upload a valid image file (PNG, JPEG, etc.).");return}B(null),s(Z),l&&URL.revokeObjectURL(l),u(URL.createObjectURL(Z)),e("idle"),P({}),U(null)}},O=F=>{const Z=F==null?void 0:F[0];if(!Z)return;if(!Z.type.startsWith("audio/")){B("Please upload a valid audio file (MP3, WAV, etc.).");return}B(null),x&&URL.revokeObjectURL(x);const ie=URL.createObjectURL(Z);C(ie),_(Z.name),T(ie)},W=async()=>{if(!o){B("Please upload an image first.");return}e("generating-images"),B(null),j(null),U(null);const F={};for(let Ee=0;Ee<c;Ee++)F[Ee]={status:"pending"};P(F);const Z=3,ie=[...m.entries()],oe=async()=>{if(ie.length===0)return;const[Ee,me]=ie.shift();try{const Ve=await Ux(o,me);P(rt=>({...rt,[Ee]:{status:"done",url:Ve}}))}catch(Ve){console.error(`Failed to generate image for style ${Ee+1}:`,Ve);const rt=Ve instanceof Error?Ve.message:"An unknown error occurred.";P(Xt=>({...Xt,[Ee]:{status:"error",error:rt}}))}},pe=Array(Z).fill(null).map(async()=>{for(;ie.length>0;)await oe()});await Promise.all(pe)},ne=L.useCallback(async F=>{if(e("generating-video"),!F||F.length===0){B("No successful images to create a video from."),e("error");return}let Z=null,ie=null,oe=null;const pe=new Audio(v);try{const Ee=await Promise.all(F.map($e=>new Promise(qe=>{const bt=new Image;bt.crossOrigin="anonymous",bt.onload=()=>qe(bt),bt.onerror=()=>{console.error(`Failed to load image: ${$e}`),qe(bt)},bt.src=$e}))).then($e=>$e.filter(qe=>qe.width>0&&qe.height>0));if(Ee.length===0)throw new Error("All generated images failed to load.");const me=document.createElement("canvas"),Ve=me.getContext("2d");if(!Ve)throw new Error("Could not create canvas context.");const rt=Ee[0],Xt=1280;let Vt=rt.naturalWidth,dt=rt.naturalHeight;if(Vt>Xt||dt>Xt){const $e=Vt/dt;Vt>=dt?(Vt=Xt,dt=Math.round(Vt/$e)):(dt=Xt,Vt=Math.round(dt*$e))}me.width=Vt-Vt%2,me.height=dt-dt%2,pe.crossOrigin="anonymous",await new Promise(($e,qe)=>{pe.oncanplaythrough=()=>$e(!0),pe.onerror=()=>qe(new Error("Failed to load audio file. Please check your network connection.")),pe.load()});const Wn=new AudioContext,Di=Wn.createMediaElementSource(pe),ro=Wn.createMediaStreamDestination();Di.connect(ro);const uo=ro.stream.getAudioTracks()[0],Ii=me.captureStream(30).getVideoTracks()[0],jn=new MediaStream([Ii,uo]);oe=new MediaRecorder(jn,{mimeType:"video/webm"});const Ui=[];oe.ondataavailable=$e=>Ui.push($e.data),oe.onstop=()=>{Z&&clearTimeout(Z),ie&&cancelAnimationFrame(ie);const $e=new Blob(Ui,{type:"video/webm"}),qe=URL.createObjectURL($e);U(qe),e("results-shown"),pe.remove()};const Pi=10*1e3,ee=Pi/Ee.length;oe.start(),pe.play(),Z=window.setTimeout(()=>{console.error("Video generation timed out."),(oe==null?void 0:oe.state)==="recording"&&(oe.stop(),pe.pause(),B("Video generation timed out and was stopped. Please try again."),e("error"))},2e4);let ue=performance.now();const _t=$e=>{try{const qe=$e-ue;if(qe>=Pi){(oe==null?void 0:oe.state)==="recording"&&oe.stop();return}const bt=Math.min(Math.floor(qe/ee),Ee.length-1);if(bt<0){ie=requestAnimationFrame(_t);return}const dn=Ee[bt];if(!dn||dn.width===0){ie=requestAnimationFrame(_t);return}const Li=qe%ee/ee;Ve.fillStyle="black",Ve.fillRect(0,0,me.width,me.height);const Ts=dn.width/dn.height,Vi=me.width/me.height;let Ie,ut;switch(Ts>Vi?(ut=me.height,Ie=ut*Ts):(Ie=me.width,ut=Ie/Ts),R){case"slide":{const Qt=Math.min(Li/.3,1),xn=(ho=>1-Math.pow(1-ho,3))(Qt),$t=bt%2===0;let Sn=0;$t?Sn=-Ie+Ie*xn:Sn=Ie-Ie*xn;const fo=(me.width-Ie)/2+Sn,Mn=(me.height-ut)/2;Ve.drawImage(dn,fo,Mn,Ie,ut);break}case"shake":{const Zt=1.1*(Ie/me.width);if(Ve.save(),Li>.8){const Sn=lI(-25,25);Ve.translate(Sn,0)}const xn=(me.width-Ie*Zt)/2,$t=(me.height-ut*Zt)/2;Ve.drawImage(dn,xn,$t,Ie*Zt,ut*Zt),Ve.restore();break}case"flash":{const Qt=1.1*(Ie/me.width),Zt=(me.width-Ie*Qt)/2,xn=(me.height-ut*Qt)/2;if(Ve.drawImage(dn,Zt,xn,Ie*Qt,ut*Qt),Li<.15){const $t=1-Li/.15;Ve.fillStyle=`rgba(255, 255, 255, ${$t})`,Ve.fillRect(0,0,me.width,me.height)}break}case"ken-burns":default:{const ct=1+Li*.1,Qt=Ie*ct,Zt=ut*ct,xn=(me.width-Qt)/2,$t=(me.height-Zt)/2;Ve.drawImage(dn,xn,$t,Qt,Zt);break}}ie=requestAnimationFrame(_t)}catch(qe){console.error("Error during video frame rendering:",qe),B(qe instanceof Error?qe.message:"An error occurred while rendering the video."),e("error"),(oe==null?void 0:oe.state)==="recording"&&oe.stop(),pe.pause()}};ie=requestAnimationFrame(_t)}catch(Ee){console.error("Video creation failed:",Ee),B(Ee instanceof Error?Ee.message:"Failed to create video."),e("error"),(oe==null?void 0:oe.state)==="recording"&&oe.stop(),pe.pause()}},[v,R]);L.useEffect(()=>{if(t!=="generating-images"||Object.values(V).length===0)return;if(Object.values(V).length===c&&Object.values(V).every(Z=>Z.status!=="pending")){const Z=Object.values(V).filter(ie=>ie.status==="done"&&ie.url);Z.length===0?(B("All image generations failed. Please try again."),e("error")):(Z.length<c&&j("Some images failed to generate, but we will create the video with the successful ones."),ne(Z.map(ie=>ie.url)))}},[V,t,c,ne]);const ve=L.useCallback(()=>{const F=Object.values(V).filter(Z=>Z.status==="done"&&Z.url).map(Z=>Z.url);F.length>0?ne(F):(B("No available images to regenerate the video."),e("error"))},[V,ne]),Se=async F=>{if(le.current){if(ye===F){le.current.pause(),ze(null);return}le.current.paused||le.current.pause(),le.current.src=F;try{await le.current.play(),ze(F),B(null)}catch(Z){console.error("Audio preview failed:",Z),Z.name!=="AbortError"&&B("Audio preview failed: Could not load or browser does not support this audio source."),ze(null)}}},M=t==="generating-images"||t==="generating-video",X=Object.values(V).some(F=>F.status==="done");return S.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 md:p-8 relative",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("h1",{className:"font-['Caveat'] text-5xl md:text-7xl font-bold text-white tracking-wider",children:"BeatSync"}),S.jsx("p",{className:"text-gray-300 text-lg md:text-xl mt-2",children:"Custom stylized image sets, turned into a video with a single click."})]}),S.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[S.jsx("div",{className:"w-full lg:w-1/3 flex-shrink-0",children:S.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 space-y-6 backdrop-blur-sm",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"1. Upload Your Image"}),S.jsx("div",{className:"h-48 w-full border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center bg-gray-900/50 cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{var F;return(F=document.getElementById("beatsync-upload"))==null?void 0:F.click()},children:l?S.jsx("img",{src:l,alt:"upload preview",className:"max-h-full max-w-full object-contain"}):S.jsxs("div",{className:"text-center text-gray-400",children:[S.jsx(Ra,{className:"w-10 h-10 mx-auto"}),S.jsx("p",{className:"mt-2 text-sm",children:"Click or Drag to Upload"})]})}),S.jsx("input",{id:"beatsync-upload",type:"file",className:"hidden",accept:"image/*",onChange:F=>Qe(F.target.files)})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"2. Select Your Beat"}),S.jsxs("div",{className:"space-y-2",children:[Mv.map(F=>S.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all ${v===F.url?"bg-blue-600/30 ring-2 ring-blue-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>T(F.url),children:[S.jsx("button",{onClick:Z=>{Z.stopPropagation(),Se(F.url)},className:"p-2 rounded-full bg-black/20 hover:bg-black/40 mr-3",children:ye===F.url?S.jsx(wv,{className:"w-5 h-5 text-white"}):S.jsx(Av,{className:"w-5 h-5 text-white"})}),S.jsx("span",{className:"font-semibold text-gray-200",children:F.name})]},F.name)),x&&S.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all ${v===x?"bg-blue-600/30 ring-2 ring-blue-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>T(x),children:[S.jsx("button",{onClick:F=>{F.stopPropagation(),Se(x)},className:"p-2 rounded-full bg-black/20 hover:bg-black/40 mr-3",children:ye===x?S.jsx(wv,{className:"w-5 h-5 text-white"}):S.jsx(Av,{className:"w-5 h-5 text-white"})}),S.jsx("span",{className:"font-semibold text-gray-200 truncate pr-2",title:w||"Custom Music",children:w||"Custom Music"})]}),S.jsxs("button",{onClick:()=>{var F;return(F=document.getElementById("music-upload"))==null?void 0:F.click()},className:"w-full flex items-center justify-center gap-2 p-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors text-gray-300",children:[S.jsx(Ra,{className:"w-5 h-5"}),S.jsx("span",{children:"Upload Your Own Music"})]}),S.jsx("input",{id:"music-upload",type:"file",className:"hidden",accept:"audio/*",onChange:F=>O(F.target.files)}),S.jsx("audio",{ref:le,onEnded:()=>ze(null),crossOrigin:"anonymous"})]})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"3. Choose Your Styles"}),S.jsx("div",{className:"flex gap-2 mb-4",children:[6,8,10].map(F=>S.jsxs("button",{onClick:()=>h(F),disabled:M,className:`flex-1 py-2 rounded-md font-semibold transition-all ${c===F?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[F," Images"]},F))}),S.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:m.map((F,Z)=>S.jsxs("div",{className:"bg-gray-700/50 rounded-lg",children:[S.jsxs("button",{className:"w-full flex justify-between items-center p-3 text-left",onClick:()=>he(te===Z?null:Z),children:[S.jsxs("span",{className:"font-semibold text-gray-200 truncate pr-2",children:["Style ",Z+1,": ",F]}),S.jsx(Na,{className:`w-5 h-5 text-gray-400 transition-transform ${te===Z?"rotate-180":""}`})]}),te===Z&&S.jsx("div",{className:"p-3 border-t border-gray-600",children:S.jsx("textarea",{value:F,onChange:ie=>{const oe=[...m];oe[Z]=ie.target.value,d(oe)},disabled:M,className:"w-full bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-sm h-24 resize-none"})})]},Z))})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"4. Select Transitions"}),S.jsxs("div",{className:"relative",children:[S.jsxs("select",{value:R,onChange:F=>D(F.target.value),disabled:M,className:"w-full appearance-none bg-gray-700 border border-gray-600 text-white py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-gray-600 focus:border-gray-500",children:[S.jsx("option",{value:"ken-burns",children:"Ken Burns Zoom"}),S.jsx("option",{value:"shake",children:"Shake"}),S.jsx("option",{value:"flash",children:"Flash"}),S.jsx("option",{value:"slide",children:"Slide"})]}),S.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:S.jsx(Na,{className:"w-5 h-5"})})]})]}),S.jsx("button",{onClick:W,disabled:!o||M,className:"w-full py-4 text-lg font-bold text-white rounded-lg bg-gradient-to-br from-purple-600 to-blue-500 hover:from-purple-500 hover:to-blue-400 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-blue-500/50",children:M?"Generating...":"Generate Images & Video"})]})}),S.jsx("div",{className:"w-full lg:w-2/3 flex items-center justify-center bg-black/30 border border-gray-700 rounded-xl min-h-[60vh] p-4",children:S.jsxs(or,{mode:"wait",children:[t==="idle"&&S.jsxs(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-gray-400",children:[S.jsx("p",{className:"text-2xl font-semibold",children:"Your video will appear here"}),S.jsx("p",{children:"Complete the steps on the left to begin"})]},"idle"),(t==="generating-images"||t==="generating-video")&&S.jsx(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full flex flex-col items-center justify-center",children:t==="generating-video"?S.jsxs("div",{className:"text-center",children:[S.jsx(vn,{className:"w-16 h-16 text-blue-400"}),S.jsx("p",{className:"text-xl font-semibold mt-4 text-gray-300",children:"Compositing video..."}),S.jsx("p",{className:"text-sm text-gray-400",children:"This might take a moment"})]}):S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 w-full",children:Object.entries(V).map(([F,Z])=>S.jsxs(Lt.div,{className:"aspect-square bg-gray-800 rounded-lg flex items-center justify-center overflow-hidden",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:parseInt(F)*.1},children:[Z.status==="pending"&&S.jsx(vn,{className:"w-8 h-8 text-gray-500"}),Z.status==="done"&&Z.url&&S.jsx("img",{src:Z.url,className:"w-full h-full object-cover"}),Z.status==="error"&&S.jsx("div",{className:"text-center p-2 text-red-400 text-xs",children:"Failed"})]},F))})},"gen"),t==="results-shown"&&k&&S.jsxs(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full max-w-2xl text-center",children:[S.jsx("video",{src:k,controls:!0,autoPlay:!0,loop:!0,className:"w-full max-w-full max-h-[60vh] h-auto rounded-lg shadow-2xl shadow-black mb-4 bg-black"}),S.jsxs("div",{className:"flex items-center justify-center gap-4",children:[S.jsxs("a",{href:k,download:"beatsync-video.webm",className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-500 transition-colors",children:[S.jsx(bd,{className:"w-6 h-6"}),"Download Video"]}),S.jsxs("button",{onClick:ve,disabled:M||!X,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-500 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:[S.jsx(pr,{className:"w-6 h-6"}),"Regenerate Video"]})]})]},"results"),t==="error"&&J&&S.jsxs(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-red-400 bg-red-900/50 p-6 rounded-lg",children:[S.jsx("p",{className:"text-xl font-bold",children:"An Error Occurred"}),S.jsx("p",{children:J})]},"error")]})})]}),S.jsx(or,{children:$&&S.jsx(Lt.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",stiffness:200,damping:20},className:"fixed bottom-6 right-6 z-50 bg-yellow-400/90 text-black px-5 py-3 rounded-lg shadow-2xl backdrop-blur-sm",children:S.jsx("p",{className:"font-semibold",children:$})})})]})},cf=9,uI=({onTemplateSelect:t})=>{const[e,o]=L.useState([]),[s,l]=L.useState(!0),[u,c]=L.useState(null),[h,m]=L.useState(1),[d,v]=L.useState("");L.useEffect(()=>{(async()=>{l(!0);try{const D=await fetch("./templates.json");if(!D.ok)throw new Error("Failed to load templates.");const V=await D.json();o(V)}catch(D){c(D instanceof Error?D.message:"An unknown error occurred.")}finally{l(!1)}})()},[]),L.useEffect(()=>{m(1)},[d]);const T=e.filter(R=>R.name.toLowerCase().includes(d.toLowerCase())||R.prompt.toLowerCase().includes(d.toLowerCase())),x=Math.ceil(T.length/cf),C=(h-1)*cf,w=T.slice(C,C+cf),_=R=>{R>=1&&R<=x&&m(R)};return s?S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(vn,{})}):u?S.jsx("div",{className:"text-center text-red-400 bg-red-900/50 p-6 rounded-lg",children:u}):S.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4 md:p-8 animate-fade-in",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("h2",{className:"text-5xl md:text-7xl font-bold text-wgreen-500 tracking-wider",children:"Awesome Nano Banana"}),S.jsx("p",{className:"text-gray-300 text-lg md:text-xl mt-2",children:"Awesome Prompts Library"})]}),S.jsx("div",{className:"mb-8 w-full max-w-2xl mx-auto",children:S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:S.jsx(FD,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{type:"text",value:d,onChange:R=>v(R.target.value),placeholder:"Search templates by name or prompt...",className:"block w-full bg-gray-800/50 border border-gray-700 rounded-xl py-3 pl-11 pr-4 text-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 focus:outline-none transition-colors"})]})}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:w.length>0?w.map(R=>S.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:border-blue-500/50 hover:-translate-y-1",onClick:()=>t(R.baseUrl,R.prompt),children:S.jsxs("div",{className:"cursor-pointer",children:[S.jsx("div",{className:"aspect-video bg-gray-900 overflow-hidden",children:S.jsx("img",{src:R.baseUrl,alt:R.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),S.jsxs("div",{className:"p-4",children:[S.jsx("h3",{className:"text-xl font-bold text-white truncate",children:R.name}),S.jsx("p",{className:"text-gray-400 mt-2 text-sm h-20 overflow-hidden text-ellipsis",children:R.prompt})]})]})},R.id)):S.jsx("div",{className:"col-span-full text-center py-16",children:S.jsxs("p",{className:"text-gray-400 text-lg",children:['No templates found matching "',S.jsx("span",{className:"font-semibold text-white",children:d}),'".']})})}),x>1&&S.jsxs("div",{className:"flex justify-center items-center gap-4 mt-12",children:[S.jsx("button",{onClick:()=>_(h-1),disabled:h===1,className:"px-4 py-2 bg-gray-700 text-white rounded-lg disabled:opacity-50 transition-colors hover:bg-gray-600",children:"Previous"}),S.jsxs("span",{className:"text-gray-300",children:["Page ",h," of ",x]}),S.jsx("button",{onClick:()=>_(h+1),disabled:h===x,className:"px-4 py-2 bg-gray-700 text-white rounded-lg disabled:opacity-50 transition-colors hover:bg-gray-600",children:"Next"})]})]})},Rv=(t,e)=>{const o=t.split(",");if(o.length<2)throw new Error("Invalid data URL");const s=o[0].match(/:(.*?);/);if(!s||!s[1])throw new Error("Could not parse MIME type from data URL");const l=s[1],u=atob(o[1]);let c=u.length;const h=new Uint8Array(c);for(;c--;)h[c]=u.charCodeAt(c);return new File([h],e,{type:l})};function cI(t,e,o){const s=document.createElement("canvas");s.width=e.width,s.height=e.height;const l=s.getContext("2d");if(!l)return Promise.reject(new Error("Failed to get canvas context"));const u=t.naturalWidth/t.width,c=t.naturalHeight/t.height;return l.drawImage(t,e.x*u,e.y*c,e.width*u,e.height*c,0,0,e.width,e.height),new Promise(h=>{s.toBlob(m=>{m&&h(new File([m],o,{type:"image/png"}))},"image/png")})}const Px=15,fI=Px*1024*1024,dI={adjust:"Adjust",filters:"Filters",texture:"Texture",erase:"Erase",crop:"Crop",fusion:"Fusion",retouch:"Retouch"},hI=["adjust","filters","texture","erase","crop","fusion","retouch"],mI=({onFileSelect:t,onImageGenerated:e,initialState:o,onInitialStateConsumed:s,onTemplateSelect:l,onShowTemplateLibrary:u})=>{var Ui,Pi;const[c,h]=L.useState([]),[m,d]=L.useState(-1),[v,T]=L.useState(!1),[x,C]=L.useState(null),[w,_]=L.useState("adjust"),[R,D]=L.useState(!1),[V,P]=L.useState(null),[k,U]=L.useState(),[J,B]=L.useState(null),[$,j]=L.useState(null),te=L.useRef(null),[he,le]=L.useState(),[ye,ze]=L.useState(),[Qe,O]=L.useState(),[W,ne]=L.useState(""),[ve,Se]=L.useState(null),M=c[m],X=c[0];L.useEffect(()=>{(async()=>{if(o){T(!0),C(null);try{const ue=await fetch(o.baseImageUrl);if(!ue.ok)throw new Error("Could not load the template image.");const _t=await ue.blob(),$e=o.baseImageUrl.split("/").pop()||"template.png",qe=new File([_t],$e,{type:_t.type});h([qe]),d(0),_("adjust"),U(o.prompt),P(null)}catch(ue){C(ue instanceof Error?ue.message:"Error loading template."),h([]),d(-1)}finally{T(!1),s()}}})()},[o,s]),L.useEffect(()=>{if(!M){B(null);return}const ee=URL.createObjectURL(M);return B(ee),()=>URL.revokeObjectURL(ee)},[M]),L.useEffect(()=>{if(!X){j(null);return}const ee=URL.createObjectURL(X);return j(ee),()=>URL.revokeObjectURL(ee)},[X]);const F=R?$:J,Z=ee=>{const ue=c.slice(0,m+1);ue.push(ee),h(ue),d(ue.length-1),le(void 0),ze(void 0),Se(null)},ie=ee=>{if(ee&&ee.length>0){const ue=ee[0];if(ue.size>fI){C(`Image file size cannot exceed ${Px}MB. Please select a smaller file.`);return}h([ue]),d(0),_("adjust"),C(null),P(null),t(ee)}},oe=ee=>{T(!0);try{const ue=Rv(ee,`generated-${Date.now()}.png`);h([ue]),d(0),_("adjust"),C(null),P(null),e(ee)}catch(ue){console.error("Failed to process generated image",ue),C(ue instanceof Error?ue.message:"Error processing generated image")}finally{T(!1)}},pe=L.useCallback(()=>{m>0&&d(m-1)},[m]),Ee=L.useCallback(()=>{m<c.length-1&&d(m+1)},[m,c.length]),me=L.useCallback(()=>{h([]),d(-1),P(null),le(void 0),ze(void 0),Se(null),ne("")},[]),Ve=L.useCallback(()=>{if(M){const ee=document.createElement("a");ee.href=URL.createObjectURL(M);const ue=M.name.substring(0,M.name.lastIndexOf("."))||"image";ee.download=`${ue}-edited.png`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(ee.href)}},[M]);L.useEffect(()=>{const ee=ue=>{v||!M||(ue.ctrlKey||ue.metaKey)&&(ue.key==="z"?(ue.preventDefault(),pe()):ue.key==="y"?(ue.preventDefault(),Ee()):ue.key==="s"&&(ue.preventDefault(),Ve()))};return window.addEventListener("keydown",ee),()=>{window.removeEventListener("keydown",ee)}},[v,M,pe,Ee,Ve]);const rt=async ee=>{T(!0),C(null),Se(null);try{const ue=await ee(),_t=Rv(ue,`edit-${Date.now()}.png`);Z(_t)}catch(ue){console.error(ue),C(ue instanceof Error?ue.message:"An unknown error occurred.")}finally{T(!1)}},Xt=ee=>{P({type:"filters",prompt:ee}),rt(()=>vv(M,ee))},Vt=ee=>{P({type:"adjust",prompt:ee}),rt(()=>Tv(M,ee))},dt=(ee,ue)=>{P({type:"fusion",prompt:ue,sourceImages:ee}),rt(()=>Ev(M,ee,ue))},Wn=ee=>{P({type:"texture",prompt:ee}),rt(()=>xv(M,ee))},Di=()=>{P({type:"erase"}),rt(()=>Sv(M))},ro=async()=>{if(ye!=null&&ye.width&&(ye!=null&&ye.height)&&te.current){T(!0),C(null);try{const ee=await cI(te.current,ye,`crop-${Date.now()}.png`);Z(ee),P(null)}catch(ee){console.error("Cropping failed",ee),C(ee instanceof Error?ee.message:"Error cropping image")}finally{T(!1)}}},uo=ee=>{if(w!=="retouch"||!te.current)return;const ue=te.current.getBoundingClientRect(),_t=te.current.naturalWidth/ue.width,$e=te.current.naturalHeight/ue.height,qe=Math.round((ee.clientX-ue.left)*_t),bt=Math.round((ee.clientY-ue.top)*$e);Se({x:qe,y:bt})},co=()=>{W&&ve&&(P({type:"retouch",prompt:W,hotspot:ve}),rt(()=>yv(M,W,ve)),ne(""))},Ii=L.useCallback(()=>{if(!V||m<1||v)return;const ee=c[m-1];let ue=null;switch(V.type){case"retouch":ue=()=>yv(ee,V.prompt,V.hotspot);break;case"adjust":ue=()=>Tv(ee,V.prompt);break;case"filters":ue=()=>vv(ee,V.prompt);break;case"texture":ue=()=>xv(ee,V.prompt);break;case"erase":ue=()=>Sv(ee);break;case"fusion":ue=()=>Ev(ee,V.sourceImages,V.prompt);break}ue&&(d(m-1),rt(ue))},[V,c,m,v]),jn=()=>S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:me,disabled:v,className:"p-3 bg-white/10 rounded-full text-gray-300 hover:bg-white/20 transition-all active:scale-90 disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"New Image",title:"New Image",children:S.jsx(GD,{className:"w-6 h-6"})}),S.jsx("button",{onClick:pe,disabled:m<=0||v,className:"p-3 bg-white/10 rounded-full text-gray-300 hover:bg-white/20 transition-all active:scale-90 disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"Undo",title:"Undo (Ctrl+Z)",children:S.jsx(UD,{className:"w-6 h-6"})}),S.jsx("button",{onClick:Ee,disabled:m>=c.length-1||v,className:"p-3 bg-white/10 rounded-full text-gray-300 hover:bg-white/20 transition-all active:scale-90 disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"Redo",title:"Redo (Ctrl+Y)",children:S.jsx(PD,{className:"w-6 h-6"})}),S.jsx("button",{onClick:Ii,disabled:!V||m<1||v,className:"p-3 bg-white/10 rounded-full text-gray-300 hover:bg-white/20 transition-all active:scale-90 disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"Regenerate",title:"Regenerate",children:S.jsx(pr,{className:"w-6 h-6"})}),S.jsx("button",{onMouseDown:()=>D(!0),onMouseUp:()=>D(!1),onMouseLeave:()=>D(!1),onTouchStart:()=>D(!0),onTouchEnd:()=>D(!1),disabled:v||c.length<2,className:"p-3 bg-white/10 rounded-full text-gray-300 hover:bg-white/20 transition-all active:scale-90 disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"Hold to compare with original",title:"Hold to compare with original",children:S.jsx(LD,{className:"w-6 h-6"})}),S.jsx("button",{onClick:Ve,disabled:v||!M,className:"p-3 bg-white/10 rounded-full text-gray-300 hover:bg-white/20 transition-all active:scale-90 disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"Save Image",title:"Save Image (Ctrl+S)",children:S.jsx(bd,{className:"w-6 h-6"})})]});return S.jsxs(S.Fragment,{children:[x&&S.jsxs("div",{className:"w-full max-w-4xl bg-red-500/20 border border-red-500 text-red-300 px-4 py-3 rounded-lg relative text-center mb-4 animate-fade-in",role:"alert",children:[S.jsx("strong",{className:"font-bold",children:"Error: "}),S.jsx("span",{className:"block sm:inline ml-2",children:x})]}),M?S.jsxs("div",{className:"w-full max-w-7xl flex flex-col items-center gap-6 animate-fade-in",children:[S.jsxs("div",{className:"w-full max-w-4xl relative",children:[S.jsxs("div",{className:"bg-black rounded-lg shadow-2xl shadow-blue-500/10 overflow-hidden border border-gray-700",children:[v&&S.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-20 backdrop-blur-sm",children:[S.jsx(vn,{className:"h-16 w-16 text-blue-400"}),S.jsx("p",{className:"mt-4 text-lg text-gray-300 font-semibold animate-pulse",children:"AI is creating..."})]}),F&&S.jsxs("div",{className:"relative",children:[S.jsx(Hb,{crop:he,onChange:ee=>le(ee),onComplete:ee=>ze(ee),aspect:Qe,disabled:v||w!=="crop",ruleOfThirds:!0,children:S.jsx("img",{ref:te,src:F,alt:"User-uploaded content",className:`max-w-full max-h-[65vh] w-auto h-auto mx-auto block transition-opacity duration-300 ${R?"opacity-80":""}`,onClick:uo,style:{cursor:w==="retouch"?"crosshair":"default"}})}),ve&&!v&&w==="retouch"&&S.jsx("div",{className:"absolute z-10 pointer-events-none",style:{left:`calc(${ve.x/(((Ui=te.current)==null?void 0:Ui.naturalWidth)??1)*100}% - 12px)`,top:`calc(${ve.y/(((Pi=te.current)==null?void 0:Pi.naturalHeight)??1)*100}% - 12px)`},children:S.jsx(kD,{className:"w-6 h-6 text-blue-400 drop-shadow-[0_0_3px_rgba(0,0,0,0.7)]"})})]}),R&&S.jsx("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-md text-sm font-semibold z-10",children:"Comparing with Original"})]}),S.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 left-[calc(100%+1rem)] 
                            flex-col gap-4 p-3 bg-gray-800/50 backdrop-blur-md rounded-2xl border border-gray-700/50
                            hidden md:flex`,children:S.jsx(jn,{})})]}),S.jsx("div",{className:"flex md:hidden justify-center items-center gap-4",children:S.jsx(jn,{})}),S.jsxs("div",{className:"w-full max-w-4xl",children:[S.jsx("div",{className:"flex justify-center border-b border-gray-700 mb-4 overflow-x-auto",children:hI.map(ee=>S.jsx("button",{onClick:()=>{v||(_(ee),Se(null))},className:`px-4 md:px-6 py-3 text-lg font-semibold border-b-2 transition-colors duration-200 ease-in-out focus:outline-none disabled:cursor-not-allowed whitespace-nowrap ${w===ee?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-white hover:border-gray-500"}`,disabled:v,children:dI[ee]},ee))}),S.jsxs("div",{className:"w-full",children:[w==="retouch"&&S.jsxs("div",{className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col items-center gap-4 animate-fade-in backdrop-blur-sm",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Smart Retouch"}),S.jsx("p",{className:"text-sm text-gray-400 -mt-2",children:"Click a point on the image, then describe the change you want to make."}),S.jsxs("div",{className:"w-full flex gap-2",children:[S.jsx("input",{type:"text",value:W,onChange:ee=>ne(ee.target.value),placeholder:"e.g., 'remove this object' or 'change shirt to red'",className:"flex-grow bg-gray-800 border border-gray-600 text-gray-200 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:outline-none transition w-full disabled:cursor-not-allowed disabled:opacity-60 text-base",disabled:v}),S.jsx("button",{onClick:co,className:"bg-gradient-to-br from-blue-600 to-blue-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-300 ease-in-out shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/40 hover:translate-y-px active:scale-95 active:shadow-inner text-base disabled:from-blue-800 disabled:to-blue-700 disabled:shadow-none disabled:cursor-not-allowed disabled:transform-none",disabled:v||!W.trim()||!ve,children:"Apply"})]})]}),w==="adjust"&&S.jsx(KD,{onApplyAdjustment:Vt,isLoading:v,currentImage:M,onError:C,initialPrompt:k}),w==="filters"&&S.jsx(JD,{onApplyFilter:Xt,isLoading:v,currentImage:M,onError:C}),w==="texture"&&S.jsx($D,{onApplyTexture:Wn,isLoading:v,currentImage:M,onError:C}),w==="erase"&&S.jsx(WD,{onRemoveBackground:Di,isLoading:v}),w==="crop"&&S.jsx(XD,{onApplyCrop:ro,onSetAspect:O,isLoading:v,isCropping:!!(ye!=null&&ye.width)&&!!(ye!=null&&ye.height)}),w==="fusion"&&S.jsx(ZD,{onApplyFusion:dt,isLoading:v,onError:C})]})]})]}):S.jsx(tI,{onFileSelect:ie,onImageGenerated:oe,onTemplateSelect:l,onShowTemplateLibrary:u,isLoading:v})]})},pI=({activeView:t,editorInitialState:e,handleFileSelect:o,handleImageGenerated:s,clearInitialState:l,handleTemplateSelect:u,handleShowTemplateLibrary:c})=>S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center",style:{display:t==="editor"?"flex":"none"},children:S.jsx(mI,{onFileSelect:o,onImageGenerated:s,initialState:e,onInitialStateConsumed:l,onTemplateSelect:u,onShowTemplateLibrary:c})}),t==="past-forward"&&S.jsx(aI,{}),t==="beatsync"&&S.jsx(rI,{}),t==="template-library"&&S.jsx(uI,{onTemplateSelect:u})]}),gI=()=>{const[t,e]=L.useState("editor"),[o,s]=L.useState(!1),[l,u]=L.useState(!1),[c,h]=L.useState(null),[m,d]=L.useState(null),v=(_,R)=>{d({baseImageUrl:_,prompt:R}),e("editor")},T=()=>{e("template-library")},x=L.useCallback(()=>{d(null)},[]),C=()=>{},w=()=>{};return L.useEffect(()=>{if(c){const _=setTimeout(()=>{h(null)},3e3);return()=>clearTimeout(_)}},[c]),S.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[S.jsx(YD,{activeView:t,onViewChange:_=>{_!=="editor"&&d(null),e(_)},onOpenSettings:()=>s(!0),onOpenHelp:()=>u(!0)}),S.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-4 md:p-8",children:S.jsx(pI,{activeView:t,editorInitialState:m,handleFileSelect:C,handleImageGenerated:w,clearInitialState:x,handleTemplateSelect:v,handleShowTemplateLibrary:T})}),S.jsx(jD,{isOpen:o,onClose:()=>s(!1),onSave:()=>h("Settings saved successfully!")}),S.jsx(eI,{isOpen:l,onClose:()=>u(!1)}),S.jsx(or,{children:c&&S.jsx(Lt.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",stiffness:200,damping:20},className:"fixed bottom-6 right-6 z-50 bg-green-500/90 text-white px-5 py-3 rounded-lg shadow-2xl backdrop-blur-sm",children:S.jsx("p",{className:"font-semibold",children:c})})})]})},Lx=document.getElementById("root");if(!Lx)throw new Error("Could not find root element to mount to");const yI=sC.createRoot(Lx);yI.render(S.jsx(Le.StrictMode,{children:S.jsx(gI,{})}));
